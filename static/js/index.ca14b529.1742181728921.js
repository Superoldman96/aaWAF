import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.609fbee0.1742181728921.js";import{_ as t}from"./index.83605657.1742181728921.js";import{_ as a}from"./index.f320ca01.1742181728921.js";import{X as l,d as o,o as n,S as s,U as r,$ as i,B as u,F as c,ac as d,f as p,w as m,c as v,b as y,e as _,P as f,aa as x,_ as h,k as g,W as b,r as w,m as k,u as q,a2 as B,a3 as M}from"./vue.314199b7.1742181728921.js";import{dc as L,_ as I,a3 as S,dd as N,V as U,R as D,S as P,de as A,g as C,o as H,y as R,$ as j,a0 as G,u as z,df as T,az as E,d0 as F,f as V,dg as K,a6 as O,A as $,z as Q,aD as J,aG as W}from"./index.fc641b56.1742181728921.js";import{c as X,_ as Y}from"./index.vue_vue_type_script_setup_true_lang.44cd6b29.1742181728921.js";import{h as Z}from"./color.ec7f8ffd.1742181728921.js";import{a as ee,b as te,c as ae,_ as le}from"./DataTable.762c357a.1742181728921.js";/* empty css                                                                            */import{_ as oe}from"./index.2dfef82f.1742181728921.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang.6f36d91a.1742181728921.js";import{a as se}from"./index.4ad61c61.1742181728921.js";import{a as re,_ as ie}from"./Grid.d5994465.1742181728921.js";import{_ as ue}from"./index.vue_vue_type_script_setup_true_lang.5eb11789.1742181728921.js";import{a as ce}from"./random.bb000beb.1742181728921.js";import{_ as de,a as pe}from"./Checkbox.64335fca.1742181728921.js";import"./RadioButton.7959355d.1742181728921.js";import"./layer.8f9c8930.1742181728921.js";import"./echarts.9897ed27.1742181728921.js";import"./get-slot.a0e67e91.1742181728921.js";import"./utils.d31cac41.1742181728921.js";const me=()=>{const e=L(),{disk:t,timeType:a,chartInfo:o,diskOption:n}=l(e);return{...e,disk:t,timeType:a,chartInfo:o,diskOption:n}},ve={class:"title"},ye={class:"text"},_e=I(o({__name:"title",props:{text:{default:""}},setup:e=>(e,t)=>(n(),s("div",ve,[r("div",ye,i(e.text),1),u(e.$slots,"default",{},void 0,!0)]))}),[["__scopeId","data-v-239bab22"]]),fe={class:"info"},xe={class:"label"},he={class:"value"},ge=I(o({__name:"info",props:{options:{default:()=>[]}},setup:e=>(e,t)=>(n(),s("div",fe,[(n(!0),s(c,null,d(e.options,(e=>(n(),s("div",{key:e.label,class:"cols"},[r("div",xe,i(e.label),1),r("div",he,i(e.value),1)])))),128))]))}),[["__scopeId","data-v-b726e741"]]),be={class:"flex items-center h-110px"},we={class:"name h-full"},ke={class:"flex flex-1 h-full"},qe={class:"flex-1"},Be=I(o({__name:"item",props:{title:{default:""},info:{default:()=>[]}},setup:e=>(e,t)=>(n(),s("div",be,[r("div",we,i(e.title),1),r("div",ke,[r("div",qe,[u(e.$slots,"echarts",{},void 0,!0)]),p(ge,{class:"w-38%",options:e.info},null,8,["options"])])]))}),[["__scopeId","data-v-4019fc86"]]),Me=({name:e="",unit:t="",series:a,callback:l})=>{const o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let a="".concat(e[0].name,"<br/>");for(let l=0;l<e.length;l++){const o=e[l];a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></span>').concat(o.seriesName,": ").concat(o.data," ").concat(t,"<br/>")}return a}},grid:{top:"18%",left:"2%",right:"8%",bottom:"0%",containLabel:!0},yAxis:{name:e,type:"value",nameGap:8,splitNumber:4,splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},xAxis:{},series:[]}),{chartInfo:n,timeType:s}=me(),r=new Map([[1,3],[2,100],[3,1300]]);return m((()=>n.value.timestamp),(e=>{if(0===e)return;const{dates:t,values:i}=l(n.value);o.xAxis={data:t,type:"category",boundaryGap:!1,axisLabel:{formatter:e=>3===s.value?S(new Date(e),"MM-dd"):S(new Date(e),"HH:mm"),interval:r.get(s.value)}},o.series=(e=>a.map((t=>({type:"line",name:t.name,smooth:!0,showSymbol:!1,sampling:"average",data:e[t.key],itemStyle:{color:t.color},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z(t.color,.4)},{offset:.8,color:Z(t.color,0)}]}}}))))(i)}),{immediate:!0}),{options:o}},Le=o({__name:"qps",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.qps;return[{label:"最大值",value:(null==(e=N.maxBy(l,"qps"))?void 0:e.qps)||0},{label:"最小值",value:(null==(a=N.minBy(l,"qps"))?void 0:a.qps)||0},{label:"平均值",value:l.length>0?N.meanBy(l,"qps").toFixed(1):0}]})),{options:l}=Me({series:[{name:"QPS",key:"qps",color:"#20a53a"}],callback:e=>{const t=e.qps,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(e.qps)})),{dates:a,values:{qps:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"QPS每秒请求数",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Ie=o({__name:"back",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.resource_time,o=(null==(e=N.maxBy(l,"resource_time"))?void 0:e.resource_time)||0,n=(null==(a=N.minBy(l,"resource_time"))?void 0:a.resource_time)||0,s=l.length>0?N.meanBy(l,"resource_time").toFixed(1):0;return[{label:"最大值",value:"".concat(o,"ms")},{label:"最小值",value:"".concat(n,"ms")},{label:"平均值",value:"".concat(s,"ms")}]})),{options:l}=Me({unit:"ms",series:[{name:"回源耗时",key:"resource",color:"#20a53a"}],callback:e=>{const t=e.resource_time,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(e.resource_time)})),{dates:a,values:{resource:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"回源耗时",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Se=o({__name:"up",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.website_flow,o=(null==(e=N.maxBy(l,"upload"))?void 0:e.upload)||0,n=(null==(a=N.minBy(l,"upload"))?void 0:a.upload)||0,s=l.length>0?N.meanBy(l,"upload"):0;return[{label:"最大值",value:U(o,!0,1)},{label:"最小值",value:U(n,!0,1)},{label:"平均值",value:U(s,!0,1)}]})),{options:l}=Me({name:"KB",unit:"KB",series:[{name:"网站流量上行",key:"up",color:"#20a53a"}],callback:e=>{const t=e.website_flow,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(Number(U(e.upload,!1,1,"KB")))})),{dates:a,values:{up:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"网站流量上行",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Ne=o({__name:"down",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.website_flow,o=(null==(e=N.maxBy(l,"download"))?void 0:e.download)||0,n=(null==(a=N.minBy(l,"download"))?void 0:a.download)||0,s=l.length>0?N.meanBy(l,"download"):0;return[{label:"最大值",value:U(o,!0,1)},{label:"最小值",value:U(n,!0,1)},{label:"平均值",value:U(s,!0,1)}]})),{options:l}=Me({name:"KB",unit:"KB",series:[{name:"网站流量下行",key:"down",color:"#20a53a"}],callback:e=>{const t=e.website_flow,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(Number(U(e.download,!1,1,"KB")))})),{dates:a,values:{down:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"网站流量下行",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Ue=o({__name:"status",setup(e){const{chartInfo:t}=me(),a=v((()=>{const e=t.value.errcode;if(e.length>0){const t={total_request:0,err_499:0,err_502:0,err_504:0};return e.forEach((e=>{t.total_request+=e.total_request,t.err_499+=e.err_499,t.err_502+=e.err_502,t.err_504+=e.err_504})),[{label:"总请求",value:t.total_request},{label:"499",value:t.err_499},{label:"502",value:t.err_502},{label:"504",value:t.err_504}]}return[{label:"总请求",value:0},{label:"499",value:0},{label:"502",value:0},{label:"504",value:0}]})),{options:l}=Me({series:[{name:"499",key:"err499",color:"#4A55A2"},{name:"502",key:"err502",color:"#7895CB"},{name:"504",key:"err504",color:"#A0BFE0"},{name:"总请求",key:"total",color:"#20a53a"}],callback:e=>{const t=e.errcode,a=[],l=[],o=[],n=[],s=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(e.err_499),o.push(e.err_502),n.push(e.err_504),s.push(e.total_request)})),{dates:a,values:{err499:l,err502:o,err504:n,total:s}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"请求状态码",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),De={class:"flex"},Pe={class:"flex-1"},Ae=o({__name:"index",setup:e=>(e,t)=>{const a=D;return n(),s("div",De,[p(_e,{text:"请求统计"}),r("div",Pe,[p(Le),p(a),p(Ie),p(a),p(Se),p(a),p(Ne),p(a),p(Ue)])])}}),Ce=o({__name:"cpu",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.system,o=(null==(e=N.maxBy(l,"cpu"))?void 0:e.cpu)||0,n=(null==(a=N.minBy(l,"cpu"))?void 0:a.cpu)||0,s=l.length>0?N.meanBy(l,"cpu").toFixed(1):0;return[{label:"最大值",value:"".concat(o,"%")},{label:"最小值",value:"".concat(n,"%")},{label:"平均值",value:"".concat(s,"%")}]})),{options:l}=Me({unit:"%",series:[{name:"CPU",key:"cpu",color:"#20a53a"}],callback:e=>{const t=e.system,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(e.cpu)})),{dates:a,values:{cpu:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"CPU",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),He=o({__name:"memory",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.system,o=(null==(e=N.maxBy(l,"mem"))?void 0:e.mem)||0,n=(null==(a=N.minBy(l,"mem"))?void 0:a.mem)||0,s=l.length>0?N.meanBy(l,"mem").toFixed(1):0;return[{label:"最大值",value:"".concat(o,"%")},{label:"最小值",value:"".concat(n,"%")},{label:"平均值",value:"".concat(s,"%")}]})),{options:l}=Me({unit:"%",series:[{name:"内存",key:"mem",color:"#20a53a"}],callback:e=>{const t=e.system,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(e.mem)})),{dates:a,values:{mem:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"内存",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Re={class:"flex"},je={class:"flex-1"},Ge=o({__name:"index",setup:e=>(e,t)=>{const a=D;return n(),s("div",Re,[p(_e,{text:"主机资源"}),r("div",je,[p(Ce),p(a),p(He)])])}}),ze=o({__name:"capacity",setup(e){const{chartInfo:t}=me(),a=v((()=>{var e,a;const l=t.value.disk,o=(null==(e=N.maxBy(l,"used"))?void 0:e.used)||0,n=(null==(a=N.minBy(l,"used"))?void 0:a.used)||0,s=l.length>0?N.meanBy(l,"used"):0;return[{label:"最大值",value:U(o,!0,1)},{label:"最小值",value:U(n,!0,1)},{label:"平均值",value:U(s,!0,1)}]})),{options:l}=Me({name:"GB",unit:"GB",series:[{name:"磁盘容量",key:"capacity",color:"#20a53a"}],callback:e=>{const t=e.disk,a=[],l=[];return t.forEach((e=>{a.push(0!==e.create_time?S(e.create_time):S(Date.now())),l.push(Number(U(e.used,!1,1,"GB")))})),{dates:a,values:{capacity:l}}}});return(e,t)=>{const o=Y;return n(),y(Be,{title:"磁盘容量",info:f(a)},{echarts:_((()=>[p(o,{type:"line",options:f(l)},null,8,["options"])])),_:1},8,["info"])}}}),Te={class:"flex"},Ee={class:"w-140px mt-8px"},Fe={class:"flex-1"},Ve=o({__name:"index",setup(e){const{disk:t,diskOption:a,getChartData:l}=me(),o=v((()=>{const e=[];return a.value.forEach((t=>{e.push({label:t.mountpoint,value:t.mountpoint})})),e})),i=()=>{l()};return(e,a)=>{const l=ee;return n(),s("div",Te,[p(_e,{text:"磁盘监控"},{default:_((()=>[r("div",Ee,[p(l,{value:f(t),"onUpdate:value":[a[0]||(a[0]=e=>x(t)?t.value=e:null),i],size:"small",options:f(o)},null,8,["value","options"])])])),_:1}),r("div",Fe,[p(ze)])])}}}),Ke={class:"mb-16px"},Oe=o({__name:"index",setup(e){const{timeType:t,getChartData:l,getDiskInfo:o}=me(),i=[{label:"近1小时",value:1},{label:"近24小时",value:2},{label:"近7天",value:3}],u=()=>{l()};return l(),o(),(e,l)=>{const o=a,c=D,d=P;return n(),s("div",null,[p(d,{bordered:!1,"content-style":{padding:0}},{default:_((()=>[r("div",Ke,[p(o,{value:f(t),"onUpdate:value":[l[0]||(l[0]=e=>x(t)?t.value=e:null),u],options:i},null,8,["value"])]),p(Ae),p(c),p(Ge),p(c),p(Ve)])),_:1})])}}}),$e={class:"w-194px"},Qe=o({__name:"site",setup(e){const t=A(),{type:a,form:o,options:r}=l(t),i=new Map([["overview",3],["ip",0],["url",1],["spider",2]]),u=()=>{3===i.get(a.value)?t.getList():t.getBranchList()};return(e,t)=>{const a=ee;return n(),s("div",$e,[p(a,{value:f(o).site_id,"onUpdate:value":[t[0]||(t[0]=e=>f(o).site_id=e),u],filterable:!0,options:f(r),"consistent-menu-width":!1,placeholder:"请选择网站"},null,8,["value","options"])])}}}),Je={key:0,class:"mb-10px text-[14px]"},We={class:"h-260px"},Xe=o({__name:"index",setup(e){const t=A(),{summary:a}=l(t),{options:o}=(()=>{const e=A(),{total:t,form:a}=l(e),o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let t='<div style="margin-bottom: 6px;">'.concat(e[0].seriesName,"</div>");for(let l=0;l<e.length;l++){const o=e[l];t+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===a.value.query_data||0===a.value.contrast_particle?C(Number(o.data.date),"M月dd日 HH:mm"):C(Number(o.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(o.data.value,"</div>\n\t\t\t\t\t</div>")}return t}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max(e){const{max:t}=e;return t?t%5==0?t:t+(5-t%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"总请求数",data:[]},{type:"line",name:"上期总请求数",data:[]}]}),n=new Map([[0,1],[7,24],[30,48]]);return m((()=>t.value),(e=>{const t=e.date,{request:l}=e,{current:s}=l,{old:r}=l;o.xAxis={type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:e=>a.value.query_data>1?C(Number(e),"MM-dd"):C(Number(e),"HH:mm"),interval:0===a.value.contrast_particle?n.get(a.value.query_data):"auto"}},o.series=[{type:"line",name:"总请求数",symbol:"none",sampling:"average",smooth:!0,data:s,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z("#20a53a",.4)},{offset:.8,color:Z("#20a53a",0)}]}}},{type:"line",name:"上期总请求数",symbol:"none",sampling:"average",smooth:!0,data:r,itemStyle:{color:Z("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:o}})(),u=v((()=>a.value.request_total));return(e,t)=>{const a=Y,l=P;return n(),y(l,{class:"h-full"},{default:_((()=>[(n(),s("div",Je,i("总请求数："+f(u)),1)),h("",!0),r("div",We,[p(a,{type:"line",options:f(o)},null,8,["options"])])])),_:1})}}}),Ye={class:"flex items-center mb-10px"},Ze={class:"mr-12px text-[14px]"},et=r("p",null,[r("span",{class:"font-bold"},"概览页IP数："),g("指定时间内每个时间颗粒度的IP数累加")],-1),tt=r("p",{class:"mt-8px"},[r("span",{class:"font-bold"},"IP统计页IP数："),g(" 指定时间内的所有不重复IP数，如各时间颗粒度内有重复IP访问，IP数将比概览页IP数少 ")],-1),at={class:"ml-16px"},lt={class:"h-260px"},ot=o({__name:"index",setup(e){const t=A(),{type:a,summary:o}=l(t),{options:s}=(()=>{const e=A(),{total:t,form:a}=l(e),o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let t='<div style="margin-bottom: 6px;">'.concat(e[0].seriesName,"</div>");for(let l=0;l<e.length;l++){const o=e[l];t+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===a.value.query_data||0===a.value.contrast_particle?C(Number(o.data.date),"M月dd日 HH:mm"):C(Number(o.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(o.data.value,"</div>\n\t\t\t\t\t</div>")}return t}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max(e){const{max:t}=e;return t?t%5==0?t:t+(5-t%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"IP数",data:[]},{type:"line",name:"上期IP数",data:[]}]}),n=new Map([[0,1],[7,24],[30,48]]);return m((()=>t.value),(e=>{const t=e.date,{ip:l}=e,{current:s}=l,{old:r}=l;o.xAxis={type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:e=>a.value.query_data>1?C(Number(e),"MM-dd"):C(Number(e),"HH:mm"),interval:0===a.value.contrast_particle?n.get(a.value.query_data):"auto"}},o.series=[{type:"line",name:"IP数",symbol:"none",sampling:"average",smooth:!0,data:s,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z("#20a53a",.4)},{offset:.8,color:Z("#20a53a",0)}]}}},{type:"line",name:"上期IP数",symbol:"none",sampling:"average",smooth:!0,data:r,itemStyle:{color:Z("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:o}})(),u=()=>{a.value="ip"},c=v((()=>o.value.ip_total));return(e,t)=>{const a=oe,l=H,o=Y,d=P;return n(),y(d,{class:"h-full"},{default:_((()=>[r("div",Ye,[r("div",Ze,i("IP："+f(c)),1),p(a,null,{default:_((()=>[et,tt])),_:1}),h("",!0),r("div",at,[p(l,{onClick:u},{default:_((()=>[g("详情")])),_:1})])]),r("div",lt,[p(o,{type:"line",options:f(s)},null,8,["options"])])])),_:1})}}}),nt={class:"flex items-center mb-10px"},st={class:"mr-16px text-[14px]"},rt={class:"h-220px"},it=o({__name:"index",setup(e){const t=A(),{type:a,summary:o}=l(t),{options:s}=(()=>{const e=A(),{total:t,form:a}=l(e),o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let t='<div style="margin-bottom: 6px;">'.concat(e[0].seriesName,"</div>");for(let l=0;l<e.length;l++){const o=e[l];t+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===a.value.query_data||0===a.value.contrast_particle?C(Number(o.data.date),"M月dd日 HH:mm"):C(Number(o.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(o.data.value,"</div>\n\t\t\t\t\t</div>")}return t}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max(e){const{max:t}=e;return t?t%5==0?t:t+(5-t%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"PV数",data:[]},{type:"line",name:"上期PV数",data:[]}]}),n=new Map([[0,1],[7,24],[30,70]]);return m((()=>t.value),(e=>{const t=e.date,{pv:l}=e,{current:s}=l,{old:r}=l;o.xAxis={type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:e=>a.value.query_data>1?C(Number(e),"MM-dd"):C(Number(e),"HH:mm"),interval:0===a.value.contrast_particle?n.get(a.value.query_data):"auto"}},o.series=[{type:"line",name:"PV数",symbol:"none",sampling:"average",smooth:!0,data:s,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z("#20a53a",.4)},{offset:.8,color:Z("#20a53a",0)}]}}},{type:"line",name:"上期PV数",symbol:"none",sampling:"average",smooth:!0,data:r,itemStyle:{color:Z("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:o}})(),u=()=>{a.value="url"},c=v((()=>o.value.pv_total));return(e,t)=>{const a=H,l=Y,o=P;return n(),y(o,{class:"h-full"},{default:_((()=>[r("div",nt,[r("div",st,i("PV："+f(c)),1),h("",!0),r("div",null,[p(a,{onClick:u},{default:_((()=>[g("详情")])),_:1})])]),r("div",rt,[p(l,{type:"line",options:f(s)},null,8,["options"])])])),_:1})}}}),ut={class:"flex items-center mb-10px"},ct={class:"mr-16px text-[14px]"},dt={class:"h-220px"},pt=o({__name:"index",setup(e){const t=A(),{summary:a}=l(t),{options:o}=(()=>{const e=A(),{total:t,form:a}=l(e),o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let t='<div style="margin-bottom: 6px;">'.concat(e[0].seriesName,"</div>");for(let l=0;l<e.length;l++){const o=e[l];t+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===a.value.query_data||0===a.value.contrast_particle?C(Number(o.data.date),"M月dd日 HH:mm"):C(Number(o.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(o.data.value,"</div>\n\t\t\t\t\t</div>")}return t}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max(e){const{max:t}=e;return t?t%5==0?t:t+(5-t%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"UV数",data:[]},{type:"line",name:"上期UV数",data:[]}]}),n=new Map([[0,1],[7,24],[30,70]]);return m((()=>t.value),(e=>{const t=e.date,{uv:l}=e,{current:s}=l,{old:r}=l;o.xAxis={type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:e=>a.value.query_data>1?C(Number(e),"MM-dd"):C(Number(e),"HH:mm"),interval:0===a.value.contrast_particle?n.get(a.value.query_data):"auto"}},o.series=[{type:"line",name:"UV数",symbol:"none",sampling:"average",smooth:!0,data:s,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z("#20a53a",.4)},{offset:.8,color:Z("#20a53a",0)}]}}},{type:"line",name:"上期UV数",symbol:"none",sampling:"average",smooth:!0,data:r,itemStyle:{color:Z("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:o}})(),s=v((()=>a.value.uv_total));return(e,t)=>{const a=Y,l=P;return n(),y(l,{class:"h-full"},{default:_((()=>[r("div",ut,[r("div",ct,i("UV："+f(s)),1),h("",!0)]),r("div",dt,[p(a,{type:"line",options:f(o)},null,8,["options"])])])),_:1})}}}),mt={class:"flex items-center mb-10px"},vt={class:"mr-16px text-[14px]"},yt={class:"h-220px"},_t=o({__name:"index",setup(e){const t=A(),{type:a,summary:o}=l(t),{options:s}=(()=>{const e=A(),{total:t,form:a}=l(e),o=X({tooltip:{trigger:"axis",confine:!0,formatter:e=>{let t='<div style="margin-bottom: 6px;">'.concat(e[0].seriesName,"</div>");for(let l=0;l<e.length;l++){const o=e[l];t+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(o.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===a.value.query_data||0===a.value.contrast_particle?C(Number(o.data.date),"M月dd日 HH:mm"):C(Number(o.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(o.data.value,"</div>\n\t\t\t\t\t</div>")}return t}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max(e){const{max:t}=e;return t?t%4==0?t:t+(4-t%4):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"蜘蛛数",data:[]},{type:"line",name:"上期蜘蛛数",data:[]}]}),n=new Map([[0,1],[7,24],[30,70]]);return m((()=>t.value),(e=>{const t=e.date,{spider:l}=e,{current:s}=l,{old:r}=l;o.xAxis={type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:e=>a.value.query_data>1?C(Number(e),"MM-dd"):C(Number(e),"HH:mm"),interval:0===a.value.contrast_particle?n.get(a.value.query_data):"auto"}},o.series=[{type:"line",name:"蜘蛛数",symbol:"none",sampling:"average",smooth:!0,data:s,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:Z("#20a53a",.4)},{offset:.8,color:Z("#20a53a",0)}]}}},{type:"line",name:"上期蜘蛛数",symbol:"none",sampling:"average",smooth:!0,data:r,itemStyle:{color:Z("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:o}})(),u=()=>{a.value="spider"},c=v((()=>o.value.spider_total));return(e,t)=>{const a=H,l=Y,o=P;return n(),y(o,{class:"h-full"},{default:_((()=>[r("div",mt,[r("div",vt,i("蜘蛛："+f(c)),1),h("",!0),r("div",null,[p(a,{onClick:u},{default:_((()=>[g("详情")])),_:1})])]),r("div",yt,[p(l,{type:"line",options:f(s)},null,8,["options"])])])),_:1})}}}),ft={class:"flex items-center"},xt={class:"w-194px mr-10px"},ht=r("span",{class:"pl-10px pr-10px"},"对比",-1),gt={class:"w-200px mr-10px"},bt={class:"w-100px mr-10px"},wt=o({__name:"index",setup(e){const t=A(),{form:o,chartLoading:s}=l(t),i=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],u=v((()=>0===o.value.query_data?[{label:"每小时",value:0}]:[{label:"每天",value:1},{label:"每小时",value:0}])),c=v((()=>{const e=new Date;if(0===o.value.query_data){const t=se(e,-1).getTime();return S(t,"MM月dd日")}if(7===o.value.query_data){const t=new Date(e.getTime()-6048e5),a=new Date(t.getTime()-6048e5);return"".concat(S(t,"MM月dd日"),"-").concat(S(a,"MM月dd日"))}if(30===o.value.query_data){const t=new Date(e.getTime()-2592e6),a=new Date(t.getTime()-2592e6);return"".concat(S(t,"MM月dd日"),"-").concat(S(a,"MM月dd日"))}return S(0,"MM月dd日")})),d=v((()=>[{label:"上一期：".concat(c.value),value:1},{label:"不对比",value:0}])),m=e=>{const a=new Date;if(0===e){const e=se(a,-1).getTime();o.value.contrast_start=e/1e3,o.value.contrast_particle=0}if(7===o.value.query_data){const e=se(a,-7).getTime();o.value.contrast_start=e/1e3,o.value.contrast_particle=1}if(30===o.value.query_data){const e=se(a,-30).getTime();o.value.contrast_start=e/1e3,o.value.contrast_particle=1}t.getList()},x=()=>{t.getList()},h=()=>{t.getList()};return(e,t)=>{const l=a,c=ee,v=re,g=ie,b=R,w=ne;return n(),y(w,null,{toolsLeft:_((()=>[r("div",ft,[r("div",xt,[p(Qe,{ref:"siteRef"},null,512)]),p(l,{value:f(o).query_data,"onUpdate:value":[t[0]||(t[0]=e=>f(o).query_data=e),m],options:i},null,8,["value"]),ht,r("div",gt,[p(c,{value:f(o).is_contrast,"onUpdate:value":[t[1]||(t[1]=e=>f(o).is_contrast=e),h],options:f(d),"consistent-menu-width":!1},null,8,["value","options"])]),r("div",bt,[p(c,{value:f(o).contrast_particle,"onUpdate:value":[t[2]||(t[2]=e=>f(o).contrast_particle=e),x],options:f(u)},null,8,["value","options"])])])])),content:_((()=>[p(b,{show:f(s)},{default:_((()=>[p(g,{"x-gap":"16",cols:2},{default:_((()=>[p(v,null,{default:_((()=>[p(Xe)])),_:1}),p(v,null,{default:_((()=>[p(ot)])),_:1})])),_:1}),p(g,{class:"mt-16px","x-gap":"16",cols:3},{default:_((()=>[p(v,null,{default:_((()=>[p(it)])),_:1}),p(v,null,{default:_((()=>[p(pt)])),_:1}),p(v,null,{default:_((()=>[p(_t)])),_:1})])),_:1})])),_:1},8,["show"])])),_:1})}}}),kt={class:"w-194px mr-10px"},qt=o({__name:"index",setup(e){const{t:t}=b(),o=A(),{form:s,table:i,loading:u}=l(o),c=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],d=()=>{o.getBranchList()},m=w([{title:"IP",key:"ip",width:"20%"},{title:"访问次数",key:"visits"},{title:()=>p("div",{class:"flex flex-wrap items-center"},[p("div",{class:"mr-8px"},[g("访问占比")]),p(oe,null,{default:()=>[g("该IP访问在指定时间周期内的所有请求中的百分比")]})]),key:"percent",render:e=>"".concat(e.percent,"%")},{title:"操作",key:"action",width:"8%",render:e=>p(H,{onClick:()=>{v(e)}},{default:()=>[g("禁止访问")]})}]),v=e=>{j({title:"".concat(t("Attack.BlModal.Title")),content:"".concat(t("Attack.BlModal.Content",{ip:e.ip})),onConfirm:async()=>{await G({types:1,start:e.ip,end:e.ip,ip_type:0}),o.getList()}})};return(e,t)=>{const l=a,v=te,x=ue,h=ne;return n(),y(h,null,{toolsLeft:_((()=>[r("div",kt,[p(Qe,{ref:"siteRef"},null,512)])])),toolsRight:_((()=>[p(l,{value:f(s).query_data,"onUpdate:value":[t[0]||(t[0]=e=>f(s).query_data=e),d],options:c},null,8,["value"])])),content:_((()=>[p(v,{data:f(i).data,columns:f(m),loading:f(u),bordered:!1},null,8,["data","columns","loading"])])),pageRight:_((()=>[p(x,{page:f(s).p,"onUpdate:page":t[1]||(t[1]=e=>f(s).p=e),"page-size":f(s).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>f(s).p_size=e),"item-count":f(i).total,onRefresh:f(o).getBranchList},null,8,["page","page-size","item-count","onRefresh"])])),_:1})}}}),Bt={class:"w-320px"},Mt={key:0,class:"text-desc mb-10px"},Lt={key:1,class:"text-desc mb-5px mt-10px"},It={class:"mt-12px max-h-200px"},St={class:"flex items-center mb-15px"},Nt={class:"ml-10px text-desc"},Ut=I(o({__name:"index",setup(e,{expose:t}){const{uri:a}=k("component-data"),o=A(),{form:u}=l(o),m=w([]),v=w([]),b=w(!1),q=()=>{b.value?m.value=[]:m.value=v.value.map((e=>e.ip)),b.value=!b.value},{loading:B,setLoading:M}=z(),L=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let l=0;l<e;l++){const e=Math.floor(62*Math.random());a+=t.charAt(e)}return a},I=()=>{const e=S();return m.value.forEach((t=>{const a=S("or");a.children.push(N(t)),e.children.push(a)})),e},S=(e="or")=>({logic:e,type:"block",option:null,children:[]}),N=e=>({type:"option",logic:"",children:[],option:{type:"ip",operator:"eq",left_factor:"",right_factor:e}});return t({onConfirm:async e=>{const t={name:"total_".concat(L(5)),servers:u.value.site_id?[u.value.site_id]:[],status:1,is_global:0,priority:0,root:I(),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}};0===m.value.length?E("您还没有选择ip"):j({title:"加入自定义规则",content:"您已选中".concat(m.value.length,"个ip，并禁止访问【").concat(a,"】，是否继续？"),onConfirm:async()=>{await F(t),e()}})}}),(async()=>{try{M(!0);const e=await T({site_id:u.value.site_id,query_data:u.value.query_data,type:0}),{res:t}=e,{list:a}=t;v.value=a}finally{M(!1)}})(),(e,t)=>{const a=V,l=K,o=de,u=re,w=ie,k=pe,M=R,L=O;return n(),s("div",Bt,[0!==f(v).length?(n(),s("p",Mt," 选择需要禁止访问此URL的ip，按【确定】加入自定义规则 ")):h("",!0),0!==f(v).length?(n(),s("p",Lt,"*以下IP数据来源于IP统计")):h("",!0),r("div",It,[r("div",St,[p(a,{size:"tiny",secondary:"",strong:"",onClick:q},{default:_((()=>[g(i(f(b)?"取消全选":"全选"),1)])),_:1}),r("div",Nt,"已选 "+i(f(m).length)+" 项",1)]),0===f(v).length?(n(),y(l,{key:0,class:"h-90px w-100% mt-30px",description:"暂无数据"})):(n(),y(L,{key:1,style:{"max-height":"150px"}},{default:_((()=>[p(M,{show:f(B)},{default:_((()=>[p(k,{value:f(m),"onUpdate:value":t[0]||(t[0]=e=>x(m)?m.value=e:null)},{default:_((()=>[p(w,{"y-gap":8,cols:1},{default:_((()=>[(n(!0),s(c,null,d(f(v),((e,t)=>(n(),y(u,{key:t},{default:_((()=>[p(o,{class:"mb-10px",value:e.ip,label:e.ip},null,8,["value","label"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1},8,["show"])])),_:1}))])])}}}),[["__scopeId","data-v-f4cfc4d8"]]),Dt={class:"w-194px mr-10px"},Pt=o({__name:"index",setup(e){const t=A(),{form:o,table:s,loading:i}=l(t),u=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],c=q({show:!1,title:"",data:{uri:""}}),d=()=>{t.getBranchList()},m=w([{title:"URL",key:"uri",width:"20%",ellipsis:{tooltip:!0}},{title:"访问次数",key:"visits"},{title:()=>p("div",{class:"flex flex-wrap items-center "},[p("div",{class:"mr-8px"},[g("访问占比")]),p(oe,null,{default:()=>[g("该URI访问在指定时间周期内的所有请求中的百分比")]})]),key:"percent",render:e=>"".concat(e.percent,"%")},{title:"操作",key:"action",width:"8%",render:e=>p(H,{disabled:"/"===e.uri,onClick:()=>{b(e)}},{default:()=>[g("禁止访问")]})}]),v=e=>{const t=x(),a=x("and");return a.children.push(h(e)),t.children.push(a),t},x=(e="or")=>({logic:e,type:"block",option:null,children:[]}),h=e=>({type:"option",logic:"",children:[],option:{type:"uri",operator:"eq",left_factor:"",right_factor:e}}),b=e=>{const t=(e=>({name:"total_".concat(ce(5)),servers:o.value.site_id?[o.value.site_id]:[],status:1,is_global:0,priority:0,root:v(e.uri),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}}))(e);j({title:"禁止访问",content:"此操作将会拦截【".concat(e.uri,"】的访问，并加入自定义拦截规则，是否继续？"),onConfirm:async()=>{await F(t)}})};return(e,l)=>{const v=a,x=te,h=ue,g=$,b=ne;return n(),y(b,null,{toolsLeft:_((()=>[r("div",Dt,[p(Qe,{ref:"siteRef"},null,512)])])),toolsRight:_((()=>[p(v,{value:f(o).query_data,"onUpdate:value":[l[0]||(l[0]=e=>f(o).query_data=e),d],options:u},null,8,["value"])])),content:_((()=>[p(x,{data:f(s).data,columns:f(m),loading:f(i),bordered:!1},null,8,["data","columns","loading"])])),pageRight:_((()=>[p(h,{page:f(o).p,"onUpdate:page":l[1]||(l[1]=e=>f(o).p=e),"page-size":f(o).p_size,"onUpdate:pageSize":l[2]||(l[2]=e=>f(o).p_size=e),"item-count":f(s).total,onRefresh:f(t).getBranchList},null,8,["page","page-size","item-count","onRefresh"])])),modal:_((()=>[p(g,{show:f(c).show,"onUpdate:show":l[3]||(l[3]=e=>f(c).show=e),title:f(c).title,data:f(c).data,"is-footer":!0,"max-width":"250px",component:Ut},null,8,["show","title","data"])])),_:1})}}}),At={class:"w-300px"},Ct={key:0,class:"text-desc mb-5px"},Ht={key:1,class:"text-desc mb-5px mt-10px"},Rt={class:"mt-12px max-h-200px"},jt=I(o({__name:"index",setup(e,{expose:t}){const{spider:a}=k("component-data"),o=v((()=>a)),i=A(),{form:u,nameOptions:m}=l(i),g=w(""),b=w([]),{loading:q,setLoading:B}=z(),M=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let l=0;l<e;l++){const e=Math.floor(62*Math.random());a+=t.charAt(e)}return a},L=()=>{const e=m.value.find((e=>e.key===o.value)),t=(null==e?void 0:e.value)?null==e?void 0:e.value.keyword:"",a=I(),l=I("and");return l.children.push(S(t,"user-agent","like")),l.children.push(S(g.value,"ip","eq")),a.children.push(l),a},I=(e="or")=>({logic:e,type:"block",option:null,children:[]}),S=(e,t,a)=>({type:"option",logic:"",children:[],option:{type:t,operator:a,left_factor:"",right_factor:e}});return t({onConfirm:async e=>{const t={name:"total_".concat(M(5)),servers:u.value.site_id?[u.value.site_id]:[],status:1,is_global:0,priority:0,root:L(),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}};""===g.value?E("您还没有选择ip"):j({title:"加入自定义规则",content:"将".concat(g.value,"加入自定义规则，并禁用它的访问，是否继续？"),onConfirm:async()=>{await F(t),e()}})}}),(async()=>{try{B(!0);const e=await T({site_id:u.value.site_id,query_data:u.value.query_data,type:0}),{res:t}=e,{list:a}=t;b.value=a}finally{B(!1)}})(),(e,t)=>{const a=K,l=ae,o=re,i=ie,u=le,m=R,v=O;return n(),s("div",At,[0!==f(b).length?(n(),s("p",Ct," 选择需要禁用的ip，按【确定】加入自定义规则 ")):h("",!0),0!==f(b).length?(n(),s("p",Ht,"*以下IP数据来源于IP统计")):h("",!0),r("div",Rt,[0===f(b).length?(n(),y(a,{key:0,class:"h-90px w-100% mt-30px",description:"暂无数据"})):(n(),y(v,{key:1,style:{"max-height":"150px"}},{default:_((()=>[p(m,{show:f(q)},{default:_((()=>[p(u,{value:f(g),"onUpdate:value":t[0]||(t[0]=e=>x(g)?g.value=e:null)},{default:_((()=>[p(i,{"y-gap":8,cols:1},{default:_((()=>[(n(!0),s(c,null,d(f(b),((e,t)=>(n(),y(o,{key:t},{default:_((()=>[p(l,{class:"mb-10px",value:e.ip,label:e.ip},null,8,["value","label"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1},8,["show"])])),_:1}))])])}}}),[["__scopeId","data-v-c2de9d0e"]]),Gt={class:"w-194px mr-10px"},zt=o({__name:"index",setup(e){const t=A(),{form:o,loading:s,table:i,nameOptions:u}=l(t),c=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],d=q({show:!1,title:"",data:{spider:""}}),m=()=>{t.getBranchList()},v=w([{title:"蜘蛛名",key:"spider",render:e=>{const t=u.value.find((t=>t.key===e.spider));return t?t.value.chinese:"--"}},{title:"访问次数",key:"visits"},{title:()=>p("div",{class:"flex flex-wrap items-center"},[p("div",{class:"mr-8px"},[g("访问占比")]),p(oe,null,{default:()=>[g("该蜘蛛访问在指定时间周期内的所有请求中的百分比")]})]),key:"percent",width:"30%",render:e=>"".concat(e.percent,"%")}]);return(e,t)=>{const l=a,u=te,x=$,h=ne;return n(),y(h,null,{toolsLeft:_((()=>[r("div",Gt,[p(Qe,{ref:"siteRef"},null,512)])])),toolsRight:_((()=>[p(l,{value:f(o).query_data,"onUpdate:value":[t[0]||(t[0]=e=>f(o).query_data=e),m],options:c},null,8,["value"])])),content:_((()=>[p(u,{data:f(i).data,columns:f(v),loading:f(s),bordered:!1},null,8,["data","columns","loading"])])),modal:_((()=>[p(x,{show:f(d).show,"onUpdate:show":t[1]||(t[1]=e=>f(d).show=e),title:f(d).title,data:f(d).data,"is-footer":!0,"max-width":"200px",component:jt},null,8,["show","title","data"])])),_:1})}}}),Tt={class:"flex items-center"},Et=(e=>(B("data-v-45efb1f8"),e=e(),M(),e))((()=>r("span",{class:"mr-5px"},"URL统计",-1))),Ft=I(o({__name:"content",setup(e){const t=A(),{type:a}=l(t),o=new Map([["overview",3],["ip",0],["url",1],["spider",2]]),i=async()=>{await t.getConfigHelp(),await t.getBranchList()};return(async()=>{a.value="overview",await t.getSites(),3===o.get(a.value)?await t.getList():2===o.get(a.value)?i():await t.getBranchList()})(),m((()=>a.value),(e=>{3===o.get(e)?t.getList():2===o.get(e)?i():t.getBranchList()})),(e,t)=>{const l=Q,o=J,i=oe,u=W;return n(),s("div",null,[p(l,{class:"mb-12px",type:"warning",bordered:!1},{default:_((()=>[g(" 【数据统计】正在公测中，所有用户均可免费使用，请知悉。 ")])),_:1}),p(u,{value:f(a),"onUpdate:value":t[0]||(t[0]=e=>x(a)?a.value=e:null),type:"segment"},{default:_((()=>[p(o,{name:"overview",tab:"概览"},{default:_((()=>[p(wt)])),_:1}),p(o,{name:"ip",tab:"IP统计"},{default:_((()=>[p(qt)])),_:1}),p(o,{name:"url"},{tab:_((()=>[r("div",Tt,[Et,p(i,null,{default:_((()=>[g(" URL只统计200状态码的URL，如发现有IP数据却无URL数据是正常的")])),_:1})])])),default:_((()=>[p(Pt)])),_:1}),p(o,{name:"spider",tab:"蜘蛛统计"},{default:_((()=>[p(zt)])),_:1})])),_:1},8,["value"])])}}}),[["__scopeId","data-v-45efb1f8"]]),Vt=o({__name:"index",setup:e=>(e,t)=>(n(),s("div",null,[h("",!0),(n(),y(Ft,{key:1}))]))}),Kt=o({__name:"index",setup(a){const l=w("");return(a,o)=>{const s=J,r=t,i=e;return n(),y(i,{padding:"0"},{default:_((()=>[p(r,{value:f(l),"onUpdate:value":o[0]||(o[0]=e=>x(l)?l.value=e:null),"store-key":"statistics","default-value":"monitoring"},{default:_((()=>[p(s,{name:"monitoring",tab:"监控"},{default:_((()=>[p(Oe)])),_:1}),p(s,{name:"statistics",tab:"数据统计"},{default:_((()=>[p(Vt)])),_:1})])),_:1},8,["value"])])),_:1})}}});export{Kt as default};
