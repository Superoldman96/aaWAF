import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.609fbee0.1742181728921.js";import{_ as l}from"./index.83605657.1742181728921.js";import{_ as t,u as a,dw as n,dx as s,k as o,ab as i,l as u,m as c,f as r,n as d,y as p,o as m,A as f,T as v,a1 as b,dy as _,x,dz as g,dA as y,$ as w,dB as h,dC as C,dD as $,dE as R,dj as k,dF as G,dG as P,dH as S,dI as A,dJ as T,dK as U,dL as q,h as M,cZ as D,dM as L,dN as B,ap as F,a3 as E,au as j,r as I,ak as O,dO as z,R as H,a6 as N,dP as K,e as J,dQ as W,dR as X,dS as V,dT as Z,dU as Y,dV as Q,dW as ee,dX as le,dY as te,t as ae,dZ as ne,d_ as se,d$ as oe,e0 as ie,e1 as ue,aD as ce,e2 as re,b8 as de,aG as pe,S as me,cI as fe,e3 as ve}from"./index.fc641b56.1742181728921.js";import{_ as be}from"./pro.1e612477.1742181728921.js";import{d as _e,a4 as xe,o as ge,S as ye,U as we,_ as he,B as Ce,$ as $e,W as Re,r as ke,u as Ge,f as Pe,e as Se,P as Ae,k as Te,b as Ue,aa as qe,w as Me,a1 as De,m as Le,y as Be,K as Fe,F as Ee,G as je,ac as Ie,c as Oe,a as ze,X as He,a6 as Ne,Z as Ke,A as Je,ad as We,l as Xe,s as Ve,p as Ze,O as Ye,a2 as Qe,a3 as el}from"./vue.314199b7.1742181728921.js";import{_ as ll}from"./index.0a184dde.1742181728921.js";import{g as tl,u as al,a as nl}from"./store.5b5f1fd4.1742181728921.js";import{_ as sl}from"./index.2dfef82f.1742181728921.js";import{_ as ol}from"./Checkbox.64335fca.1742181728921.js";import{N as il}from"./Switch.4c664df7.1742181728921.js";import{_ as ul}from"./RadioButton.7959355d.1742181728921.js";import{_ as cl,a as rl,b as dl}from"./DataTable.762c357a.1742181728921.js";import{N as pl}from"./InputNumber.f6532dc5.1742181728921.js";import{a as ml}from"./random.bb000beb.1742181728921.js";import{_ as fl}from"./index.vue_vue_type_script_setup_true_lang.dd273c02.1742181728921.js";import{_ as vl}from"./index.1264c2ce.1742181728921.js";import{_ as bl}from"./index.vue_vue_type_script_setup_true_lang.4d4d3e81.1742181728921.js";import{_ as _l,a as xl}from"./index.70c036f2.1742181728921.js";import{_ as gl}from"./index.vue_vue_type_script_setup_true_lang.6f36d91a.1742181728921.js";import{_ as yl}from"./index.1c4a120d.1742181728921.js";import{_ as wl}from"./index.vue_vue_type_script_setup_true_lang.5eb11789.1742181728921.js";import{_ as hl}from"./index.vue_vue_type_script_setup_true_lang.141d1f64.1742181728921.js";import"./layer.8f9c8930.1742181728921.js";import"./get-slot.a0e67e91.1742181728921.js";import"./utils.d31cac41.1742181728921.js";const Cl={class:"rows"},$l={class:"label"},Rl={key:0,class:"w-18px showImage",src:be},kl={key:2},Gl={class:"value"},Pl={class:"desc"},Sl=t(_e({__name:"config-rows",props:{label:{},showIcon:{type:Boolean}},setup(e){const l=!!xe().label;return(e,t)=>(ge(),ye("div",Cl,[we("div",$l,[e.showIcon?(ge(),ye("img",Rl)):he("",!0),l?Ce(e.$slots,"label",{key:1},void 0,!0):(ge(),ye("span",kl,$e(e.label),1))]),we("div",Gl,[Ce(e.$slots,"default",{},void 0,!0)]),we("div",Pl,[Ce(e.$slots,"desc",{},void 0,!0)])]))}}),[["__scopeId","data-v-43476ca1"]]),Al={class:"w-660px p-8px"},Tl={class:"flex"},Ul={class:"flex-1"},ql={class:"flex-1"},Ml={class:"mb-8px"},Dl={class:"flex-1 ml-20px"},Ll={class:"flex-1"},Bl={class:"mb-8px"},Fl=_e({__name:"config",setup(e){const{t:l}=Re(),t=ke(),f=Ge({keyContent:"",certContent:""}),v={keyContent:{required:!0,message:l("Config.All.OpenSsl.KeyErrMsg"),trigger:"blur"},certContent:{required:!0,message:l("Config.All.OpenSsl.PemErrMsg"),trigger:"blur"}},{loading:b,setLoading:_}=a(),x=async()=>{var e;try{await(null==(e=t.value)?void 0:e.validate()),_(!0),await s(f),o(l("Config.All.OpenSsl.SuccessMsg")),i()}finally{_(!1)}};return(async()=>{const{res:e}=await n();f.keyContent=e.key_pem,f.certContent=e.cert_pem})(),(e,l)=>{const a=u,n=c,s=r,o=d,i=p,_=m,g=ll;return ge(),ye("section",Al,[Pe(i,{show:Ae(b)},{default:Se((()=>[Pe(o,{ref_key:"formRef",ref:t,"label-placement":"left",model:Ae(f),rules:v},{default:Se((()=>[we("div",Tl,[we("div",Ul,[Pe(n,{path:"keyContent"},{default:Se((()=>[we("div",ql,[we("div",Ml,$e(e.$t("Config.All.OpenSsl.Key")),1),Pe(a,{value:Ae(f).keyContent,"onUpdate:value":l[0]||(l[0]=e=>Ae(f).keyContent=e),spellcheck:"false",type:"textarea",autosize:{minRows:13,maxRows:13}},null,8,["value"])])])),_:1})]),we("div",Dl,[Pe(n,{path:"certContent"},{default:Se((()=>[we("div",Ll,[we("div",Bl,$e(e.$t("Config.All.OpenSsl.Pem")),1),Pe(a,{value:Ae(f).certContent,"onUpdate:value":l[1]||(l[1]=e=>Ae(f).certContent=e),spellcheck:"false",type:"textarea",autosize:{minRows:13,maxRows:13}},null,8,["value"])])])),_:1})])]),Pe(s,{type:"primary",onClick:x},{default:Se((()=>[Te($e(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1},8,["model"])])),_:1},8,["show"]),Pe(g,{class:"mt-20px"},{default:Se((()=>[we("li",null,[we("span",null,$e(e.$t("Config.All.OpenSsl.Tips.0")),1),Pe(_,{href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},{default:Se((()=>[Te(" ["+$e(e.$t("Public.Btn.Help"))+"] ",1)])),_:1})]),we("li",null,$e(e.$t("Config.All.OpenSsl.Tips.1")),1),we("li",null,$e(e.$t("Config.All.OpenSsl.Tips.2")),1)])),_:1})])}}}),El=_e({__name:"index",setup(e){const l=ke(!1);return(e,t)=>{const a=r,n=m,s=f;return ge(),Ue(Sl,{label:e.$t("Config.All.OpenSsl.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.OpenSsl.Desc")),1),Pe(n,{href:"https://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Public.Btn.LearnMore")),1)])),_:1})])),default:Se((()=>[Pe(a,{type:"primary",size:"small",onClick:t[0]||(t[0]=e=>l.value=!0)},{default:Se((()=>[Te($e(e.$t("Config.All.OpenSsl.Btn")),1)])),_:1}),Pe(s,{show:Ae(l),"onUpdate:show":t[1]||(t[1]=e=>qe(l)?l.value=e:null),title:e.$t("Config.All.OpenSsl.ModalTitle"),component:Fl},null,8,["show","title"])])),_:1},8,["label"])}}}),jl={class:"px-16px"},Il={class:"p-8px bg-error text-white"},Ol=_e({__name:"agree-risk",props:{checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{expose:l,emit:t}){const a=e,n=v(),s=ke(!1),o=ke(!1);Me((()=>a.checked),(e=>{s.value=e})),Me((()=>s.value),(e=>{t("update:checked",e)}));const i=De((()=>{o.value=!1}),2500);return l({validate:()=>new Promise(((e,l)=>{s.value?e(!0):(o.value=!0,i(),l())}))}),(e,l)=>{const t=ol,a=b;return ge(),ye("div",jl,[Pe(a,{show:Ae(o),"onUpdate:show":l[1]||(l[1]=e=>qe(o)?o.value=e:null),trigger:"manual",placement:"top-start",style:{padding:0},"arrow-style":{backgroundColor:Ae(n).errorColor}},{trigger:Se((()=>[Pe(t,{checked:Ae(s),"onUpdate:checked":l[0]||(l[0]=e=>qe(s)?s.value=e:null)},{default:Se((()=>[Ce(e.$slots,"checked")])),_:3},8,["checked"])])),default:Se((()=>[we("div",Il,[Ce(e.$slots,"content")])])),_:3},8,["show","arrow-style"])])}}}),zl={class:"w-470px p-8px"},Hl={class:"flex items-center mb-16px"},Nl={class:"ml-16px text-21px"},Kl={class:"help-info mb-24px"},Jl={class:"text-error"},Wl={class:"text-error"},Xl={class:"flex items-center justify-end pl-16px"},Vl={class:"mr-5px"},Zl={class:"leading-24px px-16px"},Yl={class:"w-240px"},Ql=_e({__name:"confirm",setup(e,{expose:l}){const{onNext:t}=Le("component-data"),{t:a}=Re(),n=ke(),s=ke((e=>{const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++){const e=Math.floor(62*Math.random());t+=l.charAt(e)}return t})(16)),o=Ge({secret_key:{trigger:"blur",validator:()=>!(s.value.length>0&&s.value.length<16)||new Error(a("Config.All.DynamicPwd.ConfirmModal.KeyErrMsg"))}}),i=ke(null);return l({onConfirm:async e=>{var l,a;await(null==(l=n.value)?void 0:l.validate()),await(null==(a=i.value)?void 0:a.validate()),await _({open:1,secret_key:s.value}),e(),tl(),setTimeout((()=>{t()}),800)}}),(e,l)=>{const t=x,a=m,r=ll,p=sl,f=u,v=c,b=d;return ge(),ye("section",zl,[we("div",Hl,[Pe(t,{name:"warning",class:"text-warning",size:"32"}),we("span",Nl,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Alarm")),1)]),we("div",Kl,[Pe(r,null,{default:Se((()=>[we("li",Jl,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Tips.0")),1),we("li",Wl,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Tips.1")),1),we("li",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Tips.2")),1),we("li",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Tips.3")),1),we("li",null,[we("span",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Tips.4")),1),Pe(a,{href:"https://www.kancloud.cn/kern123/cloudwaf/3200181",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Public.Btn.Details")),1)])),_:1})])])),_:1})]),Pe(b,{ref_key:"formRef",ref:i,"label-width":"auto","label-placement":"left",rules:Ae(o)},{default:Se((()=>[Pe(v,{path:"secret_key"},{label:Se((()=>[we("div",Xl,[we("span",Vl,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.Key")),1),Pe(p,null,{default:Se((()=>[we("ul",Zl,[we("li",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.KeyTips.0")),1),we("li",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.KeyTips.1")),1)])])),_:1})])])),default:Se((()=>[we("div",Yl,[Pe(f,{value:Ae(s),"onUpdate:value":l[0]||(l[0]=e=>qe(s)?s.value=e:null),"input-props":{spellcheck:!1},placeholder:e.$t("Config.All.DynamicPwd.ConfirmModal.KeyPlace")},null,8,["value","placeholder"])])])),_:1})])),_:1},8,["rules"]),Pe(Ol,{ref_key:"agreeRiskRef",ref:n},{checked:Se((()=>[we("span",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.AgreeDesc")),1)])),content:Se((()=>[we("span",null,$e(e.$t("Config.All.DynamicPwd.ConfirmModal.AgreeErrMsg")),1)])),_:1},512)])}}}),et={class:"w-520px p-8px"},lt={class:"mb-16px text-16px"},tt={class:"flex items-center justify-center w-158px h-158px bg-white mx-auto"},at={class:"text-error"},nt=_e({__name:"scan",setup(e){const l=ke("");return(async()=>{const{res:e}=await y();l.value=e.qrcode_url})(),(e,t)=>{const a=m,n=ll;return ge(),ye("section",et,[we("div",lt,$e(e.$t("Config.All.DynamicPwd.ScanModal.Desc")),1),we("div",tt,[Be(Pe(g,{value:Ae(l),size:150},null,8,["value"]),[[Fe,Ae(l)]])]),Pe(n,{class:"mt-16px"},{default:Se((()=>[we("li",null,[we("span",null,$e(e.$t("Config.All.DynamicPwd.ScanModal.Tips.0")),1),Pe(a,{href:"https://www.kancloud.cn/kern123/cloudwaf/3200181",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Public.Btn.Tutorial")),1)])),_:1})]),we("li",at,$e(e.$t("Config.All.DynamicPwd.ScanModal.Tips.1")),1)])),_:1})])}}}),st={class:"flex"},ot=_e({__name:"index",setup(e){const{info:l}=al(),t=ke(!1),a=ke(!1),n={onNext:()=>{t.value=!0}},s=e=>{e?a.value=!0:i()},o=()=>{l.value.two_step_auth=!1},i=async()=>{try{await _({open:0,secret_key:""})}catch(e){l.value.two_step_auth=!l.value.two_step_auth}},u=()=>{l.value.two_step_auth?t.value=!0:a.value=!0};return(e,i)=>{const c=il,d=r,p=m,v=f;return ge(),ye(Ee,null,[Pe(Sl,{label:e.$t("Config.All.DynamicPwd.Label")},{desc:Se((()=>[we("div",st,[we("span",null,$e(e.$t("Config.All.DynamicPwd.Desc")),1),Pe(p,{href:"https://www.kancloud.cn/kern123/cloudwaf/3200181",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Public.Btn.LearnMore")),1)])),_:1})])])),default:Se((()=>[Pe(c,{value:Ae(l).two_step_auth,"onUpdate:value":[i[0]||(i[0]=e=>Ae(l).two_step_auth=e),s]},null,8,["value"]),Pe(d,{class:"ml-16px",size:"small",onClick:u},{default:Se((()=>[Te($e(e.$t("Config.All.DynamicPwd.Btn")),1)])),_:1})])),_:1},8,["label"]),Pe(v,{show:Ae(a),"onUpdate:show":i[1]||(i[1]=e=>qe(a)?a.value=e:null),title:e.$t("Config.All.DynamicPwd.ConfirmModal.Title"),data:n,"is-footer":!0,component:Ql,onPublicClose:o},null,8,["show","title"]),Pe(v,{show:Ae(t),"onUpdate:show":i[2]||(i[2]=e=>qe(t)?t.value=e:null),title:e.$t("Config.All.DynamicPwd.ScanModal.Title"),component:nt},null,8,["show","title"])],64)}}}),it={class:"text-error"},ut=_e({__name:"index",setup(e){const{t:l}=Re(),{info:t}=al(),a=e=>{const a="\n\t\t<div>\n\t\t\t<span>".concat(l("Config.All.PwdSafe.OpenMsg.0"),'</span>\n\t\t\t<span class="text-error">\n\t\t\t\t').concat(l("Config.All.PwdSafe.Desc.1"),"\n\t\t\t</span>\n\t\t\t<span>").concat(l("Config.All.PwdSafe.OpenMsg.1"),"</span>\n\t\t</div>\n\t"),n=l("Config.All.PwdSafe.CloseMsg"),s=e?a:n;w({title:l("Config.All.PwdSafe.ConfirmTitle",{status:l(e?"Public.Confirm.Enable":"Public.Confirm.Disable")}),content:s,onConfirm:async()=>{await h({password_complexity:e?1:0})},onPublicCancel:()=>{t.value.config.password_complexity=!t.value.config.password_complexity}})};return(e,l)=>{const n=il;return ge(),Ue(Sl,{label:e.$t("Config.All.PwdSafe.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.PwdSafe.Desc.0")),1),we("span",it,$e(e.$t("Config.All.PwdSafe.Desc.1")),1)])),default:Se((()=>[Pe(n,{value:Ae(t).config.password_complexity,"onUpdate:value":[l[0]||(l[0]=e=>Ae(t).config.password_complexity=e),a]},null,8,["value"])])),_:1},8,["label"])}}}),ct=_e({__name:"index",setup(e){const{t:l}=Re(),{info:t}=al(),a=e=>{const a=l("Config.All.CustomerService.OpenMsg"),n=l("Config.All.CustomerService.CloseMsg"),s=e?a:n;w({title:l("Config.All.CustomerService.ConfirmTitle",{status:l(e?"Public.Confirm.Enable":"Public.Confirm.Disable")}),content:s,onConfirm:async()=>{await C({open:e?1:0})},onPublicCancel:()=>{t.value.config.worker=!t.value.config.worker}})};return(e,l)=>{const n=il;return ge(),Ue(Sl,{label:e.$t("Config.All.CustomerService.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.CustomerService.Desc")),1)])),default:Se((()=>[Pe(n,{value:Ae(t).config.worker,"onUpdate:value":[l[0]||(l[0]=e=>Ae(t).config.worker=e),a]},null,8,["value"])])),_:1},8,["label"])}}}),rt={class:"mr-10px"},dt=_e({__name:"index",setup(e){const{t:l}=Re(),{userinfo:t}=nl(),a=e=>{const a=l("Config.All.JoinPlan.CloseMsg"),n=l("Config.All.JoinPlan.CloseMsg"),s=e?a:n;w({title:l("Config.All.JoinPlan.ConfirmTitle",{status:l(e?"Public.Confirm.Enable":"Public.Confirm.Disable")}),content:s,onConfirm:async()=>{await $({confirm:e?1:0})},onPublicCancel:()=>{t.value.malicious_ip_shared=!t.value.malicious_ip_shared}})};return(e,l)=>{const n=il,s=m;return ge(),Ue(Sl,{label:e.$t("Config.All.JoinPlan.Label")},{desc:Se((()=>[we("span",rt,$e(e.$t("Config.All.JoinPlan.Desc")),1),Pe(s,{href:"https://www.kancloud.cn/kern123/cloudwaf/3208853",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Config.All.JoinPlan.Link")),1)])),_:1})])),default:Se((()=>[Pe(n,{value:Ae(t).malicious_ip_shared,"onUpdate:value":[l[0]||(l[0]=e=>Ae(t).malicious_ip_shared=e),a]},null,8,["value"])])),_:1},8,["label"])}}}),pt={class:"w-410px p-8px"},mt={class:"mt-12px w-90px"},ft={class:"text-error"},vt=_e({__name:"form",setup(e,{expose:l}){const{t:t}=Re(),{info:a}=al(),n=Ge({option:2,custom:2}),s=[{label:t("Config.All.SessionTime.Form.Options.0"),value:2},{label:t("Config.All.SessionTime.Form.Options.1"),value:4},{label:t("Config.All.SessionTime.Form.Options.2"),value:6},{label:t("Config.All.SessionTime.Form.Options.3"),value:12},{label:t("Config.All.SessionTime.Form.Options.4"),value:"custom"}];je((()=>{const e=a.value.config.session_timeout,l=(t=e,Number.parseFloat((t/60).toFixed(1)));var t;s.filter((e=>e.value===l)).length>0?n.option=l:(n.option="custom",n.custom=l)}));return l({onConfirm:async e=>{await R({session_timeout:k(n.option)?60*n.option:60*n.custom}),tl(),e()}}),(e,l)=>{const t=ul,a=cl,o=pl,i=c,u=d;return ge(),ye("div",pt,[Pe(u,{"label-placement":"left"},{default:Se((()=>[Pe(i,{label:e.$t("Config.All.SessionTime.Form.Time")},{default:Se((()=>[we("div",null,[Pe(a,{value:Ae(n).option,"onUpdate:value":l[0]||(l[0]=e=>Ae(n).option=e)},{default:Se((()=>[(ge(),ye(Ee,null,Ie(s,(e=>Pe(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["value"]),Be(we("div",mt,[Pe(o,{value:Ae(n).custom,"onUpdate:value":l[1]||(l[1]=e=>Ae(n).custom=e),"show-button":!1,min:1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Hour")),1)])),_:1},8,["value"])],512),[[Fe,"custom"===Ae(n).option]])])])),_:1},8,["label"])])),_:1}),we("div",ft,$e(e.$t("Config.All.SessionTime.Form.Tips")),1)])}}}),bt={class:"w-260px"},_t={class:"text-error"},xt=_e({__name:"index",setup(e){const{t:l}=Re(),{info:t}=al(),a=Oe((()=>s(t.value.config.session_timeout))),n=ke(!1),s=e=>{const t=e/1440,a=e/60;return t>=1?"".concat(o(t)).concat(l("Public.Unit.Day")):a>=1?"".concat(o(a)).concat(l("Public.Unit.Hour")):"".concat(e).concat(l("Public.Unit.Minute"))},o=e=>{const l=e.toFixed(1);return l.endsWith(".0")?l.slice(0,-2):l},i=async()=>{n.value=!0};return(e,l)=>{const t=u,s=r,o=ze("i18n-t"),c=f;return ge(),ye(Ee,null,[Pe(Sl,{label:e.$t("Config.All.SessionTime.Label")},{desc:Se((()=>[Pe(o,{tag:"div",keypath:"Config.All.SessionTime.Desc"},{time:Se((()=>[we("span",_t,$e(Ae(a)),1)])),_:1})])),default:Se((()=>[we("div",bt,[Pe(t,{value:Ae(a),"onUpdate:value":l[0]||(l[0]=e=>qe(a)?a.value=e:null),spellcheck:"false",disabled:!0,placeholder:""},null,8,["value"])]),Pe(s,{class:"ml-8px",type:"primary",onClick:i},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1})])),_:1},8,["label"]),Pe(c,{show:Ae(n),"onUpdate:show":l[1]||(l[1]=e=>qe(n)?n.value=e:null),title:e.$t("Config.All.SessionTime.Form.Title"),area:40,"is-footer":!0,component:vt},null,8,["show","title"])],64)}}}),gt={class:"w-260px"},yt={class:"text-error"},wt=_e({__name:"index",setup(e){const{info:l}=al(),t=ke("");je((()=>{t.value=l.value.config.accept_domain}));const a=Oe((()=>l.value.config.accept_domain===t.value)),n=async()=>{await G({accept_domain:t.value}),i("".concat(window.location.protocol,"//").concat(t.value,":").concat(window.location.port).concat(window.location.pathname))};return(e,l)=>{const s=u,o=r;return ge(),Ue(Sl,{label:e.$t("Config.All.BindDomain.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.BindDomain.Desc.0")),1),we("span",yt,$e(e.$t("Config.All.BindDomain.Desc.1")),1)])),default:Se((()=>[we("div",gt,[Pe(s,{value:Ae(t),"onUpdate:value":l[0]||(l[0]=e=>qe(t)?t.value=e:null),spellcheck:"false",placeholder:""},null,8,["value"])]),Pe(o,{class:"ml-8px",type:"primary",disabled:Ae(a),onClick:n},{default:Se((()=>[Te($e(e.$t("Public.Btn.Save")),1)])),_:1},8,["disabled"])])),_:1},8,["label"])}}}),ht={class:"w-260px"},Ct=_e({__name:"index",setup(e){const{info:l}=al(),t=ke("");je((()=>{t.value=l.value.config.accept_ip.join(",")}));const a=Oe((()=>l.value.config.accept_ip.join(",")===t.value)),n=async()=>{await P({accept_ip:t.value}),i()};return(e,l)=>{const s=u,o=r;return ge(),Ue(Sl,{label:e.$t("Config.All.AuthIp.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.AuthIp.Desc.0")),1),we("span",null,$e(e.$t("Config.All.AuthIp.Desc.1")),1)])),default:Se((()=>[we("div",ht,[Pe(s,{value:Ae(t),"onUpdate:value":l[0]||(l[0]=e=>qe(t)?t.value=e:null),spellcheck:"false",placeholder:""},null,8,["value"])]),Pe(o,{class:"ml-8px",type:"primary",disabled:Ae(a),onClick:n},{default:Se((()=>[Te($e(e.$t("Public.Btn.Save")),1)])),_:1},8,["disabled"])])),_:1},8,["label"])}}}),$t={class:"w-260px"},Rt=_e({__name:"index",setup(e){const{info:l}=al(),t=async()=>{await S(),tl()};return(e,a)=>{const n=u,s=r;return ge(),Ue(Sl,{label:e.$t("Config.All.ServerTime.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.ServerTime.Desc")),1)])),default:Se((()=>[we("div",$t,[Pe(n,{value:Ae(l).systemdate,"onUpdate:value":a[0]||(a[0]=e=>Ae(l).systemdate=e),spellcheck:"false",disabled:"",placeholder:""},null,8,["value"])]),Pe(s,{type:"primary",class:"ml-8px",onClick:t},{default:Se((()=>[Te($e(e.$t("Public.Btn.Sync")),1)])),_:1})])),_:1},8,["label"])}}}),kt={class:"px-24px pt-12px"},Gt={class:"w-240px"},Pt=_e({__name:"form",setup(e,{expose:l}){const{t:t}=Re(),{info:a}=al(),n=ke(null),s=Ge({admin_path:a.value.config.admin_path.substring(1)}),o={admin_path:[{required:!0,trigger:["blur","input"],validator:(e,l)=>!!l||new Error(t("Config.All.SecureEntrance.Place"))}]};return l({onConfirm:async e=>{var l;await(null==(l=n.value)?void 0:l.validate()),await A({admin_path:s.admin_path}),a.value.config.admin_path=s.admin_path,i(1e3),e()}}),(e,l)=>{const t=u,a=c,i=d;return ge(),ye("section",kt,[Pe(i,{ref_key:"formRef",ref:n,model:Ae(s),rules:o,"label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(a,{label:e.$t("Config.All.SecureEntrance.Label"),path:"admin_path"},{default:Se((()=>[we("div",Gt,[Pe(t,{value:Ae(s).admin_path,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).admin_path=e),spellcheck:"false",placeholder:e.$t("Config.All.SecureEntrance.Place")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),St={class:"w-260px"},At=_e({__name:"index",setup(e){const{info:l}=al(),t=ke(!1);return(e,a)=>{const n=u,s=r,o=f;return ge(),ye(Ee,null,[Pe(Sl,{label:e.$t("Config.All.SecureEntrance.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.SecureEntrance.Desc")),1)])),default:Se((()=>[we("div",St,[Pe(n,{value:Ae(l).config.admin_path,"onUpdate:value":a[0]||(a[0]=e=>Ae(l).config.admin_path=e),spellcheck:"false",disabled:"",placeholder:""},null,8,["value"])]),Pe(s,{type:"primary",class:"ml-8px",onClick:a[1]||(a[1]=e=>t.value=!0)},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1})])),_:1},8,["label"]),Pe(o,{show:Ae(t),"onUpdate:show":a[2]||(a[2]=e=>qe(t)?t.value=e:null),title:e.$t("Config.All.SecureEntrance.FormTitle"),area:40,"is-footer":!0,component:Pt},null,8,["show","title"])],64)}}}),Tt={class:"w-380px p-8px"},Ut={class:"help-info mb-20px"},qt={class:"text-error"},Mt={class:"text-error"},Dt={class:"w-210px"},Lt=_e({__name:"form",setup(e,{expose:l}){const{t:t}=Re(),{info:a}=T(),n=ke(),s=Ge({port:a.port}),o={port:[{required:!0,trigger:["blur","input"],validator:(e,l)=>!!l||new Error(t("Config.All.Port.Place"))}]},u=ke(),r=async e=>{var l;await(null==(l=n.value)?void 0:l.validate());const{port:t}=s;await U({port:t});const{hostname:o,protocol:u,pathname:c}=window.location;a.port=t;{const e="".concat(u,"//").concat(o,":").concat(t).concat(c);i(e)}};return l({onConfirm:async e=>{var l;try{await(null==(l=u.value)?void 0:l.validate()),r(e)}catch(t){}}}),(e,l)=>{const t=ll,a=pl,i=c,r=d,p=m;return ge(),ye("section",Tt,[we("div",Ut,[Pe(t,null,{default:Se((()=>[we("li",qt,$e(e.$t("Config.All.Port.Tips.0")),1),we("li",Mt,$e(e.$t("Config.All.Port.Tips.1")),1)])),_:1})]),Pe(r,{ref_key:"formRef",ref:n,model:Ae(s),rules:o,"label-width":"70","label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(i,{label:e.$t("Config.All.Port.Label"),path:"port"},{default:Se((()=>[we("div",Dt,[Pe(a,{value:Ae(s).port,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).port=e),placeholder:e.$t("Config.All.Port.Place"),"show-button":!1},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Pe(Ol,{ref_key:"agreeRiskRef",ref:u},{checked:Se((()=>[we("span",null,$e(e.$t("Config.All.Port.AgreeDesc")),1),we("span",{onClick:l[1]||(l[1]=e=>{e.stopPropagation()})},[Pe(p,{href:"https://www.bt.cn/bbs/thread-40037-1-1.html",target:"_blank"},{default:Se((()=>[Te($e(e.$t("Config.All.Port.AgreeLink")),1)])),_:1})])])),content:Se((()=>[we("span",null,$e(e.$t("Config.All.Port.AgreeErrMsg")),1)])),_:1},512)])}}}),Bt={class:"w-260px"},Ft={class:"text-error"},Et=_e({__name:"index",setup(e){const{info:l}=al(),t=ke(!1);return(e,a)=>{const n=pl,s=r,o=f;return ge(),ye(Ee,null,[Pe(Sl,{label:e.$t("Config.All.Port.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.Port.Desc.0")),1),we("span",Ft,$e(e.$t("Config.All.Port.Desc.1")),1)])),default:Se((()=>[we("div",Bt,[Pe(n,{value:Ae(l).port,"onUpdate:value":a[0]||(a[0]=e=>Ae(l).port=e),disabled:"",placeholder:"","show-button":!1},null,8,["value"])]),Pe(s,{type:"primary",class:"ml-8px",onClick:a[1]||(a[1]=e=>t.value=!0)},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1})])),_:1},8,["label"]),Pe(o,{show:Ae(t),"onUpdate:show":a[2]||(a[2]=e=>qe(t)?t.value=e:null),title:e.$t("Config.All.Port.FormTitle"),"is-footer":!0,component:Lt},null,8,["show","title"])],64)}}}),jt={class:"pt-16px pl-8px pr-32px"},It={class:"w-210px"},Ot={class:"w-210px"},zt=_e({__name:"form",setup(e,{expose:l}){const{t:t}=Re(),a=ke(null),n=Ge({username:"",again:""}),s={username:{required:!0,message:t("Config.All.Username.UsernamePlace"),trigger:["blur","input"]},again:{required:!0,trigger:["blur","input"],validator:(e,l)=>l?l===n.username||new Error(t("Config.All.Username.AgainErrMsg")):new Error(t("Config.All.Username.AgainPlace"))}};return l({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate()),await q(t("Config.All.Username.Request"),{username:n.username}),i()}}),(e,l)=>{const t=u,o=c,i=d;return ge(),ye("div",jt,[Pe(i,{ref_key:"formRef",ref:a,model:Ae(n),rules:s,"label-width":"100px","label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(o,{label:e.$t("Config.All.Username.Username"),path:"username"},{default:Se((()=>[we("div",It,[Pe(t,{value:Ae(n).username,"onUpdate:value":l[0]||(l[0]=e=>Ae(n).username=e),spellcheck:"false",placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Pe(o,{label:e.$t("Config.All.Username.Again"),path:"again"},{default:Se((()=>[we("div",Ot,[Pe(t,{value:Ae(n).again,"onUpdate:value":l[1]||(l[1]=e=>Ae(n).again=e),spellcheck:"false",placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),Ht={class:"w-260px"},Nt=_e({__name:"index",setup(e){const l=M(),{userinfo:t}=He(l),a=ke(!1),n=()=>{a.value=!0};return(e,l)=>{const s=u,o=r,i=f;return ge(),Ue(Sl,{label:e.$t("Config.All.Username.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.Username.Desc")),1)])),default:Se((()=>[we("div",Ht,[Pe(s,{value:Ae(t).username,disabled:"",placeholder:""},null,8,["value"])]),Pe(o,{type:"primary",class:"ml-8px",onClick:n},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1}),Pe(i,{show:Ae(a),"onUpdate:show":l[0]||(l[0]=e=>qe(a)?a.value=e:null),title:e.$t("Config.All.Username.FormTitle"),"is-footer":!0,component:zt},null,8,["show","title"])])),_:1},8,["label"])}}}),Kt={class:"pt-16px pl-8px pr-32px"},Jt={class:"w-210px"},Wt={class:"ml-8px"},Xt={class:"w-210px"},Vt=_e({__name:"form",setup(e,{expose:l}){const{t:t}=Re(),a=ke(null),n=Ge({password:"",again:""}),s={password:{required:!0,message:t("Config.All.Password.PasswordPlace"),trigger:["blur","input"]},again:{required:!0,trigger:["blur","input"],validator:(e,l)=>l?l===n.password||new Error(t("Config.All.Password.AgainErrMsg")):new Error(t("Config.All.Password.AgainPlace"))}},o=()=>{const e=ml(10);n.password=e,n.again=e};return l({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate()),await q(t("Config.All.Password.Request"),{password:n.password}),i()}}),(e,l)=>{const t=u,i=x,r=c,p=d;return ge(),ye("div",Kt,[Pe(p,{ref_key:"formRef",ref:a,model:Ae(n),rules:s,"label-width":"100px","label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(r,{label:e.$t("Config.All.Password.Password"),path:"password"},{default:Se((()=>[we("div",Jt,[Pe(t,{value:Ae(n).password,"onUpdate:value":l[0]||(l[0]=e=>Ae(n).password=e),spellcheck:"false",placeholder:""},null,8,["value"])]),we("div",Wt,[Pe(i,{class:"cursor-pointer",name:"refresh",size:"20",onClick:o})])])),_:1},8,["label"]),Pe(r,{label:e.$t("Config.All.Password.Again"),path:"again"},{default:Se((()=>[we("div",Xt,[Pe(t,{value:Ae(n).again,"onUpdate:value":l[1]||(l[1]=e=>Ae(n).again=e),spellcheck:"false",placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),Zt={class:"w-260px"},Yt=_e({__name:"index",setup(e){const l=ke(!1),t=()=>{l.value=!0};return(e,a)=>{const n=u,s=r,o=f;return ge(),Ue(Sl,{label:e.$t("Config.All.Password.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.Password.Desc")),1)])),default:Se((()=>[we("div",Zt,[Pe(n,{value:"********",disabled:"",placeholder:""})]),Pe(s,{type:"primary",class:"ml-8px",onClick:t},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1}),Pe(o,{show:Ae(l),"onUpdate:show":a[0]||(a[0]=e=>qe(l)?l.value=e:null),title:e.$t("Config.All.Password.FormTitle"),"is-footer":!0,component:Vt},null,8,["show","title"])])),_:1},8,["label"])}}}),Qt={class:"w-260px"},ea=_e({__name:"index",setup(e){const{t:l}=Re(),t=M(),{userinfo:a}=He(t),n=Oe((()=>{const{phone:e}=a.value.bt_account;return e||l("Config.All.BindAccount.Username")})),s=D(),o=()=>{s.showBindAccount()},c=()=>{w({title:l("Config.All.BindAccount.UnBind.Title"),content:l("Config.All.BindAccount.UnBind.Content"),onConfirm:async()=>{await L(),i()}})};return(e,l)=>{const t=u,a=r;return ge(),Ue(Sl,{label:e.$t("Config.All.BindAccount.Label")},{default:Se((()=>[we("div",Qt,[Pe(t,{value:Ae(n),spellcheck:"false",disabled:"",placeholder:""},null,8,["value"])]),Pe(a,{type:"primary",class:"ml-8px",onClick:o},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1}),Pe(a,{class:"ml-8px",onClick:c},{default:Se((()=>[Te($e(e.$t("Config.All.BindAccount.UnBind.Btn")),1)])),_:1})])),_:1},8,["label"])}}}),la={class:"p-8px"},ta={class:"w-110px"},aa={class:"text-error"},na=_e({__name:"form",setup(e,{expose:l}){const{info:t}=T(),a=ke(),n=Ge({expire:"".concat(t.config.password_expire)}),s={expire:[{required:!0,trigger:["blur","input"]}]};return l({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate());const l=Number.parseFloat(n.expire);await B({password_expire:l}),i(1e3)}}),(e,l)=>{const t=u,o=c,i=d,r=ll;return ge(),ye("section",la,[Pe(i,{ref_key:"formRef",ref:a,model:Ae(n),rules:s,"label-width":"109px","label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(o,{label:e.$t("Config.All.PwdTime.Label"),path:"expire"},{default:Se((()=>[we("div",ta,[Pe(t,{value:Ae(n).expire,"onUpdate:value":l[0]||(l[0]=e=>Ae(n).expire=e),spellcheck:"false",class:"number-input",placeholder:"","input-props":{type:"number"}},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Day")),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Pe(r,null,{default:Se((()=>[we("li",aa,$e(e.$t("Config.All.PwdTime.Tips.0")),1),we("li",null,$e(e.$t("Config.All.PwdTime.Tips.1")),1)])),_:1})])}}}),sa={class:"w-260px"},oa=_e({__name:"index",setup(e){const{t:l}=Re(),{info:t}=al(),a=ke(!1),n=Oe((()=>{const{config:e}=t.value,{password_expire:a,password_expire_time:n}=e;if(a<=0)return l("Config.All.PwdTime.NoExpire");const s=F(1e3*n,Date.now());return l("Config.All.PwdTime.Expire",{day:s,date:E(1e3*n,"yyyy/MM/dd")})}));return(e,l)=>{const t=u,s=r,o=f,i=Ne("en");return ge(),ye(Ee,null,[Be((ge(),Ue(Sl,{label:e.$t("Config.All.PwdTime.Label")},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.PwdTime.Desc")),1)])),default:Se((()=>[we("div",sa,[Pe(t,{value:Ae(n),spellcheck:"false",disabled:"",placeholder:""},null,8,["value"])]),Pe(s,{type:"primary",class:"ml-8px",onClick:l[0]||(l[0]=e=>a.value=!0)},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1})])),_:1},8,["label"])),[[i]]),Pe(o,{show:Ae(a),"onUpdate:show":l[1]||(l[1]=e=>qe(a)?a.value=e:null),title:e.$t("Config.All.PwdTime.ModalTitle"),"is-footer":!0,component:na},null,8,["show","title"])],64)}}}),ia=_e({__name:"index",setup(e){const l=Ke(),t=()=>{l.push("/config/customized")};return(e,l)=>{const a=r;return ge(),Ue(Sl,{label:e.$t("Config.All.UserDefined.Label"),"show-icon":!0},{desc:Se((()=>[we("span",null,$e(e.$t("Config.All.UserDefined.Desc")),1)])),default:Se((()=>[Pe(a,{type:"primary",size:"small",onClick:t},{default:Se((()=>[Te($e(e.$t("Config.All.UserDefined.Btn")),1)])),_:1})])),_:1},8,["label"])}}}),ua=_e({__name:"index",setup(e){const l=T();return l.getInfo(),(e,t)=>{const a=p,n=Ne("en");return ge(),Ue(a,{show:Ae(l).loading},{default:Se((()=>[Pe(ot),Pe(ut),Be(Pe(ct,null,null,512),[[n]]),Pe(dt),Pe(El),Be(Pe(ia,null,null,512),[[n]]),Pe(wt),Pe(Ct),Be(Pe(Rt,null,null,512),[[n]]),Pe(xt),Pe(At),Pe(Et),Pe(Nt),Pe(Yt),Be(Pe(ea,null,null,512),[[n]]),Pe(oa)])),_:1},8,["show"])}}}),ca=_e({__name:"index",props:{query:{type:String,required:!0,default:""},showNone:{type:Boolean,default:!0}},setup(e){const l=e,t=ke(!1),a=ke();return Me((()=>l.query),(e=>{Je((()=>{0===a.value.querySelectorAll(".high-search").length&&""!==e?t.value=!0:t.value=!1}))})),(l,n)=>(ge(),ye("div",null,[Be(we("div",{ref_key:"searchRef",ref:a},[Ce(l.$slots,"default")],512),[[Fe,!Ae(t)]]),e.showNone?Be((ge(),ye("div",{key:0,class:"flex-center h-100px text-[#666] text-15px"},$e(l.$t("Public.Search.None",{query:e.query})),513)),[[Fe,Ae(t)]]):he("",!0)]))}}),ra={class:"site-box"},da={class:"flex justify-between"},pa=t(_e({__name:"site",setup(e,{expose:l}){const{type:t,callback:a}=Le("component-data"),n=ke([]),s=ke([]),o=ke([]),i=()=>{o.value=n.value.map((e=>O(e.key)?e.key:""))},u=()=>{o.value=[]},c=ke(""),d=e=>{""!==e?(n.value=[],s.value.forEach((l=>{(o.value.includes(l.key)||O(l.label)&&l.label.includes(e))&&n.value.push(l)}))):n.value=s.value};return l({onConfirm:async e=>{await(null==a?void 0:a()),await z({site_id_list:o.value,type:t}),e()}}),(async()=>{const{res:e}=await j(),{list:l}=e;I(l)?n.value=l.map((e=>({label:e.site_name,key:e.site_id}))):n.value=[],s.value=n.value})(),(e,l)=>{const t=r,a=fl,s=H,p=_l,m=N;return ge(),ye("div",ra,[we("div",da,[we("div",null,[Pe(t,{onClick:i},{default:Se((()=>[Te($e(e.$t("Public.SiteCheckbox.All")),1)])),_:1}),Pe(t,{class:"ml-8px",onClick:u},{default:Se((()=>[Te($e(e.$t("Public.SiteCheckbox.NotAll")),1)])),_:1})]),we("div",null,[Pe(a,{value:Ae(c),"onUpdate:value":[l[0]||(l[0]=e=>qe(c)?c.value=e:null),d],prefix:!0,width:200,placeholder:e.$t("Public.SiteCheckbox.Search")},null,8,["value","placeholder"])])]),Pe(s,{class:"!my-12px"}),Pe(m,{class:"max-h-280px"},{default:Se((()=>[Pe(p,{"checked-keys":Ae(o),"onUpdate:checkedKeys":l[1]||(l[1]=e=>qe(o)?o.value=e:null),checkable:"","block-line":"","check-on-click":"",data:Ae(n)},null,8,["checked-keys","data"])])),_:1})])}}}),[["__scopeId","data-v-0898a9e5"]]),ma=_e({__name:"index",props:{type:{type:String,required:!0},callback:{type:Function,default:()=>{}}},setup(e){const l=e,{t:t}=Re(),a={type:l.type,callback:l.callback},n=ke(!1),s=new Map([["idc",t("GlobalRule.Intercept.DisableIdc.Title")],["cc",t("GlobalRule.Intercept.CcDefense.Title")],["number_attacks",t("GlobalRule.Intercept.Attack.Title")],["sql",t("GlobalRule.SiteBug.Sql.Title")],["xss",t("GlobalRule.SiteBug.Xss.Title")],["nday","通用漏洞防御"],["ssrf",t("GlobalRule.SiteBug.Ssrf.Title")],["cookie",t("GlobalRule.SiteBug.Cookie.Title")],["host","Host头防御"],["file_upload",t("GlobalRule.FilePath.Upload.Title")],["from_data",t("GlobalRule.FilePath.Monstrous.Title")],["download",t("GlobalRule.FilePath.Download.Title")],["file_import",t("GlobalRule.FilePath.Contain.Title")],["php_eval",t("GlobalRule.FilePath.Php.Title")],["no_browser","非浏览器防御"],["scan",t("GlobalRule.Machine.Scanner.Title")],["user_agent",t("GlobalRule.Spider.Crawler.Title")],["rce","命令执行拦截"]]),o=Oe((()=>t("GlobalRule.ApplyTitle",{name:s.get(l.type)}))),i=()=>{a.type=l.type,a.callback=l.callback,n.value=!0};return(e,l)=>{const t=r,s=f;return ge(),ye(Ee,null,[Pe(t,{class:"w-104px px-0!",size:"small",onClick:i},{default:Se((()=>[Te($e(e.$t("GlobalRule.ApplyBtn")),1)])),_:1}),Pe(s,{show:Ae(n),"onUpdate:show":l[0]||(l[0]=e=>qe(n)?n.value=e:null),title:Ae(o),data:a,component:pa,"is-footer":!0,"confirm-text":e.$t("Public.Btn.Apply")},null,8,["show","title","confirm-text"])],64)}}}),fa={ref:"cardRef",class:"global-card"},va={class:"flex-1 p-16px"},ba={class:"tools"},_a=t(_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl;return ge(),Ue(a,{query:Ae(t)},{default:Se((()=>[we("div",fa,[we("div",va,[Ce(e.$slots,"default",{},void 0,!0)]),we("div",ba,[Ce(e.$slots,"tools",{},void 0,!0)])],512)])),_:3},8,["query"])}}}),[["__scopeId","data-v-10b3f251"]]),xa={class:"mb-8px flex justify-between"},ga={class:"text-15px"},ya={class:"hidden"},wa=we("div",null,null,-1),ha={class:"text-desc"},Ca={class:"flex flex-wrap items-center mb-8px"},$a={class:"w-68px"},Ra={class:"w-130px ml-8px mr-18px"},ka={class:"w-75px"},Ga={class:"w-130px ml-8px mr-18px"},Pa={class:"w-130px ml-8px mr-18px"},Sa={class:"flex flex-wrap items-center mb-8px"},Aa={class:"mr-4px"},Ta=we("div",{class:"font-bold mb-5px"},"宽松",-1),Ua=we("div",{class:"mb-10px"},"效果差、拦截少",-1),qa=we("div",{class:"font-bold mb-5px"},"标准（推荐）",-1),Ma=we("div",{class:"mb-10px"},"推荐使用、效果好、误报少",-1),Da=we("div",{class:"font-bold mb-5px"},"严格",-1),La=we("div",{class:"mb-10px"},"谨慎使用：效果好、误报较多",-1),Ba=we("div",{class:"font-bold mb-5px"},"超严格",-1),Fa=we("div",null,"不推荐使用：效果强、大量误报",-1),Ea={class:"w-130px ml-8px mr-18px"},ja=we("span",{class:"mr-8px"},"URL级CC防御",-1),Ia={class:"w-130px mr-18px"},Oa=we("span",{class:"mr-8px"},"响应状态",-1),za={class:"w-130px mr-18px"},Ha={class:"text-error"},Na={class:"text-error"},Ka={class:"text-error"},Ja=_e({__name:"index",setup(e){const{t:l}=Re(),t=K(),{config:a,timestamp:n}=He(t),s=Ge({open:!0,cycle:60,limit:120,endtime:600,status:444,cc_type_status:1,is_cc_url:1}),o=ke([{label:l("GlobalRule.Form.TypeOptions.1"),value:1},{label:l("GlobalRule.Form.TypeOptions.2"),value:2},{label:l("GlobalRule.Form.TypeOptions.3"),value:3},{label:l("GlobalRule.Form.TypeOptions.4"),value:4}]),i=ke([{label:"开启",value:1},{label:"关闭",value:0}]),u=Oe((()=>new Map(o.value.map((e=>[e.value,e.label]))))),c=ke([{label:l("GlobalRule.Form.StatusOptions.200"),value:200},{label:l("GlobalRule.Form.StatusOptions.404"),value:404},{label:l("GlobalRule.Form.StatusOptions.403"),value:403},{label:l("GlobalRule.Form.StatusOptions.444"),value:444},{label:l("GlobalRule.Form.StatusOptions.500"),value:500},{label:l("GlobalRule.Form.StatusOptions.502"),value:502},{label:l("GlobalRule.Form.StatusOptions.503"),value:503}]),d=({option:e})=>l("GlobalRule.Form.StatusTag",{value:e.value});Me((()=>n.value),(e=>{if(e){const{cc:e}=a.value;Object.keys(s).forEach((l=>{s[l]=e[l]})),s.is_cc_url=e.is_cc_url?1:0}}),{immediate:!0});const p=async()=>{const e={...We(s),is_cc_url:1===s.is_cc_url,site_id:"",type:"global"};return e.cycle?e.limit?e.endtime?(await W(e),Promise.resolve()):(J(l("GlobalRule.Form.TimeErrMsg")),Promise.reject()):(J(l("GlobalRule.Form.RetryErrMsg")),Promise.reject()):(J(l("GlobalRule.Form.CycleErrMsg")),Promise.reject())};return(e,l)=>{const t=H,a=pl,n=sl,m=rl,f=ze("i18n-t"),v=r;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(v,{size:"small",class:"mb-8px w-104px",onClick:p},{default:Se((()=>[Te($e(e.$t("GlobalRule.SaveBtn")),1)])),_:1}),Pe(Ae(ma),{type:"cc",callback:p})])),default:Se((()=>[we("div",xa,[we("div",ga,[we("span",null,$e(e.$t("GlobalRule.Intercept.CcDefense.Title")),1),we("span",ya,$e(e.$t("GlobalRule.Menu.0")),1)]),wa]),we("div",ha,$e(e.$t("GlobalRule.Intercept.CcDefense.Desc")),1),Pe(t),we("div",Ca,[we("span",$a,$e(e.$t("GlobalRule.Form.Cycle")),1),we("div",Ra,[Pe(a,{value:Ae(s).cycle,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).cycle=e),size:"small",min:10,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])]),we("span",ka,$e(e.$t("GlobalRule.Form.Retry")),1),we("div",Ga,[Pe(a,{value:Ae(s).limit,"onUpdate:value":l[1]||(l[1]=e=>Ae(s).limit=e),size:"small",min:10,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Time")),1)])),_:1},8,["value"])]),we("span",null,$e(e.$t("GlobalRule.Form.Time")),1),we("div",Pa,[Pe(a,{value:Ae(s).endtime,"onUpdate:value":l[2]||(l[2]=e=>Ae(s).endtime=e),size:"small",min:10,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])])]),we("div",Sa,[we("span",Aa,$e(e.$t("GlobalRule.Form.Type")),1),Pe(n,null,{default:Se((()=>[Ta,Ua,qa,Ma,Da,La,Ba,Fa])),_:1}),we("div",Ea,[Pe(m,{value:Ae(s).cc_type_status,"onUpdate:value":l[3]||(l[3]=e=>Ae(s).cc_type_status=e),size:"small",options:Ae(o),"consistent-menu-width":!1},null,8,["value","options"])]),ja,we("div",Ia,[Pe(m,{value:Ae(s).is_cc_url,"onUpdate:value":l[4]||(l[4]=e=>Ae(s).is_cc_url=e),size:"small",options:Ae(i),"consistent-menu-width":!1},null,8,["value","options"])]),Oa,we("div",za,[Pe(m,{value:Ae(s).status,"onUpdate:value":l[5]||(l[5]=e=>Ae(s).status=e),size:"small",options:Ae(c),"render-tag":d,"consistent-menu-width":!1},null,8,["value","options"])])]),Pe(f,{tag:"div",keypath:"GlobalRule.Intercept.CcDefense.Content"},{cycle:Se((()=>[we("span",Ha,$e(Ae(s).cycle||0),1)])),type:Se((()=>[we("span",null,$e(Ae(u).get(Ae(s).cc_type_status)),1)])),retry:Se((()=>[we("span",Na,$e(Ae(s).limit||0),1)])),time:Se((()=>[we("span",Ka,$e(Ae(s).endtime||0),1)])),_:1})])),_:1})}}}),Wa={class:"mb-8px text-15px"},Xa={class:"hidden"},Va={class:"text-desc"},Za={class:"flex flex-wrap items-center mb-8px"},Ya={class:"w-80px ml-8px mr-12px"},Qa={class:"w-80px ml-8px mr-12px"},en={class:"w-80px ml-8px mr-12px"},ln={class:"text-error"},tn={class:"text-error"},an={class:"text-error"},nn=_e({__name:"index",setup(e){const{t:l}=Re(),t=K(),{config:a,timestamp:n}=He(t),s=Ge({retry_cycle:120,retry:10,retry_time:1800});Me((()=>n.value),(e=>{if(e){const e=a.value.number_attacks;Object.keys(s).forEach((l=>{s[l]=e[l]}))}}),{immediate:!0});const o=async()=>{const e={...We(s),site_id:""};return e.retry_cycle?e.retry?e.retry_time?(await X(e),Promise.resolve()):(J(l("GlobalRule.Form.TimeErrMsg")),Promise.reject()):(J(l("GlobalRule.Form.AttackErrMsg")),Promise.reject()):(J(l("GlobalRule.Form.CycleErrMsg")),Promise.reject())};return(e,l)=>{const t=H,a=pl,n=ze("i18n-t"),i=r;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(i,{class:"mb-8px w-104px",size:"small",onClick:o},{default:Se((()=>[Te($e(e.$t("GlobalRule.SaveBtn")),1)])),_:1}),Pe(Ae(ma),{type:"number_attacks",callback:o})])),default:Se((()=>[we("div",Wa,[we("span",null,$e(e.$t("GlobalRule.Intercept.Attack.Title")),1),we("span",Xa,$e(e.$t("GlobalRule.Menu.0")),1)]),we("div",Va,$e(e.$t("GlobalRule.Intercept.Attack.Desc")),1),Pe(t),we("div",Za,[we("span",null,$e(e.$t("GlobalRule.Form.Cycle")),1),we("div",Ya,[Pe(a,{value:Ae(s).retry_cycle,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).retry_cycle=e),size:"small",min:0,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])]),we("span",null,$e(e.$t("GlobalRule.Form.Attack")),1),we("div",Qa,[Pe(a,{value:Ae(s).retry,"onUpdate:value":l[1]||(l[1]=e=>Ae(s).retry=e),size:"small",min:0,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Time")),1)])),_:1},8,["value"])]),we("span",null,$e(e.$t("GlobalRule.Form.Time")),1),we("div",en,[Pe(a,{value:Ae(s).retry_time,"onUpdate:value":l[2]||(l[2]=e=>Ae(s).retry_time=e),size:"small",min:0,"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])])]),Pe(n,{tag:"div",keypath:"GlobalRule.Intercept.Attack.Content"},{cycle:Se((()=>[we("span",ln,$e(Ae(s).retry_cycle||0),1)])),retry:Se((()=>[we("span",tn,$e(Ae(s).retry||0),1)])),time:Se((()=>[we("span",an,$e(Ae(s).retry_time||0),1)])),_:1})])),_:1})}}}),sn={class:"w-480px"},on={class:"w-200px"},un={class:"ml-8px text-desc"},cn={class:"w-200px"},rn={class:"w-200px"},dn=_e({__name:"form",setup(e,{expose:l}){const{isEdit:t,row:a}=Le("component-data"),{t:n}=Re(),s=Ge({uri:"",frequency:30,cycle:60}),o={uri:{required:!0,message:"请输入URL",trigger:["blur","change"]},frequency:{required:!0,trigger:["blur","change"],validator:(e,l)=>!!l||new Error(n("GlobalRule.Intercept.SingleUrl.Form.FrequencyErrMsg"))},cycle:{required:!0,trigger:["blur","change"],validator:(e,l)=>!!l||new Error(n("GlobalRule.Intercept.SingleUrl.Form.CycleErrMsg"))}},i=K(),r=ke(null);return l({onConfirm:async e=>{var l;await(null==(l=r.value)?void 0:l.validate()),t?await V(We(s)):await Z(We(s)),await i.getConfig(),e()}}),t&&(s.uri=a.url,s.cycle=a.cycle,s.frequency=a.frequency),(e,l)=>{const a=u,n=c,i=pl,p=d,m=ll;return ge(),ye("div",sn,[Pe(p,{ref_key:"formRef",ref:r,model:Ae(s),rules:o,"label-width":"118","label-placement":"left","require-mark-placement":"left"},{default:Se((()=>[Pe(n,{label:e.$t("GlobalRule.Intercept.SingleUrl.Form.Url"),path:"uri"},{default:Se((()=>[we("div",on,[Pe(a,{value:Ae(s).uri,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).uri=e),disabled:Ae(t),placeholder:"/index.php"},null,8,["value","disabled"])]),we("span",un,$e(e.$t("GlobalRule.Intercept.SingleUrl.Form.UrlTips")),1)])),_:1},8,["label"]),Pe(n,{label:e.$t("GlobalRule.Intercept.SingleUrl.Form.Frequency"),path:"frequency"},{default:Se((()=>[we("div",cn,[Pe(i,{value:Ae(s).frequency,"onUpdate:value":l[1]||(l[1]=e=>Ae(s).frequency=e),"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Time")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),Pe(n,{label:e.$t("GlobalRule.Intercept.SingleUrl.Form.Cycle"),path:"cycle"},{default:Se((()=>[we("div",rn,[Pe(i,{value:Ae(s).cycle,"onUpdate:value":l[2]||(l[2]=e=>Ae(s).cycle=e),"show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Pe(m,{class:"pl-32px"},{default:Se((()=>[we("li",null,$e(e.$t("GlobalRule.Intercept.SingleUrl.Form.Tips")),1)])),_:1})])}}}),pn={class:"w-560px"};function mn(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Xe(e)}const fn=_e({__name:"set",setup(e){const{t:l}=Re(),t=K(),{config:a}=He(t),n=Ge({data:[]}),s=Ge({show:!1,title:"",data:{row:{},isEdit:!1}}),o=ke([{key:"url",title:l("GlobalRule.Intercept.SingleUrl.Form.Url"),ellipsis:{tooltip:{width:"trigger"}}},{key:"frequency",title:l("GlobalRule.Intercept.SingleUrl.Form.Frequency"),width:100},{key:"cycle",title:l("GlobalRule.Intercept.SingleUrl.Form.Cycle"),width:100,render:e=>"".concat(e.cycle," ").concat(l("Public.Unit.Seconds"))},{key:"action",title:l("Public.Table.Action"),width:100,render:e=>{let t,a;return Pe(Ee,null,[Pe(m,{onClick:()=>{u(e)}},mn(t=l("Public.Btn.Edit"))?t:{default:()=>[t]}),Pe(m,{class:"ml-10px",onClick:()=>{c(e)}},mn(a=l("Public.Btn.Del"))?a:{default:()=>[a]})])}}]),i=()=>{s.data.row={},s.data.isEdit=!1,s.title=l("GlobalRule.Intercept.SingleUrl.Add"),s.show=!0},u=e=>{s.data.row=e,s.data.isEdit=!0,s.title=l("GlobalRule.Intercept.SingleUrl.Edit"),s.show=!0},c=e=>{w({title:l("GlobalRule.Intercept.SingleUrl.DelConfirm.Title"),content:l("GlobalRule.Intercept.SingleUrl.DelConfirm.Content",{url:e.url}),onConfirm:async()=>{await Y({uri:e.url,cycle:e.cycle,frequency:e.frequency}),t.getConfig()}})};return Me((()=>a.value.cc_uri_frequency),(e=>{e&&(n.data=Object.keys(e).map((l=>({url:l,cycle:e[l].cycle,frequency:e[l].frequency}))))}),{deep:!0,immediate:!0}),(e,l)=>{const t=r,a=dl,u=gl,c=f;return ge(),ye("div",pn,[Pe(u,null,{toolsLeft:Se((()=>[Pe(t,{type:"primary",onClick:i},{default:Se((()=>[Te($e(e.$t("Public.Btn.Add")),1)])),_:1})])),content:Se((()=>[Pe(a,{"max-height":360,data:Ae(n).data,columns:Ae(o)},null,8,["data","columns"])])),_:1}),Pe(c,{show:Ae(s).show,"onUpdate:show":l[0]||(l[0]=e=>Ae(s).show=e),title:Ae(s).title,"is-footer":!0,data:Ae(s).data,component:dn},null,8,["show","title","data"])])}}}),vn={class:"mb-12px flex justify-between"},bn={class:"text-15px"},_n={class:"hidden"},xn={class:"text-desc"},gn=_e({__name:"index",setup(e){const l=ke(!1),t=()=>{l.value=!0};return(e,a)=>{const n=r,s=f;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(n,{size:"small",class:"w-104px",onClick:t},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1})])),default:Se((()=>[we("div",vn,[we("div",bn,[we("span",null,$e(e.$t("GlobalRule.Intercept.SingleUrl.Title")),1),we("span",_n,$e(e.$t("GlobalRule.Menu.0")),1)])]),we("div",xn,$e(e.$t("GlobalRule.Intercept.SingleUrl.Desc")),1),Pe(s,{show:Ae(l),"onUpdate:show":a[0]||(a[0]=e=>qe(l)?l.value=e:null),title:e.$t("GlobalRule.Intercept.SingleUrl.Title"),component:fn},null,8,["show","title"])])),_:1})}}}),yn={class:"mb-8px text-15px"},wn={class:"hidden"},hn={class:"text-desc"},Cn={class:"flex flex-wrap items-center mb-8px"},$n={class:"w-80px ml-8px mr-12px"},Rn={class:"w-80px ml-8px mr-12px"},kn={class:"text-error"},Gn={class:"text-error"},Pn=_e({__name:"index",setup(e){const{t:l}=Re(),t=K(),{config:a,timestamp:n}=He(t),s=Ge({cycle:60,limit:120});Me((()=>n.value),(e=>{if(e){const e=a.value.file_scan;e&&Object.keys(s).forEach((l=>{s[l]=e[l]}))}}),{immediate:!0});const o=async()=>{const e={...We(s),mode:3};e.cycle?e.limit?await Q(e):J(l("GlobalRule.Form.404LimitErrMsg")):J(l("GlobalRule.Form.CycleErrMsg"))};return(e,l)=>{const t=H,a=pl,n=ze("i18n-t"),i=r;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(i,{class:"w-104px",size:"small",onClick:o},{default:Se((()=>[Te($e(e.$t("GlobalRule.Intercept.DirectoryScan.SaveBtn")),1)])),_:1})])),default:Se((()=>[we("div",yn,[we("span",null,$e(e.$t("GlobalRule.Intercept.DirectoryScan.Title")),1),we("span",wn,$e(e.$t("GlobalRule.Menu.0")),1)]),we("div",hn,$e(e.$t("GlobalRule.Intercept.DirectoryScan.Desc")),1),Pe(t),we("div",Cn,[we("span",null,$e(e.$t("GlobalRule.Form.Cycle")),1),we("div",$n,[Pe(a,{value:Ae(s).cycle,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).cycle=e),min:20,size:"small","show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Seconds")),1)])),_:1},8,["value"])]),we("span",null,$e(e.$t("GlobalRule.Form.404Limit")),1),we("div",Rn,[Pe(a,{value:Ae(s).limit,"onUpdate:value":l[1]||(l[1]=e=>Ae(s).limit=e),min:20,size:"small","show-button":!1},{suffix:Se((()=>[Te($e(e.$t("Public.Unit.Time")),1)])),_:1},8,["value"])])]),Pe(n,{tag:"div",keypath:"GlobalRule.Intercept.DirectoryScan.Content"},{cycle:Se((()=>[we("span",kn,$e(Ae(s).cycle||0),1)])),retry:Se((()=>[we("span",Gn,$e(Ae(s).limit||0),1)])),_:1})])),_:1})}}}),Sn=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t),visible:!0},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.0")),1)])),_:1},8,["query"])])),_:1}),Pe(Ja),Pe(nn),Pe(gn),Pe(Pn)])),_:1},8,["query"])}}}),An={class:"py-4px"},Tn={class:"mb-16px text-15px"},Un={class:"hidden"},qn={class:"text-desc"},Mn={class:"text-[#ccc]"},Dn={class:"mb-8px"},Ln=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.sql;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"sql",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),null,{tools:Se((()=>[we("div",Dn,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"sql"})])),default:Se((()=>[we("div",An,[we("div",Tn,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Sql.Title")),1),we("span",Un,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",qn,$e(e.$t("GlobalRule.SiteBug.Sql.Desc")),1),we("div",Mn,$e(e.$t("GlobalRule.SiteBug.Sql.Tips")),1)])])),_:1})}}}),Bn={class:"py-4px"},Fn={class:"mb-16px text-15px"},En={class:"hidden"},jn={class:"text-desc"},In={class:"text-[#ccc]"},On={class:"mb-8px"},zn=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.xss;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"xss",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",On,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"xss"})])),default:Se((()=>[we("div",Bn,[we("div",Fn,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Xss.Title")),1),we("span",En,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",jn,$e(e.$t("GlobalRule.SiteBug.Xss.Desc")),1),we("div",In,$e(e.$t("GlobalRule.SiteBug.Xss.Tips")),1)])])),_:1})}}}),Hn={class:"py-4px"},Nn={class:"mb-16px text-15px"},Kn={class:"hidden"},Jn={class:"text-desc"},Wn={class:"mb-8px"},Xn=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.nday;e&&(n.value=e.mode)}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"nday",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",Wn,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])])])),default:Se((()=>[we("div",Hn,[we("div",Nn,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Common.Title")),1),we("span",Kn,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",Jn,$e(e.$t("GlobalRule.SiteBug.Common.Desc")),1)])])),_:1})}}}),Vn={class:"py-4px"},Zn={class:"mb-16px text-15px"},Yn={class:"hidden"},Qn={class:"text-desc"},es={class:"mb-8px"},ls=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.password;e&&(n.value=e.mode)}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"password",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",es,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])])])),default:Se((()=>[we("div",Vn,[we("div",Zn,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Password.Title")),1),we("span",Yn,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",Qn,$e(e.$t("GlobalRule.SiteBug.Password.Desc")),1)])])),_:1})}}}),ts={class:"py-4px"},as={class:"mb-16px text-15px"},ns={class:"hidden"},ss={class:"text-desc"},os={class:"mb-8px"},is=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.ssrf;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"ssrf",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",os,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"ssrf"})])),default:Se((()=>[we("div",ts,[we("div",as,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Ssrf.Title")),1),we("span",ns,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",ss,$e(e.$t("GlobalRule.SiteBug.Ssrf.Desc")),1)])])),_:1})}}}),us={class:"py-4px"},cs={class:"mb-16px text-15px"},rs={class:"hidden"},ds={class:"text-desc"},ps={class:"mb-8px"},ms=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.cookie;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"cookie",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",ps,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"cookie"})])),default:Se((()=>[we("div",us,[we("div",cs,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Cookie.Title")),1),we("span",rs,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",ds,$e(e.$t("GlobalRule.SiteBug.Cookie.Desc")),1)])])),_:1})}}}),fs={class:"py-4px"},vs={class:"mb-16px text-15px"},bs={class:"hidden"},_s={class:"text-desc"},xs={class:"mb-8px"},gs=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.host;e&&(n.value=e.mode)}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"host",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",xs,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])])])),default:Se((()=>[we("div",fs,[we("div",vs,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Host.Title")),1),we("span",bs,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",_s,$e(e.$t("GlobalRule.SiteBug.Host.Desc")),1)])])),_:1})}}}),ys={class:"py-4px"},ws={class:"mb-16px text-15px"},hs={class:"hidden"},Cs={class:"text-desc"},$s={class:"mb-8px"},Rs=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.rce;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"rce",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",$s,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"rce"})])),default:Se((()=>[we("div",ys,[we("div",ws,[we("span",null,$e(e.$t("GlobalRule.SiteBug.Command.Title")),1),we("span",hs,$e(e.$t("GlobalRule.Menu.1")),1)]),we("div",Cs,$e(e.$t("GlobalRule.SiteBug.Command.Desc")),1)])])),_:1})}}}),ks=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{class:"mt-20px",query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t),visible:!0},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.1")),1)])),_:1},8,["query"])])),_:1}),Pe(Ln),Pe(zn),Pe(Xn),Pe(ls),Pe(is),Pe(ms),Pe(gs),Pe(Rs)])),_:1},8,["query"])}}}),Gs={class:"py-4px"},Ps={class:"mb-16px text-15px"},Ss={class:"hidden"},As={class:"text-desc"},Ts={class:"text-[#ccc]"},Us={class:"mb-8px"},qs=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.file_upload;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"file_upload",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),null,{tools:Se((()=>[we("div",Us,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"file_upload"})])),default:Se((()=>[we("div",Gs,[we("div",Ps,[we("span",null,$e(e.$t("GlobalRule.FilePath.Upload.Title")),1),we("span",Ss,$e(e.$t("GlobalRule.Menu.2")),1)]),we("div",As,$e(e.$t("GlobalRule.FilePath.Upload.Desc")),1),we("div",Ts,$e(e.$t("GlobalRule.FilePath.Upload.Tips")),1)])])),_:1})}}}),Ms={class:"py-4px"},Ds={class:"mb-12px text-15px"},Ls={class:"hidden"},Bs={class:"text-desc"},Fs={class:"mb-8px"},Es=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.from_data;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"from_data",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",Fs,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"from_data"})])),default:Se((()=>[we("div",Ms,[we("div",Ds,[we("span",null,$e(e.$t("GlobalRule.FilePath.Monstrous.Title")),1),we("span",Ls,$e(e.$t("GlobalRule.Menu.2")),1)]),we("div",Bs,$e(e.$t("GlobalRule.FilePath.Monstrous.Desc")),1)])])),_:1})}}}),js={class:"py-4px"},Is={class:"mb-12px text-15px"},Os={class:"hidden"},zs={class:"text-desc"},Hs={class:"text-[#ccc]"},Ns={class:"mb-8px"},Ks=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.download;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"download",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",Ns,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"download"})])),default:Se((()=>[we("div",js,[we("div",Is,[we("span",null,$e(e.$t("GlobalRule.FilePath.Download.Title")),1),we("span",Os,$e(e.$t("GlobalRule.Menu.2")),1)]),we("div",zs,$e(e.$t("GlobalRule.FilePath.Download.Desc")),1),we("div",Hs,$e(e.$t("GlobalRule.FilePath.Download.Tips")),1)])])),_:1})}}}),Js={class:"py-4px"},Ws={class:"mb-12px text-15px"},Xs={class:"hidden"},Vs={class:"text-desc"},Zs={class:"mb-8px"},Ys=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.file_import;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"file_import",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",Zs,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"file_import"})])),default:Se((()=>[we("div",Js,[we("div",Ws,[we("span",null,$e(e.$t("GlobalRule.FilePath.Contain.Title")),1),we("span",Xs,$e(e.$t("GlobalRule.Menu.2")),1)]),we("div",Vs,$e(e.$t("GlobalRule.FilePath.Contain.Desc")),1)])])),_:1})}}}),Qs={class:"py-4px"},eo={class:"mb-12px text-15px"},lo={class:"hidden"},to={class:"text-desc"},ao={class:"mb-8px"},no=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.php_eval;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"php_eval",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",ao,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"php_eval"})])),default:Se((()=>[we("div",Qs,[we("div",eo,[we("span",null,$e(e.$t("GlobalRule.FilePath.Php.Title")),1),we("span",lo,$e(e.$t("GlobalRule.Menu.2")),1)]),we("div",to,$e(e.$t("GlobalRule.FilePath.Php.Desc")),1)])])),_:1})}}}),so=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{class:"mt-20px",query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t)},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.2")),1)])),_:1},8,["query"])])),_:1}),Pe(qs),Pe(Es),Pe(Ks),Pe(Ys),Pe(no)])),_:1},8,["query"])}}}),oo={class:"py-4px"},io={class:"mb-12px text-15px"},uo={class:"hidden"},co={class:"text-desc"},ro=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.no_browser;e&&(n.value=e.mode)}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"no_browser",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])])),default:Se((()=>[we("div",oo,[we("div",io,[we("span",null,$e(e.$t("GlobalRule.Machine.NonBrowser.Title")),1),we("span",uo,$e(e.$t("GlobalRule.Menu.3")),1)]),we("div",co,$e(e.$t("GlobalRule.Machine.NonBrowser.Desc")),1)])])),_:1})}}}),po={class:"mb-12px text-15px"},mo={class:"hidden"},fo={class:"text-desc"},vo={class:"text-[#ccc]"},bo={class:"mb-8px"},_o=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.scan;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"scan",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[we("div",bo,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"scan"})])),default:Se((()=>[we("div",po,[we("span",null,$e(e.$t("GlobalRule.Machine.Scanner.Title")),1),we("span",mo,$e(e.$t("GlobalRule.Menu.3")),1)]),we("div",fo,$e(e.$t("GlobalRule.Machine.Scanner.Desc")),1),we("div",vo,$e(e.$t("GlobalRule.Machine.Scanner.Tips")),1)])),_:1})}}}),xo=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{class:"mt-20px",query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t),visible:!0},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.3")),1)])),_:1},8,["query"])])),_:1}),Pe(ro),Pe(_o)])),_:1},8,["query"])}}}),go={class:"w-440px"},yo=_e({__name:"table",setup(e){const{t:l}=Re(),t=Ge({data:[]}),{loading:n,setLoading:s}=a(),o=ke([{key:"type",title:l("GlobalRule.HttpRequest.Type")},{key:"status",title:l("Public.Table.Status"),align:"right",width:100,render:e=>Pe(il,{value:e.status,size:"small",onUpdateValue:l=>{i(l,e)}},null)}]),i=async(e,l)=>{await le({type:l.type,status:e}),l.status=e};return(async()=>{try{s(!0);const{res:e}=await te();ae(e)&&(t.data=Object.keys(e).map((l=>({type:l,status:e[l]}))))}finally{s(!1)}})(),(e,l)=>{const a=dl,s=ll;return ge(),ye("div",go,[Pe(a,{"max-height":400,loading:Ae(n),data:Ae(t).data,columns:Ae(o)},null,8,["loading","data","columns"]),Pe(s,{class:"mt-16px"},{default:Se((()=>[we("li",null,$e(e.$t("GlobalRule.HttpRequest.Request.Tips.0")),1),we("li",null,$e(e.$t("GlobalRule.HttpRequest.Request.Tips.1")),1)])),_:1})])}}}),wo={class:"py-4px"},ho={class:"mb-12px text-15px"},Co={class:"hidden"},$o={class:"text-desc"},Ro=_e({__name:"index",setup(e){const l=ke(!1);return(e,t)=>{const a=r,n=f;return ge(),Ue(Ae(_a),null,{tools:Se((()=>[Pe(a,{size:"small",class:"w-104px",onClick:t[0]||(t[0]=e=>l.value=!0)},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1}),Pe(n,{show:Ae(l),"onUpdate:show":t[1]||(t[1]=e=>qe(l)?l.value=e:null),title:e.$t("GlobalRule.HttpRequest.Request.ModalTitle"),component:yo},null,8,["show","title"])])),default:Se((()=>[we("div",wo,[we("div",ho,[we("span",null,$e(e.$t("GlobalRule.HttpRequest.Request.Title")),1),we("span",Co,$e(e.$t("GlobalRule.Menu.4")),1)]),we("div",$o,$e(e.$t("GlobalRule.HttpRequest.Request.Desc")),1)])])),_:1})}}}),ko={class:"w-480px"},Go={class:"flex mb-12px"},Po={class:"flex-1 mr-12px"},So={class:"w-100px mr-12px"};function Ao(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Xe(e)}const To=_e({__name:"table",setup(e){const{t:l}=Re(),{loading:t,setLoading:n}=a(),s=Ge({type:"",length:null}),o=async()=>{s.type?s.length?(await oe(We(s)),c(),s.type="",s.length=null):J(l("GlobalRule.HttpRequest.Header.LenPlace")):J(l("GlobalRule.HttpRequest.Header.NamePlace"))},i=Ge({data:[]}),c=async()=>{try{n(!0);const{res:e}=await ie();ae(e)&&(i.data=Object.keys(e).map((l=>({type:l,len:e[l],editLen:e[l],isEdit:!1}))))}finally{n(!1)}},d=ke(null),p=ke([{key:"type",title:l("GlobalRule.HttpRequest.Type")},{key:"len",title:l("GlobalRule.HttpRequest.Header.Len"),width:100,render:e=>Pe(Ee,null,[e.isEdit?Pe(pl,{ref:d,value:e.editLen,"onUpdate:value":l=>e.editLen=l,min:1,size:"small",showButton:!1,placeholder:l("GlobalRule.HttpRequest.Header.Len")},null):e.len])},{key:"action",title:l("Public.Table.Action"),width:100,render:e=>{let t,a,n,s;return Pe(Ee,null,[e.isEdit?Pe(Ee,null,[Pe(m,{class:"mr-12px",onClick:()=>{v(e)}},Ao(n=l("Public.Btn.Save"))?n:{default:()=>[n]}),Pe(m,{onClick:()=>{b(e)}},Ao(s=l("Public.Btn.Cancel"))?s:{default:()=>[s]})]):Pe(Ee,null,[Pe(m,{class:"mr-12px",onClick:()=>{f(e)}},Ao(t=l("Public.Btn.Edit"))?t:{default:()=>[t]}),Pe(m,{onClick:()=>{_(e)}},Ao(a=l("Public.Btn.Del"))?a:{default:()=>[a]})])])}}]),f=e=>{e.isEdit=!0,Je((()=>{var e;null==(e=d.value)||e.focus()}))},v=async e=>{await ne({type:e.type,length:e.editLen}),e.isEdit=!1,e.len=e.editLen},b=e=>{e.isEdit=!1,e.editLen=e.len},_=async e=>{await se({type:e.type}),c()};return c(),(e,l)=>{const a=u,n=r,c=dl,d=ll;return ge(),ye("div",ko,[we("div",Go,[we("div",Po,[Pe(a,{value:Ae(s).type,"onUpdate:value":l[0]||(l[0]=e=>Ae(s).type=e),spellcheck:"false",placeholder:e.$t("GlobalRule.HttpRequest.Header.NamePlace")},null,8,["value","placeholder"])]),we("div",So,[Pe(Ae(pl),{value:Ae(s).length,"onUpdate:value":l[1]||(l[1]=e=>Ae(s).length=e),"show-button":!1,placeholder:e.$t("GlobalRule.HttpRequest.Header.Len")},null,8,["value","placeholder"])]),Pe(n,{type:"primary",onClick:o},{default:Se((()=>[Te($e(e.$t("Public.Btn.Add")),1)])),_:1})]),Pe(c,{"max-height":380,loading:Ae(t),data:Ae(i).data,columns:Ae(p)},null,8,["loading","data","columns"]),Pe(d,{class:"mt-16px"},{default:Se((()=>[we("li",null,$e(e.$t("GlobalRule.HttpRequest.Header.Tips.0")),1),we("li",null,$e(e.$t("GlobalRule.HttpRequest.Header.Tips.1")),1)])),_:1})])}}}),Uo={class:"py-4px"},qo={class:"mb-12px text-15px"},Mo={class:"hidden"},Do={class:"text-desc"},Lo=_e({__name:"index",setup(e){const l=ke(!1);return(e,t)=>{const a=r,n=f;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(a,{size:"small",class:"w-104px",onClick:t[0]||(t[0]=e=>l.value=!0)},{default:Se((()=>[Te($e(e.$t("Public.Btn.Set")),1)])),_:1}),Pe(n,{show:Ae(l),"onUpdate:show":t[1]||(t[1]=e=>qe(l)?l.value=e:null),title:e.$t("GlobalRule.HttpRequest.Header.ModalTitle"),component:To},null,8,["show","title"])])),default:Se((()=>[we("div",Uo,[we("div",qo,[we("span",null,$e(e.$t("GlobalRule.HttpRequest.Header.Title")),1),we("span",Mo,$e(e.$t("GlobalRule.Menu.4")),1)]),we("div",Do,$e(e.$t("GlobalRule.HttpRequest.Header.Desc")),1)])])),_:1})}}}),Bo=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{class:"mt-20px",query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t),visible:!0},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.4")),1)])),_:1},8,["query"])])),_:1}),Pe(Ro),Pe(Lo)])),_:1},8,["query"])}}}),Fo={class:"mb-12px text-15px"},Eo={class:"hidden"},jo={class:"text-desc"},Io={class:"text-[#ccc]"},Oo={class:"mb-8px"},zo=_e({__name:"index",setup(e){const l=K(),{config:t,timestamp:a}=He(l),n=ke(2);Me((()=>a.value),(e=>{if(e){const e=t.value.user_agent;n.value=e.mode}}),{immediate:!0});const s=async()=>{const e={mode:n.value,modename:"user_agent",site_id:""};await ee(e)};return(e,l)=>{const t=yl;return ge(),Ue(Ae(_a),null,{tools:Se((()=>[we("div",Oo,[Pe(t,{value:Ae(n),"onUpdate:value":[l[0]||(l[0]=e=>qe(n)?n.value=e:null),s]},null,8,["value"])]),Pe(Ae(ma),{type:"user_agent"})])),default:Se((()=>[we("div",Fo,[we("span",null,$e(e.$t("GlobalRule.Spider.Crawler.Title")),1),we("span",Eo,$e(e.$t("GlobalRule.Menu.5")),1)]),we("div",jo,$e(e.$t("GlobalRule.Spider.Crawler.Desc")),1),we("div",Io,$e(e.$t("GlobalRule.Spider.Crawler.Tips")),1)])),_:1})}}}),Ho={class:"w-550px"},No=t(_e({__name:"index",setup(e){const l=ke("1"),t=Ge({data:[]}),{loading:n,setLoading:s}=a(),o=async()=>{try{s(!0);const{res:e}=await ue({spider_type:l.value});I(e)&&(t.data=e.map((e=>({ip:e}))))}finally{s(!1)}},i=()=>{o()},u=ke([{key:"ip",title:"IP"}]);return o(),(e,a)=>{const s=ce,o=xl,c=dl;return ge(),ye("div",Ho,[Pe(o,{value:Ae(l),"onUpdate:value":[a[0]||(a[0]=e=>qe(l)?l.value=e:null),i]},{default:Se((()=>[Pe(s,{name:"1",tab:e.$t("GlobalRule.Spider.Normal.List.1")},null,8,["tab"]),Pe(s,{name:"2",tab:e.$t("GlobalRule.Spider.Normal.List.2")},null,8,["tab"]),Pe(s,{name:"3",tab:e.$t("GlobalRule.Spider.Normal.List.3")},null,8,["tab"]),Pe(s,{name:"4",tab:e.$t("GlobalRule.Spider.Normal.List.4")},null,8,["tab"]),Pe(s,{name:"5",tab:e.$t("GlobalRule.Spider.Normal.List.5")},null,8,["tab"]),Pe(s,{name:"6",tab:e.$t("GlobalRule.Spider.Normal.List.6")},null,8,["tab"]),Pe(s,{name:"7",tab:e.$t("GlobalRule.Spider.Normal.List.7")},null,8,["tab"]),Pe(s,{name:"8",tab:e.$t("GlobalRule.Spider.Normal.List.8")},null,8,["tab"])])),_:1},8,["value"]),Pe(c,{class:"mt-12px","virtual-scroll":"","max-height":360,loading:Ae(n),data:Ae(t).data,columns:Ae(u)},null,8,["loading","data","columns"])])}}}),[["__scopeId","data-v-40623716"]]),Ko={class:"py-4px"},Jo={class:"mb-12px text-15px"},Wo=we("span",null,"蜘蛛池",-1),Xo={class:"hidden"},Vo=we("div",{class:"text-desc"}," 默认放行各大搜索引擎蜘蛛爬取，现有蜘蛛分类：百度、谷歌、360、搜狗、雅虎、必应、头条、神马。 ",-1),Zo=_e({__name:"index",setup(e){const l=ke(!1),t=()=>{re()};return(e,a)=>{const n=r,s=f;return ge(),Ue(Ae(_a),{class:"mt-12px"},{tools:Se((()=>[Pe(n,{size:"small",class:"mb-8px w-104px",onClick:a[0]||(a[0]=e=>l.value=!0)},{default:Se((()=>[Te($e(e.$t("GlobalRule.Spider.Normal.ListTitle")),1)])),_:1}),Pe(n,{size:"small",class:"w-104px",onClick:t},{default:Se((()=>[Te($e(e.$t("GlobalRule.Spider.Normal.UpdateBtn")),1)])),_:1}),Pe(s,{show:Ae(l),"onUpdate:show":a[1]||(a[1]=e=>qe(l)?l.value=e:null),title:e.$t("GlobalRule.Spider.Normal.ListTitle"),component:No},null,8,["show","title"])])),default:Se((()=>[we("div",Ko,[we("div",Jo,[Wo,we("span",Xo,$e(e.$t("GlobalRule.Menu.5")),1)]),Vo])])),_:1})}}}),Yo=_e({__name:"index",setup(e){const l=K(),{query:t}=He(l);return(e,l)=>{const a=bl,n=vl,s=ca;return ge(),Ue(s,{class:"mt-20px",query:Ae(t),"show-none":!1},{default:Se((()=>[Pe(n,null,{default:Se((()=>[Pe(a,{query:Ae(t),visible:!0},{default:Se((()=>[Te($e(e.$t("GlobalRule.Menu.5")),1)])),_:1},8,["query"])])),_:1}),Pe(zo),Pe(Zo)])),_:1},8,["query"])}}}),Qo=e=>(Qe("data-v-20ea96fd"),e=e(),el(),e),ei={class:"global-box"},li={class:"menu"},ti={class:"mb-16px"},ai={class:"global-content"},ni={class:"max-w-1000px pt-12px"},si={class:"help-info mb-16px !bg-[#E8F6EB]"},oi=Qo((()=>we("div",{id:"ip-ref"},null,-1))),ii=Qo((()=>we("div",{id:"bug-ref"},null,-1))),ui=Qo((()=>we("div",{id:"file-ref"},null,-1))),ci=Qo((()=>we("div",{id:"machine-ref"},null,-1))),ri=Qo((()=>we("div",{id:"http-ref"},null,-1))),di=Qo((()=>we("div",{id:"spider-ref"},null,-1))),pi=t(_e({__name:"index",setup(e){const l=K(),{query:t}=He(l),a=de(),{mainHeight:n}=He(a),s=Oe((()=>"".concat(n.value-32-54,"px")));l.getConfig();const o=ke("ip");let i=!1;const u=()=>{const e=document.getElementById("layout-content");if(!e)return null;const l=e.getElementsByClassName("n-scrollbar-container");return 0===l.length?null:l[0]},c=e=>{i=!0;const l=document.getElementById("".concat(e,"-ref"));if(l){const t=l.offsetTop-("ip"===e?20:0),a=u();null==a||a.scrollTo({top:t,behavior:"smooth"}),setTimeout((()=>{i=!1}),600)}},r=new Map([["ip-ref",0],["bug-ref",0],["file-ref",0],["machine-ref",0],["http-ref",0],["spider-ref",0]]),d=e=>{if(i)return;const l=e.target.scrollTop,t=Array.from(r.keys()),a=Array.from(r.values()).findIndex((e=>e>l));if(a>0){const e=t[a-1];o.value=e.replace("-ref","")}},m=ke(),f=ke(),v=new ResizeObserver((e=>{const{width:l}=e[0].contentRect;f.value&&(f.value.style.width="".concat(l-16,"px"))}));return Ve((()=>{r.forEach(((e,l)=>{const t=document.getElementById(l);t&&r.set(l,t.offsetTop)})),(()=>{const e=u();null==e||e.addEventListener("scroll",d)})(),m.value&&v.observe(m.value)})),Ze((()=>{v.disconnect(),(()=>{const e=u();null==e||e.removeEventListener("scroll",d)})()})),(e,a)=>{const n=fl,i=ce,u=pe,r=ll,d=ca,f=me,v=p;return ge(),ye("div",{ref_key:"configRef",ref:m,class:"flex flex-col"},[we("div",null,[Pe(v,{show:Ae(l).loading},{default:Se((()=>[Pe(f,{bordered:!1,style:Ye({minHeight:Ae(s)}),"content-style":{padding:"0"}},{default:Se((()=>[we("div",ei,[we("div",li,[we("div",ti,[Pe(n,{value:Ae(t),"onUpdate:value":a[0]||(a[0]=e=>qe(t)?t.value=e:null),placeholder:e.$t("GlobalRule.Search")},null,8,["value","placeholder"])]),Pe(u,{value:Ae(o),"onUpdate:value":[a[1]||(a[1]=e=>qe(o)?o.value=e:null),c],placement:"left"},{default:Se((()=>[Pe(i,{name:"ip",tab:e.$t("GlobalRule.Menu.0")},null,8,["tab"]),Pe(i,{name:"bug",tab:e.$t("GlobalRule.Menu.1")},null,8,["tab"]),Pe(i,{name:"file",tab:e.$t("GlobalRule.Menu.2")},null,8,["tab"]),Pe(i,{name:"machine",tab:e.$t("GlobalRule.Menu.3")},null,8,["tab"]),Pe(i,{name:"http",tab:e.$t("GlobalRule.Menu.4")},null,8,["tab"]),Pe(i,{name:"spider",tab:e.$t("GlobalRule.Menu.5")},null,8,["tab"])])),_:1},8,["value"])]),we("div",ai,[we("div",ni,[we("div",si,[Pe(r,null,{default:Se((()=>[we("li",null,$e(e.$t("GlobalRule.Tips.0")),1),we("li",null,$e(e.$t("GlobalRule.Tips.1")),1)])),_:1})]),Pe(d,{query:Ae(t),class:"search-box"},{default:Se((()=>[oi,Pe(Sn),ii,Pe(ks),ui,Pe(so),ci,Pe(xo),ri,Pe(Bo),di,Pe(Yo)])),_:1},8,["query"])])])])])),_:1},8,["style"])])),_:1},8,["show"])])],512)}}}),[["__scopeId","data-v-20ea96fd"]]),mi=_e({__name:"index",setup(e){const{t:l}=Re(),t=Ge({data:[],total:0}),n=Ge({p:1,p_size:20,keyword:""}),{loading:s,setLoading:o}=a(),i=async()=>{try{o(!0);const{res:l}=await(e=n,fe.post("/opt_log/list",e)),{list:a,total:s}=l;t.data=a,t.total=s}finally{o(!1)}var e},u=()=>{n.p=1,i()},c=new Map([[0,l("Config.Logs.Type.0")],[1,l("Config.Logs.Type.1")],[2,l("Config.Logs.Type.2")],[3,l("Config.Logs.Type.3")],[4,l("Config.Logs.Type.4")],[5,l("Config.Logs.Type.5")],[6,l("Config.Logs.Type.6")],[7,l("Config.Logs.Type.7")],[8,l("Config.Logs.Type.8")],[9,l("Config.Logs.Type.9")],[10,l("Config.Logs.Type.10")],[11,l("Config.Logs.Type.11")],[12,l("Config.Logs.Type.12")],[13,l("Config.Logs.Type.13")],[14,l("Config.Logs.Type.14")],[15,l("Config.Logs.Type.15")],[16,l("Config.Logs.Type.16")],[17,l("Config.Logs.Type.17")],[18,l("Config.Logs.Type.18")],[19,l("Config.Logs.Type.19")],[20,l("Config.Logs.Type.20")],[21,l("Config.Logs.Type.21")],[22,l("Config.Logs.Type.22")]]),d=ke([{key:"operator",title:l("Config.Logs.Table.User"),width:"8%",minWidth:100,render:e=>e.operator||"-"},{key:"log_type",title:l("Config.Logs.Table.Type"),width:"10%",minWidth:120,render:e=>c.get(e.log_type)||"--"},{key:"content",title:l("Config.Logs.Table.Content"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:e=>e.content||"-"},{key:"create_time",title:l("Config.Logs.Table.Time"),width:"10%",minWidth:150,render:e=>E(e.create_time)||"-"}]);return i(),(e,l)=>{const a=r,o=fl,c=hl,p=wl,m=gl;return ge(),Ue(m,null,{toolsLeft:Se((()=>[Pe(a,{type:"primary",onClick:i},{default:Se((()=>[Te($e(e.$t("Config.Logs.Refresh")),1)])),_:1})])),toolsRight:Se((()=>[Pe(o,{value:Ae(n).keyword,"onUpdate:value":l[0]||(l[0]=e=>Ae(n).keyword=e),width:240,placeholder:e.$t("Config.Logs.Search"),onSearch:u},null,8,["value","placeholder"])])),content:Se((()=>[Pe(c,{loading:Ae(s),columns:Ae(d),data:Ae(t).data},null,8,["loading","columns","data"])])),pageRight:Se((()=>[Pe(p,{page:Ae(n).p,"onUpdate:page":l[1]||(l[1]=e=>Ae(n).p=e),"page-size":Ae(n).p_size,"onUpdate:pageSize":l[2]||(l[2]=e=>Ae(n).p_size=e),"item-count":Ae(t).total,onRefresh:i},null,8,["page","page-size","item-count"])])),_:1})}}}),fi=_e({__name:"index",setup(t){const a=ke("");return(t,n)=>{const s=ce,o=l,i=e;return ge(),Ue(i,{padding:"0"},{default:Se((()=>[Pe(o,{value:Ae(a),"onUpdate:value":n[0]||(n[0]=e=>qe(a)?a.value=e:null),"default-value":"all","store-key":"config"},{default:Se((()=>[Pe(s,{name:"all",tab:t.$t("Config.Menu.All")},{default:Se((()=>[Pe(ua)])),_:1},8,["tab"]),Pe(s,{name:"config",tab:t.$t("Config.Menu.Rule")},{default:Se((()=>[Pe(pi)])),_:1},8,["tab"]),Ae(ve)?(ge(),Ue(s,{key:0,name:"logs",tab:t.$t("Config.Menu.Logs")},{default:Se((()=>[Pe(mi)])),_:1},8,["tab"])):he("",!0)])),_:1},8,["value"])])),_:1})}}});export{fi as default};
