import{d as e,s as o,D as n,E as t,c as r,r as l,h as i,J as a,A as s,B as c,p as d,m as u,H as p,z as h,w as v,x as b,G as g,F as f}from"./vue.314199b7.1742181728921.js";import{ev as m,ew as x,dp as C,ds as w,er as y,ex as S,et as k,e8 as z,ey as F,bg as R,B as P,ca as T,dn as I,ez as M,e5 as O,bm as B,D as E,E as H,L,K as A,M as _,cf as W,G as D,eA as N,I as j,J as K,dq as V,ce as q,bl as U,eb as G,P as $,ec as Y,cq as X,dg as J,cc as Q,F as Z,H as ee,eB as oe,bj as ne,bs as te,eC as re,bi as le,eD as ie,eE as ae,a1 as se,eF as ce}from"./index.fc641b56.1742181728921.js";function de(e){const o=e.filter((e=>void 0!==e));if(0!==o.length)return 1===o.length?o[0]:o=>{e.forEach((e=>{e&&e(o)}))}}function ue(e){return e&-e}class pe{constructor(e,o){this.l=e,this.min=o;const n=new Array(e+1);for(let t=0;t<e+1;++t)n[t]=0;this.ft=n}add(e,o){if(0===o)return;const{l:n,ft:t}=this;for(e+=1;e<=n;)t[e]+=o,e+=ue(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(void 0===e&&(e=this.l),e<=0)return 0;const{ft:o,min:n,l:t}=this;if(e>t)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let r=e*n;for(;e>0;)r+=o[e],e-=ue(e);return r}getBound(e){let o=0,n=this.l;for(;n>o;){const t=Math.floor((o+n)/2),r=this.sum(t);if(r>e)n=t;else{if(!(r<e))return t;if(o===t)return this.sum(o+1)<=e?o+1:t;o=t}}return o}}let he,ve;function be(){return void 0===ve&&(ve="chrome"in window?window.devicePixelRatio:1),ve}const ge=S(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[S("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[S("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),fe=e({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const i=m();ge.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:x,ssr:i}),o((()=>{const{defaultScrollIndex:o,defaultScrollKey:n}=e;null!=o?S({index:o}):null!=n&&S({key:n})}));let a=!1,s=!1;n((()=>{a=!1,s?S({top:g.value,left:b}):s=!0})),t((()=>{a=!0,s||(s=!0)}));const c=r((()=>{const o=new Map,{keyField:n}=e;return e.items.forEach(((e,t)=>{o.set(e[n],t)})),o})),d=l(null),u=l(void 0),p=new Map,h=r((()=>{const{items:o,itemSize:n,keyField:t}=e,r=new pe(o.length,n);return o.forEach(((e,o)=>{const n=e[t],l=p.get(n);void 0!==l&&r.add(o,l)})),r})),v=l(0);let b=0;const g=l(0),f=C((()=>Math.max(h.value.getBound(g.value-w(e.paddingTop))-1,0))),y=r((()=>{const{value:o}=u;if(void 0===o)return[];const{items:n,itemSize:t}=e,r=f.value,l=Math.min(r+Math.ceil(o/t+1),n.length-1),i=[];for(let e=r;e<=l;++e)i.push(n[e]);return i})),S=(e,o)=>{if("number"==typeof e)return void T(e,o,"auto");const{left:n,top:t,index:r,key:l,position:i,behavior:a,debounce:s=!0}=e;if(void 0!==n||void 0!==t)T(n,t,a);else if(void 0!==r)P(r,a,s);else if(void 0!==l){const e=c.value.get(l);void 0!==e&&P(e,a,s)}else"bottom"===i?T(0,Number.MAX_SAFE_INTEGER,a):"top"===i&&T(0,0,a)};let F,R=null;function P(o,n,t){const{value:r}=h,l=r.sum(o)+w(e.paddingTop);if(t){F=o,null!==R&&window.clearTimeout(R),R=window.setTimeout((()=>{F=void 0,R=null}),16);const{scrollTop:e,offsetHeight:t}=d.value;if(l>e){const i=r.get(o);l+i<=e+t||d.value.scrollTo({left:0,top:l+i-t,behavior:n})}else d.value.scrollTo({left:0,top:l,behavior:n})}else d.value.scrollTo({left:0,top:l,behavior:n})}function T(e,o,n){d.value.scrollTo({left:e,top:o,behavior:n})}const I=(void 0===he&&(he="matchMedia"in window&&window.matchMedia("(pointer:coarse)").matches),!he);let M=!1;function O(){const{value:e}=d;null!=e&&(g.value=e.scrollTop,b=e.scrollLeft)}function B(e){let o=e;for(;null!==o;){if("none"===o.style.display)return!0;o=o.parentElement}return!1}return{listHeight:u,listStyle:{overflow:"auto"},keyToIndex:c,itemsStyle:r((()=>{const{itemResizable:o}=e,n=z(h.value.sum());return v.value,[e.itemsStyle,{boxSizing:"content-box",height:o?"":n,minHeight:o?n:"",paddingTop:z(e.paddingTop),paddingBottom:z(e.paddingBottom)}]})),visibleItemsStyle:r((()=>(v.value,{transform:"translateY(".concat(z(h.value.sum(f.value)),")")}))),viewportItems:y,listElRef:d,itemsElRef:l(null),scrollTo:S,handleListResize:function(o){if(a)return;if(B(o.target))return;if(o.contentRect.height===u.value)return;u.value=o.contentRect.height;const{onResize:n}=e;void 0!==n&&n(o)},handleListScroll:function(o){var n;null===(n=e.onScroll)||void 0===n||n.call(e,o),I&&M||O()},handleListWheel:function(o){var n;if(null===(n=e.onWheel)||void 0===n||n.call(e,o),I){const e=d.value;if(null!=e){if(0===o.deltaX){if(0===e.scrollTop&&o.deltaY<=0)return;if(e.scrollTop+e.offsetHeight>=e.scrollHeight&&o.deltaY>=0)return}o.preventDefault(),e.scrollTop+=o.deltaY/be(),e.scrollLeft+=o.deltaX/be(),O(),M=!0,k((()=>{M=!1}))}}},handleItemResize:function(o,n){var t,r,l;if(a)return;if(e.ignoreItemResize)return;if(B(n.target))return;const{value:i}=h,s=c.value.get(o),u=i.get(s),b=null!==(l=null===(r=null===(t=n.borderBoxSize)||void 0===t?void 0:t[0])||void 0===r?void 0:r.blockSize)&&void 0!==l?l:n.contentRect.height;if(b===u)return;0===b-e.itemSize?p.delete(o):p.set(o,b-e.itemSize);const g=b-u;if(0===g)return;i.add(s,g);const f=d.value;if(null!=f){if(void 0===F){const e=i.sum(s);f.scrollTop>e&&f.scrollBy(0,g)}else if(s<F)f.scrollBy(0,g);else if(s===F){b+i.sum(s)>f.scrollTop+f.offsetHeight&&f.scrollBy(0,g)}O()}v.value++}}},render(){const{itemResizable:e,keyField:o,keyToIndex:n,visibleItemsTag:t}=this;return i(y,{onResize:this.handleListResize},{default:()=>{var r,l;return i("div",a(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[0!==this.items.length?i("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[i(t,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map((t=>{const r=t[o],l=n.get(r),a=this.$slots.default({item:t,index:l})[0];return e?i(y,{key:r,onResize:e=>this.handleItemResize(r,e)},{default:()=>a}):(a.key=r,a)}))})]):null===(l=(r=this.$slots).empty)||void 0===l?void 0:l.call(r)])}})}}),me="v-hidden",xe=S("[v-hidden]",{display:"none!important"}),Ce=e({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:n}){const t=l(null),r=l(null);function i(){const{value:o}=t,{getCounter:l,getTail:i}=e;let a;if(a=void 0!==l?l():r.value,!o||!a)return;a.hasAttribute(me)&&a.removeAttribute(me);const{children:s}=o,c=o.offsetWidth,d=[],u=n.tail?null==i?void 0:i():null;let p=u?u.offsetWidth:0,h=!1;const v=o.children.length-(n.tail?1:0);for(let n=0;n<v-1;++n){if(n<0)continue;const o=s[n];if(h){o.hasAttribute(me)||o.setAttribute(me,"");continue}o.hasAttribute(me)&&o.removeAttribute(me);const t=o.offsetWidth;if(p+=t,d[n]=t,p>c){const{updateCounter:o}=e;for(let e=n;e>=0;--e){const t=v-1-e;void 0!==o?o(t):a.textContent="".concat(t);const r=a.offsetWidth;if(p-=d[e],p+r<=c||0===e){h=!0,n=e-1,u&&(-1===n?(u.style.maxWidth="".concat(c-r,"px"),u.style.boxSizing="border-box"):u.style.maxWidth="");break}}}}const{onUpdateOverflow:b}=e;h?void 0!==b&&b(!0):(void 0!==b&&b(!1),a.setAttribute(me,""))}const a=m();return xe.mount({id:"vueuc/overflow",head:!0,anchorMetaName:x,ssr:a}),o(i),{selfRef:t,counterRef:r,sync:i}},render(){const{$slots:e}=this;return s(this.sync),i("div",{class:"v-overflow",ref:"selfRef"},[c(e,"default"),e.counter?e.counter():i("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function we(e,n){n&&(o((()=>{const{value:o}=e;o&&F.registerHandler(o,n)})),d((()=>{const{value:o}=e;o&&F.unregisterHandler(o)})))}const ye=e({name:"Checkmark",render:()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},i("g",{fill:"none"},i("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}),Se=e({props:{onFocus:Function,onBlur:Function},setup:e=>()=>i("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}),ke={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},ze=R({name:"InternalSelectMenu",common:P,peers:{Scrollbar:T,Empty:I},self:e=>{const{borderRadius:o,popoverColor:n,textColor3:t,dividerColor:r,textColor2:l,primaryColorPressed:i,textColorDisabled:a,primaryColor:s,opacityDisabled:c,hoverColor:d,fontSizeSmall:u,fontSizeMedium:p,fontSizeLarge:h,fontSizeHuge:v,heightSmall:b,heightMedium:g,heightLarge:f,heightHuge:m}=e;return Object.assign(Object.assign({},ke),{optionFontSizeSmall:u,optionFontSizeMedium:p,optionFontSizeLarge:h,optionFontSizeHuge:v,optionHeightSmall:b,optionHeightMedium:g,optionHeightLarge:f,optionHeightHuge:m,borderRadius:o,color:n,groupHeaderTextColor:t,actionDividerColor:r,optionTextColor:l,optionTextColorPressed:i,optionTextColorDisabled:a,optionTextColorActive:s,optionOpacityDisabled:c,optionCheckColor:s,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:l,loadingColor:s})}});const Fe=e({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:o,pendingTmNodeRef:n,multipleRef:t,valueSetRef:r,renderLabelRef:l,renderOptionRef:i,labelFieldRef:a,valueFieldRef:s,showCheckmarkRef:c,nodePropsRef:d,handleOptionClick:p,handleOptionMouseEnter:h}=u(M),v=C((()=>{const{value:o}=n;return!!o&&e.tmNode.key===o.key}));return{multiple:t,isGrouped:C((()=>{const{tmNode:o}=e,{parent:n}=o;return n&&"group"===n.rawNode.type})),showCheckmark:c,nodeProps:d,isPending:v,isSelected:C((()=>{const{value:n}=o,{value:l}=t;if(null===n)return!1;const i=e.tmNode.rawNode[s.value];if(l){const{value:e}=r;return e.has(i)}return n===i})),labelField:a,renderLabel:l,renderOption:i,handleMouseMove:function(o){const{tmNode:n}=e,{value:t}=v;n.disabled||t||h(o,n)},handleMouseEnter:function(o){const{tmNode:n}=e;n.disabled||h(o,n)},handleClick:function(o){const{tmNode:n}=e;n.disabled||p(o,n)}}},render(){const{clsPrefix:e,tmNode:{rawNode:o},isSelected:n,isPending:t,isGrouped:r,showCheckmark:l,nodeProps:a,renderOption:s,renderLabel:c,handleClick:d,handleMouseEnter:u,handleMouseMove:h}=this,v=function(e,o){return i(p,{name:"fade-in-scale-up-transition"},{default:()=>e?i(B,{clsPrefix:o,class:"".concat(o,"-base-select-option__check")},{default:()=>i(ye)}):null})}(n,e),b=c?[c(o,n),l&&v]:[O(o[this.labelField],o,n),l&&v],g=null==a?void 0:a(o),f=i("div",Object.assign({},g,{class:["".concat(e,"-base-select-option"),o.class,null==g?void 0:g.class,{["".concat(e,"-base-select-option--disabled")]:o.disabled,["".concat(e,"-base-select-option--selected")]:n,["".concat(e,"-base-select-option--grouped")]:r,["".concat(e,"-base-select-option--pending")]:t,["".concat(e,"-base-select-option--show-checkmark")]:l}],style:[(null==g?void 0:g.style)||"",o.style||""],onClick:de([d,null==g?void 0:g.onClick]),onMouseenter:de([u,null==g?void 0:g.onMouseenter]),onMousemove:de([h,null==g?void 0:g.onMousemove])}),i("div",{class:"".concat(e,"-base-select-option__content")},b));return o.render?o.render({node:f,option:o,selected:n}):s?s({node:f,option:o,selected:n}):f}}),Re=e({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:o,labelFieldRef:n,nodePropsRef:t}=u(M);return{labelField:n,nodeProps:t,renderLabel:e,renderOption:o}},render(){const{clsPrefix:e,renderLabel:o,renderOption:n,nodeProps:t,tmNode:{rawNode:r}}=this,l=null==t?void 0:t(r),a=o?o(r,!1):O(r[this.labelField],r,!1),s=i("div",Object.assign({},l,{class:["".concat(e,"-base-select-group-header"),null==l?void 0:l.class]}),a);return r.render?r.render({node:s,option:r}):n?n({node:s,option:r,selected:!1}):s}}),Pe=E("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[E("scrollbar","\n max-height: var(--n-height);\n "),E("virtual-list","\n max-height: var(--n-height);\n "),E("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[H("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),E("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),E("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),H("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),H("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),H("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),E("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),E("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[L("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),A("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),A("&:active","\n color: var(--n-option-text-color-pressed);\n "),L("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),L("pending",[A("&::before","\n background-color: var(--n-option-color-pending);\n ")]),L("selected","\n color: var(--n-option-text-color-active);\n ",[A("&::before","\n background-color: var(--n-option-color-active);\n "),L("pending",[A("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),L("disabled","\n cursor: not-allowed;\n ",[_("selected","\n color: var(--n-option-text-color-disabled);\n "),L("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),H("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[W({enterScale:"0.5"})])])]),Te=e({name:"InternalSelectMenu",props:Object.assign(Object.assign({},D.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const n=D("InternalSelectMenu","-internal-select-menu",Pe,ze,e,h(e,"clsPrefix")),t=l(null),i=l(null),a=l(null),c=r((()=>e.treeMate.getFlattenedNodes())),u=r((()=>G(c.value))),p=l(null);function g(){const{value:o}=p;o&&!e.treeMate.getNode(o.key)&&(p.value=null)}let f;v((()=>e.show),(o=>{o?f=v((()=>e.treeMate),(()=>{e.resetMenuOnOptionsChange?(e.autoPending?function(){const{treeMate:o}=e;let n=null;const{value:t}=e;null===t?n=o.getFirstAvailableNode():(n=e.multiple?o.getNode((t||[])[(t||[]).length-1]):o.getNode(t),n&&!n.disabled||(n=o.getFirstAvailableNode())),k(n||null)}():g(),s(z)):g()}),{immediate:!0}):null==f||f()}),{immediate:!0}),d((()=>{null==f||f()}));const m=r((()=>w(n.value.self[$("optionHeight",e.size)]))),x=r((()=>Y(n.value.self[$("padding",e.size)]))),C=r((()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set)),y=r((()=>{const e=c.value;return e&&0===e.length}));function S(o){const{onScroll:n}=e;n&&n(o)}function k(e,o=!1){p.value=e,o&&z()}function z(){var o,n;const t=p.value;if(!t)return;const r=u.value(t.key);null!==r&&(e.virtualScroll?null===(o=i.value)||void 0===o||o.scrollTo({index:r}):null===(n=a.value)||void 0===n||n.scrollTo({index:r,elSize:m.value}))}b(M,{handleOptionMouseEnter:function(e,o){o.disabled||k(o,!1)},handleOptionClick:function(o,n){n.disabled||function(o){const{onToggle:n}=e;n&&n(o)}(n)},valueSetRef:C,pendingTmNodeRef:p,nodePropsRef:h(e,"nodeProps"),showCheckmarkRef:h(e,"showCheckmark"),multipleRef:h(e,"multiple"),valueRef:h(e,"value"),renderLabelRef:h(e,"renderLabel"),renderOptionRef:h(e,"renderOption"),labelFieldRef:h(e,"labelField"),valueFieldRef:h(e,"valueField")}),b(N,t),o((()=>{const{value:e}=a;e&&e.sync()}));const F=r((()=>{const{size:o}=e,{common:{cubicBezierEaseInOut:t},self:{height:r,borderRadius:l,color:i,groupHeaderTextColor:a,actionDividerColor:s,optionTextColorPressed:c,optionTextColor:d,optionTextColorDisabled:u,optionTextColorActive:p,optionOpacityDisabled:h,optionCheckColor:v,actionTextColor:b,optionColorPending:g,optionColorActive:f,loadingColor:m,loadingSize:x,optionColorActivePending:C,[$("optionFontSize",o)]:w,[$("optionHeight",o)]:y,[$("optionPadding",o)]:S}}=n.value;return{"--n-height":r,"--n-action-divider-color":s,"--n-action-text-color":b,"--n-bezier":t,"--n-border-radius":l,"--n-color":i,"--n-option-font-size":w,"--n-group-header-text-color":a,"--n-option-check-color":v,"--n-option-color-pending":g,"--n-option-color-active":f,"--n-option-color-active-pending":C,"--n-option-height":y,"--n-option-opacity-disabled":h,"--n-option-text-color":d,"--n-option-text-color-active":p,"--n-option-text-color-disabled":u,"--n-option-text-color-pressed":c,"--n-option-padding":S,"--n-option-padding-left":Y(S,"left"),"--n-option-padding-right":Y(S,"right"),"--n-loading-color":m,"--n-loading-size":x}})),{inlineThemeDisabled:R}=e,P=R?j("internal-select-menu",r((()=>e.size[0])),F,e):void 0,T={selfRef:t,next:function(){const{value:e}=p;e&&k(e.getNext({loop:!0}),!0)},prev:function(){const{value:e}=p;e&&k(e.getPrev({loop:!0}),!0)},getPendingTmNode:function(){const{value:e}=p;return e||null}};return we(t,e.onResize),Object.assign({mergedTheme:n,virtualListRef:i,scrollbarRef:a,itemSize:m,padding:x,flattenedNodes:c,empty:y,virtualListContainer(){const{value:e}=i;return null==e?void 0:e.listElRef},virtualListContent(){const{value:e}=i;return null==e?void 0:e.itemsElRef},doScroll:S,handleFocusin:function(o){var n,r;(null===(n=t.value)||void 0===n?void 0:n.contains(o.target))&&(null===(r=e.onFocus)||void 0===r||r.call(e,o))},handleFocusout:function(o){var n,r;(null===(n=t.value)||void 0===n?void 0:n.contains(o.relatedTarget))||null===(r=e.onBlur)||void 0===r||r.call(e,o)},handleKeyUp:function(o){var n;X(o,"action")||null===(n=e.onKeyup)||void 0===n||n.call(e,o)},handleKeyDown:function(o){var n;X(o,"action")||null===(n=e.onKeydown)||void 0===n||n.call(e,o)},handleMouseDown:function(o){var n;null===(n=e.onMousedown)||void 0===n||n.call(e,o),e.focusable||o.preventDefault()},handleVirtualListResize:function(){var e;null===(e=a.value)||void 0===e||e.sync()},handleVirtualListScroll:function(e){var o;null===(o=a.value)||void 0===o||o.sync(),S(e)},cssVars:R?void 0:F,themeClass:null==P?void 0:P.themeClass,onRender:null==P?void 0:P.onRender},T)},render(){const{$slots:e,virtualScroll:o,clsPrefix:n,mergedTheme:t,themeClass:r,onRender:l}=this;return null==l||l(),i("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:["".concat(n,"-base-select-menu"),r,this.multiple&&"".concat(n,"-base-select-menu--multiple")],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?i("div",{class:"".concat(n,"-base-select-menu__loading")},i(V,{clsPrefix:n,strokeWidth:20})):this.empty?i("div",{class:"".concat(n,"-base-select-menu__empty"),"data-empty":!0},U(e.empty,(()=>[i(J,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})]))):i(q,{ref:"scrollbarRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,scrollable:this.scrollable,container:o?this.virtualListContainer:void 0,content:o?this.virtualListContent:void 0,onScroll:o?void 0:this.doScroll},{default:()=>o?i(fe,{ref:"virtualListRef",class:"".concat(n,"-virtual-list"),items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:e})=>e.isGroup?i(Re,{key:e.key,clsPrefix:n,tmNode:e}):e.ignored?null:i(Fe,{clsPrefix:n,key:e.key,tmNode:e})}):i("div",{class:"".concat(n,"-base-select-menu-option-wrapper"),style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map((e=>e.isGroup?i(Re,{key:e.key,clsPrefix:n,tmNode:e}):i(Fe,{clsPrefix:n,key:e.key,tmNode:e}))))}),K(e.action,(e=>e&&[i("div",{class:"".concat(n,"-base-select-menu__action"),"data-action":!0,key:"action"},e),i(Se,{onFocus:this.onTabOut,key:"focus-detector"})])))}}),Ie={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},Me={name:"Tag",common:P,self:e=>{const{textColor2:o,primaryColorHover:n,primaryColorPressed:t,primaryColor:r,infoColor:l,successColor:i,warningColor:a,errorColor:s,baseColor:c,borderColor:d,opacityDisabled:u,tagColor:p,closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:b,borderRadiusSmall:g,fontSizeMini:f,fontSizeTiny:m,fontSizeSmall:x,fontSizeMedium:C,heightMini:w,heightTiny:y,heightSmall:S,heightMedium:k,closeColorHover:z,closeColorPressed:F,buttonColor2Hover:R,buttonColor2Pressed:P,fontWeightStrong:T}=e;return Object.assign(Object.assign({},Ie),{closeBorderRadius:g,heightTiny:w,heightSmall:y,heightMedium:S,heightLarge:k,borderRadius:g,opacityDisabled:u,fontSizeTiny:f,fontSizeSmall:m,fontSizeMedium:x,fontSizeLarge:C,fontWeightStrong:T,textColorCheckable:o,textColorHoverCheckable:o,textColorPressedCheckable:o,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:R,colorPressedCheckable:P,colorChecked:r,colorCheckedHover:n,colorCheckedPressed:t,border:"1px solid ".concat(d),textColor:o,color:p,colorBordered:"rgb(250, 250, 252)",closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:b,closeColorHover:z,closeColorPressed:F,borderPrimary:"1px solid ".concat(Q(r,{alpha:.3})),textColorPrimary:r,colorPrimary:Q(r,{alpha:.12}),colorBorderedPrimary:Q(r,{alpha:.1}),closeIconColorPrimary:r,closeIconColorHoverPrimary:r,closeIconColorPressedPrimary:r,closeColorHoverPrimary:Q(r,{alpha:.12}),closeColorPressedPrimary:Q(r,{alpha:.18}),borderInfo:"1px solid ".concat(Q(l,{alpha:.3})),textColorInfo:l,colorInfo:Q(l,{alpha:.12}),colorBorderedInfo:Q(l,{alpha:.1}),closeIconColorInfo:l,closeIconColorHoverInfo:l,closeIconColorPressedInfo:l,closeColorHoverInfo:Q(l,{alpha:.12}),closeColorPressedInfo:Q(l,{alpha:.18}),borderSuccess:"1px solid ".concat(Q(i,{alpha:.3})),textColorSuccess:i,colorSuccess:Q(i,{alpha:.12}),colorBorderedSuccess:Q(i,{alpha:.1}),closeIconColorSuccess:i,closeIconColorHoverSuccess:i,closeIconColorPressedSuccess:i,closeColorHoverSuccess:Q(i,{alpha:.12}),closeColorPressedSuccess:Q(i,{alpha:.18}),borderWarning:"1px solid ".concat(Q(a,{alpha:.35})),textColorWarning:a,colorWarning:Q(a,{alpha:.15}),colorBorderedWarning:Q(a,{alpha:.12}),closeIconColorWarning:a,closeIconColorHoverWarning:a,closeIconColorPressedWarning:a,closeColorHoverWarning:Q(a,{alpha:.12}),closeColorPressedWarning:Q(a,{alpha:.18}),borderError:"1px solid ".concat(Q(s,{alpha:.23})),textColorError:s,colorError:Q(s,{alpha:.1}),colorBorderedError:Q(s,{alpha:.08}),closeIconColorError:s,closeIconColorHoverError:s,closeIconColorPressedError:s,closeColorHoverError:Q(s,{alpha:.12}),closeColorPressedError:Q(s,{alpha:.18})})}},Oe={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Be=E("tag","\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[L("strong","\n font-weight: var(--n-font-weight-strong);\n "),H("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),H("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),H("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),H("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),L("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[H("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),H("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),L("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),L("icon, avatar",[L("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),L("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),L("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[_("disabled",[A("&:hover","background-color: var(--n-color-hover-checkable);",[_("checked","color: var(--n-text-color-hover-checkable);")]),A("&:active","background-color: var(--n-color-pressed-checkable);",[_("checked","color: var(--n-text-color-pressed-checkable);")])]),L("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[_("disabled",[A("&:hover","background-color: var(--n-color-checked-hover);"),A("&:active","background-color: var(--n-color-checked-pressed);")])])])]),Ee=Object.assign(Object.assign(Object.assign({},D.props),Oe),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),He=ne("n-tag"),Le=e({name:"Tag",props:Ee,setup(e){const o=l(null),{mergedBorderedRef:n,mergedClsPrefixRef:t,inlineThemeDisabled:i,mergedRtlRef:a}=Z(e),s=D("Tag","-tag",Be,Me,e,t);b(He,{roundRef:h(e,"round")});const c={setTextContent(e){const{value:n}=o;n&&(n.textContent=e)}},d=ee("Tag",a,t),u=r((()=>{const{type:o,size:t,color:{color:r,textColor:l}={}}=e,{common:{cubicBezierEaseInOut:i},self:{padding:a,closeMargin:c,closeMarginRtl:d,borderRadius:u,opacityDisabled:p,textColorCheckable:h,textColorHoverCheckable:v,textColorPressedCheckable:b,textColorChecked:g,colorCheckable:f,colorHoverCheckable:m,colorPressedCheckable:x,colorChecked:C,colorCheckedHover:w,colorCheckedPressed:y,closeBorderRadius:S,fontWeightStrong:k,[$("colorBordered",o)]:z,[$("closeSize",t)]:F,[$("closeIconSize",t)]:R,[$("fontSize",t)]:P,[$("height",t)]:T,[$("color",o)]:I,[$("textColor",o)]:M,[$("border",o)]:O,[$("closeIconColor",o)]:B,[$("closeIconColorHover",o)]:E,[$("closeIconColorPressed",o)]:H,[$("closeColorHover",o)]:L,[$("closeColorPressed",o)]:A}}=s.value;return{"--n-font-weight-strong":k,"--n-avatar-size-override":"calc(".concat(T," - 8px)"),"--n-bezier":i,"--n-border-radius":u,"--n-border":O,"--n-close-icon-size":R,"--n-close-color-pressed":A,"--n-close-color-hover":L,"--n-close-border-radius":S,"--n-close-icon-color":B,"--n-close-icon-color-hover":E,"--n-close-icon-color-pressed":H,"--n-close-icon-color-disabled":B,"--n-close-margin":c,"--n-close-margin-rtl":d,"--n-close-size":F,"--n-color":r||(n.value?z:I),"--n-color-checkable":f,"--n-color-checked":C,"--n-color-checked-hover":w,"--n-color-checked-pressed":y,"--n-color-hover-checkable":m,"--n-color-pressed-checkable":x,"--n-font-size":P,"--n-height":T,"--n-opacity-disabled":p,"--n-padding":a,"--n-text-color":l||M,"--n-text-color-checkable":h,"--n-text-color-checked":g,"--n-text-color-hover-checkable":v,"--n-text-color-pressed-checkable":b}})),p=i?j("tag",r((()=>{let o="";const{type:t,size:r,color:{color:l,textColor:i}={}}=e;return o+=t[0],o+=r[0],l&&(o+="a".concat(re(l))),i&&(o+="b".concat(re(i))),n.value&&(o+="c"),o})),u,e):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:d,mergedClsPrefix:t,contentRef:o,mergedBordered:n,handleClick:function(o){if(!e.disabled&&e.checkable){const{checked:o,onCheckedChange:n,onUpdateChecked:t,"onUpdate:checked":r}=e;t&&t(!o),r&&r(!o),n&&n(!o)}},handleCloseClick:function(o){if(e.triggerClickOnClose||o.stopPropagation(),!e.disabled){const{onClose:n}=e;n&&te(n,o)}},cssVars:i?void 0:u,themeClass:null==p?void 0:p.themeClass,onRender:null==p?void 0:p.onRender})},render(){var e,o;const{mergedClsPrefix:n,rtlEnabled:t,closable:r,color:{borderColor:l}={},round:a,onRender:s,$slots:c}=this;null==s||s();const d=K(c.avatar,(e=>e&&i("div",{class:"".concat(n,"-tag__avatar")},e))),u=K(c.icon,(e=>e&&i("div",{class:"".concat(n,"-tag__icon")},e)));return i("div",{class:["".concat(n,"-tag"),this.themeClass,{["".concat(n,"-tag--rtl")]:t,["".concat(n,"-tag--strong")]:this.strong,["".concat(n,"-tag--disabled")]:this.disabled,["".concat(n,"-tag--checkable")]:this.checkable,["".concat(n,"-tag--checked")]:this.checkable&&this.checked,["".concat(n,"-tag--round")]:a,["".concat(n,"-tag--avatar")]:d,["".concat(n,"-tag--icon")]:u,["".concat(n,"-tag--closable")]:r}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},u||d,i("span",{class:"".concat(n,"-tag__content"),ref:"contentRef"},null===(o=(e=this.$slots).default)||void 0===o?void 0:o.call(e)),!this.checkable&&r?i(oe,{clsPrefix:n,class:"".concat(n,"-tag__close"),disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?i("div",{class:"".concat(n,"-tag__border"),style:{borderColor:l}}):null)}}),Ae={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},_e=R({name:"InternalSelection",common:P,peers:{Popover:le},self:e=>{const{borderRadius:o,textColor2:n,textColorDisabled:t,inputColor:r,inputColorDisabled:l,primaryColor:i,primaryColorHover:a,warningColor:s,warningColorHover:c,errorColor:d,errorColorHover:u,borderColor:p,iconColor:h,iconColorDisabled:v,clearColor:b,clearColorHover:g,clearColorPressed:f,placeholderColor:m,placeholderColorDisabled:x,fontSizeTiny:C,fontSizeSmall:w,fontSizeMedium:y,fontSizeLarge:S,heightTiny:k,heightSmall:z,heightMedium:F,heightLarge:R}=e;return Object.assign(Object.assign({},Ae),{fontSizeTiny:C,fontSizeSmall:w,fontSizeMedium:y,fontSizeLarge:S,heightTiny:k,heightSmall:z,heightMedium:F,heightLarge:R,borderRadius:o,textColor:n,textColorDisabled:t,placeholderColor:m,placeholderColorDisabled:x,color:r,colorDisabled:l,colorActive:r,border:"1px solid ".concat(p),borderHover:"1px solid ".concat(a),borderActive:"1px solid ".concat(i),borderFocus:"1px solid ".concat(a),boxShadowHover:"none",boxShadowActive:"0 0 0 2px ".concat(Q(i,{alpha:.2})),boxShadowFocus:"0 0 0 2px ".concat(Q(i,{alpha:.2})),caretColor:i,arrowColor:h,arrowColorDisabled:v,loadingColor:i,borderWarning:"1px solid ".concat(s),borderHoverWarning:"1px solid ".concat(c),borderActiveWarning:"1px solid ".concat(s),borderFocusWarning:"1px solid ".concat(c),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 0 2px ".concat(Q(s,{alpha:.2})),boxShadowFocusWarning:"0 0 0 2px ".concat(Q(s,{alpha:.2})),colorActiveWarning:r,caretColorWarning:s,borderError:"1px solid ".concat(d),borderHoverError:"1px solid ".concat(u),borderActiveError:"1px solid ".concat(d),borderFocusError:"1px solid ".concat(u),boxShadowHoverError:"none",boxShadowActiveError:"0 0 0 2px ".concat(Q(d,{alpha:.2})),boxShadowFocusError:"0 0 0 2px ".concat(Q(d,{alpha:.2})),colorActiveError:r,caretColorError:d,clearColor:b,clearColorHover:g,clearColorPressed:f})}}),We=A([E("base-selection","\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[E("base-loading","\n color: var(--n-loading-color);\n "),E("base-selection-tags","min-height: var(--n-height);"),H("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),H("state-border","\n z-index: 1;\n border-color: #0000;\n "),E("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[H("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),E("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[H("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),E("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[H("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),E("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),E("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[E("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[H("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),H("render-label","\n color: var(--n-text-color);\n ")]),_("disabled",[A("&:hover",[H("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),L("focus",[H("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),L("active",[H("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),E("base-selection-label","background-color: var(--n-color-active);"),E("base-selection-tags","background-color: var(--n-color-active);")])]),L("disabled","cursor: not-allowed;",[H("arrow","\n color: var(--n-arrow-color-disabled);\n "),E("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[E("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),H("render-label","\n color: var(--n-text-color-disabled);\n ")]),E("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),E("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),E("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[H("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),H("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map((e=>L("".concat(e,"-status"),[H("state-border","border: var(--n-border-".concat(e,");")),_("disabled",[A("&:hover",[H("state-border","\n box-shadow: var(--n-box-shadow-hover-".concat(e,");\n border: var(--n-border-hover-").concat(e,");\n "))]),L("active",[H("state-border","\n box-shadow: var(--n-box-shadow-active-".concat(e,");\n border: var(--n-border-active-").concat(e,");\n ")),E("base-selection-label","background-color: var(--n-color-active-".concat(e,");")),E("base-selection-tags","background-color: var(--n-color-active-".concat(e,");"))]),L("focus",[H("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))])])])))]),E("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),E("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[A("&:last-child","padding-right: 0;"),E("tag","\n font-size: 14px;\n max-width: 100%;\n ",[H("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),De=e({name:"InternalSelection",props:Object.assign(Object.assign({},D.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const n=l(null),t=l(null),i=l(null),a=l(null),c=l(null),d=l(null),u=l(null),p=l(null),b=l(null),f=l(null),m=l(!1),x=l(!1),C=l(!1),w=D("InternalSelection","-internal-selection",We,_e,e,h(e,"clsPrefix")),y=r((()=>e.clearable&&!e.disabled&&(C.value||e.active))),S=r((()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):O(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder)),k=r((()=>{const o=e.selectedOption;if(o)return o[e.labelField]})),z=r((()=>e.multiple?!(!Array.isArray(e.selectedOptions)||!e.selectedOptions.length):null!==e.selectedOption));function F(){var o;const{value:r}=n;if(r){const{value:n}=t;n&&(n.style.width="".concat(r.offsetWidth,"px"),"responsive"!==e.maxTagCount&&(null===(o=b.value)||void 0===o||o.sync()))}}function R(o){const{onPatternInput:n}=e;n&&n(o)}function P(o){!function(o){const{onDeleteOption:n}=e;n&&n(o)}(o)}v(h(e,"active"),(e=>{e||function(){const{value:e}=f;e&&(e.style.display="none")}()})),v(h(e,"pattern"),(()=>{e.multiple&&s(F)}));const T=l(!1);let I=null;let M=null;function B(){null!==M&&window.clearTimeout(M)}v(z,(e=>{e||(m.value=!1)})),o((()=>{g((()=>{const o=d.value;o&&(o.tabIndex=e.disabled||x.value?-1:0)}))})),we(i,e.onResize);const{inlineThemeDisabled:E}=e,H=r((()=>{const{size:o}=e,{common:{cubicBezierEaseInOut:n},self:{borderRadius:t,color:r,placeholderColor:l,textColor:i,paddingSingle:a,paddingMultiple:s,caretColor:c,colorDisabled:d,textColorDisabled:u,placeholderColorDisabled:p,colorActive:h,boxShadowFocus:v,boxShadowActive:b,boxShadowHover:g,border:f,borderFocus:m,borderHover:x,borderActive:C,arrowColor:y,arrowColorDisabled:S,loadingColor:k,colorActiveWarning:z,boxShadowFocusWarning:F,boxShadowActiveWarning:R,boxShadowHoverWarning:P,borderWarning:T,borderFocusWarning:I,borderHoverWarning:M,borderActiveWarning:O,colorActiveError:B,boxShadowFocusError:E,boxShadowActiveError:H,boxShadowHoverError:L,borderError:A,borderFocusError:_,borderHoverError:W,borderActiveError:D,clearColor:N,clearColorHover:j,clearColorPressed:K,clearSize:V,arrowSize:q,[$("height",o)]:U,[$("fontSize",o)]:G}}=w.value;return{"--n-bezier":n,"--n-border":f,"--n-border-active":C,"--n-border-focus":m,"--n-border-hover":x,"--n-border-radius":t,"--n-box-shadow-active":b,"--n-box-shadow-focus":v,"--n-box-shadow-hover":g,"--n-caret-color":c,"--n-color":r,"--n-color-active":h,"--n-color-disabled":d,"--n-font-size":G,"--n-height":U,"--n-padding-single":a,"--n-padding-multiple":s,"--n-placeholder-color":l,"--n-placeholder-color-disabled":p,"--n-text-color":i,"--n-text-color-disabled":u,"--n-arrow-color":y,"--n-arrow-color-disabled":S,"--n-loading-color":k,"--n-color-active-warning":z,"--n-box-shadow-focus-warning":F,"--n-box-shadow-active-warning":R,"--n-box-shadow-hover-warning":P,"--n-border-warning":T,"--n-border-focus-warning":I,"--n-border-hover-warning":M,"--n-border-active-warning":O,"--n-color-active-error":B,"--n-box-shadow-focus-error":E,"--n-box-shadow-active-error":H,"--n-box-shadow-hover-error":L,"--n-border-error":A,"--n-border-focus-error":_,"--n-border-hover-error":W,"--n-border-active-error":D,"--n-clear-size":V,"--n-clear-color":N,"--n-clear-color-hover":j,"--n-clear-color-pressed":K,"--n-arrow-size":q}})),L=E?j("internal-selection",r((()=>e.size[0])),H,e):void 0;return{mergedTheme:w,mergedClearable:y,patternInputFocused:x,filterablePlaceholder:S,label:k,selected:z,showTagsPanel:m,isComposing:T,counterRef:u,counterWrapperRef:p,patternInputMirrorRef:n,patternInputRef:t,selfRef:i,multipleElRef:a,singleElRef:c,patternInputWrapperRef:d,overflowRef:b,inputTagElRef:f,handleMouseDown:function(o){e.active&&e.filterable&&o.target!==t.value&&o.preventDefault()},handleFocusin:function(o){var n;o.relatedTarget&&(null===(n=i.value)||void 0===n?void 0:n.contains(o.relatedTarget))||function(o){const{onFocus:n}=e;n&&n(o)}(o)},handleClear:function(o){!function(o){const{onClear:n}=e;n&&n(o)}(o)},handleMouseEnter:function(){C.value=!0},handleMouseLeave:function(){C.value=!1},handleDeleteOption:P,handlePatternKeyDown:function(o){if("Backspace"===o.key&&!T.value&&!e.pattern.length){const{selectedOptions:o}=e;(null==o?void 0:o.length)&&P(o[o.length-1])}},handlePatternInputInput:function(o){const{value:t}=n;if(t){const e=o.target.value;t.textContent=e,F()}e.ignoreComposition&&T.value?I=o:R(o)},handlePatternInputBlur:function(o){var n;x.value=!1,null===(n=e.onPatternBlur)||void 0===n||n.call(e,o)},handlePatternInputFocus:function(o){var n;x.value=!0,null===(n=e.onPatternFocus)||void 0===n||n.call(e,o)},handleMouseEnterCounter:function(){e.disabled||e.active||(B(),M=window.setTimeout((()=>{z.value&&(m.value=!0)}),100))},handleMouseLeaveCounter:function(){B()},handleFocusout:function(o){var n;(null===(n=i.value)||void 0===n?void 0:n.contains(o.relatedTarget))||function(o){const{onBlur:n}=e;n&&n(o)}(o)},handleCompositionEnd:function(){T.value=!1,e.ignoreComposition&&R(I),I=null},handleCompositionStart:function(){T.value=!0},onPopoverUpdateShow:function(e){e||(B(),m.value=!1)},focus:function(){var o,n,t;e.filterable?(x.value=!1,null===(o=d.value)||void 0===o||o.focus()):e.multiple?null===(n=a.value)||void 0===n||n.focus():null===(t=c.value)||void 0===t||t.focus()},focusInput:function(){const{value:e}=t;e&&(!function(){const{value:e}=f;e&&(e.style.display="inline-block")}(),e.focus())},blur:function(){var o,n;if(e.filterable)x.value=!1,null===(o=d.value)||void 0===o||o.blur(),null===(n=t.value)||void 0===n||n.blur();else if(e.multiple){const{value:e}=a;null==e||e.blur()}else{const{value:e}=c;null==e||e.blur()}},blurInput:function(){const{value:e}=t;e&&e.blur()},updateCounter:function(e){const{value:o}=u;o&&o.setTextContent("+".concat(e))},getCounter:function(){const{value:e}=p;return e},getTail:function(){return t.value},renderLabel:e.renderLabel,cssVars:E?void 0:H,themeClass:null==L?void 0:L.themeClass,onRender:null==L?void 0:L.onRender}},render(){const{status:e,multiple:o,size:n,disabled:t,filterable:r,maxTagCount:l,bordered:a,clsPrefix:s,onRender:c,renderTag:d,renderLabel:u}=this;null==c||c();const p="responsive"===l,h="number"==typeof l,v=p||h,b=i(ae,null,{default:()=>i(ie,{clsPrefix:s,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var e,o;return null===(o=(e=this.$slots).arrow)||void 0===o?void 0:o.call(e)}})});let g;if(o){const{labelField:e}=this,o=o=>i("div",{class:"".concat(s,"-base-selection-tag-wrapper"),key:o.value},d?d({option:o,handleClose:()=>{this.handleDeleteOption(o)}}):i(Le,{size:n,closable:!o.disabled,disabled:t,onClose:()=>{this.handleDeleteOption(o)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>u?u(o,!0):O(o[e],o,!0)})),a=()=>(h?this.selectedOptions.slice(0,l):this.selectedOptions).map(o),c=r?i("div",{class:"".concat(s,"-base-selection-input-tag"),ref:"inputTagElRef",key:"__input-tag__"},i("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:t,value:this.pattern,autofocus:this.autofocus,class:"".concat(s,"-base-selection-input-tag__input"),onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),i("span",{ref:"patternInputMirrorRef",class:"".concat(s,"-base-selection-input-tag__mirror")},this.pattern)):null,m=p?()=>i("div",{class:"".concat(s,"-base-selection-tag-wrapper"),ref:"counterWrapperRef"},i(Le,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:t})):void 0;let x;if(h){const e=this.selectedOptions.length-l;e>0&&(x=i("div",{class:"".concat(s,"-base-selection-tag-wrapper"),key:"__counter__"},i(Le,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:t},{default:()=>"+".concat(e)})))}const C=p?r?i(Ce,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:a,counter:m,tail:()=>c}):i(Ce,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:a,counter:m}):h?a().concat(x):a(),w=v?()=>i("div",{class:"".concat(s,"-base-selection-popover")},p?a():this.selectedOptions.map(o)):void 0,y=v?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,S=!this.selected&&(!this.active||!this.pattern&&!this.isComposing)?i("div",{class:"".concat(s,"-base-selection-placeholder ").concat(s,"-base-selection-overlay")},i("div",{class:"".concat(s,"-base-selection-placeholder__inner")},this.placeholder)):null,k=r?i("div",{ref:"patternInputWrapperRef",class:"".concat(s,"-base-selection-tags")},C,p?null:c,b):i("div",{ref:"multipleElRef",class:"".concat(s,"-base-selection-tags"),tabindex:t?void 0:0},C,b);g=i(f,null,v?i(se,Object.assign({},y,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>k,default:w}):k,S)}else if(r){const e=this.pattern||this.isComposing,o=this.active?!e:!this.selected,n=!this.active&&this.selected;g=i("div",{ref:"patternInputWrapperRef",class:"".concat(s,"-base-selection-label")},i("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:"".concat(s,"-base-selection-input"),value:this.active?this.pattern:"",placeholder:"",readonly:t,disabled:t,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),n?i("div",{class:"".concat(s,"-base-selection-label__render-label ").concat(s,"-base-selection-overlay"),key:"input"},i("div",{class:"".concat(s,"-base-selection-overlay__wrapper")},d?d({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):O(this.label,this.selectedOption,!0))):null,o?i("div",{class:"".concat(s,"-base-selection-placeholder ").concat(s,"-base-selection-overlay"),key:"placeholder"},i("div",{class:"".concat(s,"-base-selection-overlay__wrapper")},this.filterablePlaceholder)):null,b)}else g=i("div",{ref:"singleElRef",class:"".concat(s,"-base-selection-label"),tabindex:this.disabled?void 0:0},void 0!==this.label?i("div",{class:"".concat(s,"-base-selection-input"),title:ce(this.label),key:"input"},i("div",{class:"".concat(s,"-base-selection-input__content")},d?d({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):O(this.label,this.selectedOption,!0))):i("div",{class:"".concat(s,"-base-selection-placeholder ").concat(s,"-base-selection-overlay"),key:"placeholder"},i("div",{class:"".concat(s,"-base-selection-placeholder__inner")},this.placeholder)),b);return i("div",{ref:"selfRef",class:["".concat(s,"-base-selection"),this.themeClass,e&&"".concat(s,"-base-selection--").concat(e,"-status"),{["".concat(s,"-base-selection--active")]:this.active,["".concat(s,"-base-selection--selected")]:this.selected||this.active&&this.pattern,["".concat(s,"-base-selection--disabled")]:this.disabled,["".concat(s,"-base-selection--multiple")]:this.multiple,["".concat(s,"-base-selection--focus")]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},g,a?i("div",{class:"".concat(s,"-base-selection__border")}):null,a?i("div",{class:"".concat(s,"-base-selection__state-border")}):null)}});function Ne(e){return"group"===e.type}function je(e){return"ignored"===e.type}function Ke(e,o){try{return!!(1+o.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(n){return!1}}function Ve(e,o){return{getIsGroup:Ne,getIgnored:je,getKey:o=>Ne(o)?o.name||o.key||"key-required":o[e],getChildren:e=>e[o]}}function qe(e,o,n,t){if(!o)return e;return function e(r){if(!Array.isArray(r))return[];const l=[];for(const i of r)if(Ne(i)){const o=e(i[t]);o.length&&l.push(Object.assign({},i,{[t]:o}))}else{if(je(i))continue;o(n,i)&&l.push(i)}return l}(e)}function Ue(e,o,n){const t=new Map;return e.forEach((e=>{Ne(e)?e[n].forEach((e=>{t.set(e[o],e)})):t.set(e[o],e)})),t}export{Se as F,Te as N,fe as V,Le as _,_e as a,ye as b,Ve as c,De as d,Ue as e,qe as f,ze as i,de as m,Ke as p,we as u};
