!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return n};var n={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(I){s=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),u=new P(r||[]);return o(i,"_invoke",{value:k(t,n,u)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}n.wrap=d;var f={};function v(){}function m(){}function y(){}var h={};s(h,u,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(j([])));x&&x!==r&&a.call(x,u)&&(h=x);var b=y.prototype=v.prototype=Object.create(h);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(e,n){function r(o,i,u,l){var c=p(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==t(d)&&a.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,u,l)}),(function(t){r("throw",t,u,l)})):n.resolve(d).then((function(t){s.value=t,u(s)}),(function(t){return r("throw",t,u,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(t,e){function a(){return new n((function(n,a){r(t,e,n,a)}))}return i=i?i.then(a,a):a()}})}function k(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return B()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var u=L(i,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function L(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=p(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function q(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(a.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:B}}function B(){return{value:void 0,done:!0}}return m.prototype=y,o(b,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=s(y,c,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,l,(function(){return this})),n.AsyncIterator=w,n.async=function(t,e,r,a,o){void 0===o&&(o=Promise);var i=new w(d(t,e,r,a),o);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(b),s(b,c,"Generator"),s(b,u,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),q(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;q(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},n}function n(t,e,n,r,a,o,i){try{var u=t[o](i),l=u.value}catch(c){return void n(c)}u.done?e(l):Promise.resolve(l).then(r,a)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function u(t){n(i,a,o,u,l,"next",t)}function l(t){n(i,a,o,u,l,"throw",t)}u(void 0)}))}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.b28e44e3.1742181728921.js","./index-legacy.7a360982.1742181728921.js","./index-legacy.9b5ab56a.1742181728921.js","./vue-legacy.fb39cc53.1742181728921.js","./index-legacy.b0161ddd.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.86212173.1742181728921.js","./color-legacy.7964080c.1742181728921.js","./DataTable-legacy.ce503b2f.1742181728921.js","./index.vue_vue_type_style_index_0_scoped_b40e4e10_lang-legacy.c4f16800.1742181728921.js","./index-legacy.9261615a.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.a7590e54.1742181728921.js","./index-legacy.efb15dc8.1742181728921.js","./Grid-legacy.f1affbdd.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.c6779449.1742181728921.js","./random-legacy.fc4be53c.1742181728921.js","./Checkbox-legacy.7bd59ed4.1742181728921.js","./RadioButton-legacy.0502ac73.1742181728921.js","./layer-legacy.05c99610.1742181728921.js","./echarts-legacy.83105e4d.1742181728921.js","./get-slot-legacy.9d1f4ef0.1742181728921.js","./utils-legacy.9d6b10a2.1742181728921.js"],(function(t,n){"use strict";var a,i,u,l,c,s,d,p,f,v,m,y,h,g,x,b,_,w,k,L,S,q,P,j,B,I,M,N,E,O,D,U,A,C,G,H,R,T,z,F,V,K,$,Q,Y,J,W,X,Z,tt,et,nt,rt,at,ot,it,ut,lt,ct,st,dt,pt,ft,vt,mt,yt,ht;return{setters:[function(t){a=t._},function(t){i=t._},function(t){u=t._},function(t){l=t.X,c=t.d,s=t.o,d=t.S,p=t.U,f=t.$,v=t.B,m=t.F,y=t.ac,h=t.f,g=t.w,x=t.c,b=t.b,_=t.e,w=t.P,k=t.aa,L=t._,S=t.k,q=t.W,P=t.r,j=t.m,B=t.u,I=t.a2,M=t.a3},function(t){N=t.dc,E=t._,O=t.a3,D=t.dd,U=t.V,A=t.R,C=t.S,G=t.de,H=t.g,R=t.o,T=t.y,z=t.$,F=t.a0,V=t.u,K=t.df,$=t.az,Q=t.d0,Y=t.f,J=t.dg,W=t.a6,X=t.A,Z=t.z,tt=t.aD,et=t.aG},function(t){nt=t.c,rt=t._},function(t){at=t.h},function(t){ot=t.a,it=t.b,ut=t.c,lt=t._},null,function(t){ct=t._},function(t){st=t._},function(t){dt=t.a},function(t){pt=t.a,ft=t._},function(t){vt=t._},function(t){mt=t.a},function(t){yt=t._,ht=t.a},null,null,null,null,null],execute:function(){var n=document.createElement("style");n.textContent=".title[data-v-239bab22]{display:flex;flex-direction:column;justify-content:center;width:180px;height:110px;padding-left:12px}.title .text[data-v-239bab22]{font-size:18px;font-weight:700}.info[data-v-b726e741]{display:flex;align-items:center}.info .cols[data-v-b726e741]{flex:1;text-align:center}.info .cols .label[data-v-b726e741]{margin-bottom:12px;color:#666}.info .cols .value[data-v-b726e741]{color:#1d2129;font-size:14px;font-weight:700}.name[data-v-4019fc86]{display:flex;align-items:center;justify-content:flex-end;width:100px;margin-right:40px}.site[data-v-f4cfc4d8],.site[data-v-c2de9d0e]{width:100%;border:1px solid #ccc;border-radius:2px;padding:12px}[data-v-45efb1f8] .n-tabs .n-tabs-rail{padding:0;background-color:#fff;width:auto}[data-v-45efb1f8] .n-tabs .n-tabs-rail .n-tabs-tab-wrapper .n-tabs-tab{border:1px solid #ccc;border-radius:0;padding-left:14px;padding-right:14px;box-shadow:none}[data-v-45efb1f8] .n-tabs .n-tabs-rail .n-tabs-tab-wrapper .n-tabs-tab.n-tabs-tab--active{color:#20a53a;border-color:#20a53a}\n",document.head.appendChild(n);var gt=function(){var t=N(),e=l(t),n=e.disk,r=e.timeType,a=e.chartInfo,i=e.diskOption;return o(o({},t),{},{disk:n,timeType:r,chartInfo:a,diskOption:i})},xt={class:"title"},bt={class:"text"},_t=E(c({__name:"title",props:{text:{default:""}},setup:function(t){return function(t,e){return s(),d("div",xt,[p("div",bt,f(t.text),1),v(t.$slots,"default",{},void 0,!0)])}}}),[["__scopeId","data-v-239bab22"]]),wt={class:"info"},kt={class:"label"},Lt={class:"value"},St=E(c({__name:"info",props:{options:{default:function(){return[]}}},setup:function(t){return function(t,e){return s(),d("div",wt,[(s(!0),d(m,null,y(t.options,(function(t){return s(),d("div",{key:t.label,class:"cols"},[p("div",kt,f(t.label),1),p("div",Lt,f(t.value),1)])})),128))])}}}),[["__scopeId","data-v-b726e741"]]),qt={class:"flex items-center h-110px"},Pt={class:"name h-full"},jt={class:"flex flex-1 h-full"},Bt={class:"flex-1"},It=E(c({__name:"item",props:{title:{default:""},info:{default:function(){return[]}}},setup:function(t){return function(t,e){return s(),d("div",qt,[p("div",Pt,f(t.title),1),p("div",jt,[p("div",Bt,[v(t.$slots,"echarts",{},void 0,!0)]),h(St,{class:"w-38%",options:t.info},null,8,["options"])])])}}}),[["__scopeId","data-v-4019fc86"]]),Mt=function(t){var e=t.name,n=void 0===e?"":e,r=t.unit,a=void 0===r?"":r,o=t.series,i=t.callback,u=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e="".concat(t[0].name,"<br/>"),n=0;n<t.length;n++){var r=t[n];e+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(r.color,';"></span>').concat(r.seriesName,": ").concat(r.data," ").concat(a,"<br/>")}return e}},grid:{top:"18%",left:"2%",right:"8%",bottom:"0%",containLabel:!0},yAxis:{name:n,type:"value",nameGap:8,splitNumber:4,splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},xAxis:{},series:[]}),l=gt(),c=l.chartInfo,s=l.timeType,d=new Map([[1,3],[2,100],[3,1300]]);return g((function(){return c.value.timestamp}),(function(t){if(0!==t){var e=i(c.value),n=e.dates,r=e.values;u.xAxis={data:n,type:"category",boundaryGap:!1,axisLabel:{formatter:function(t){return 3===s.value?O(new Date(t),"MM-dd"):O(new Date(t),"HH:mm")},interval:d.get(s.value)}},u.series=function(t){return o.map((function(e){return{type:"line",name:e.name,smooth:!0,showSymbol:!1,sampling:"average",data:t[e.key],itemStyle:{color:e.color},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at(e.color,.4)},{offset:.8,color:at(e.color,0)}]}}}}))}(r)}}),{immediate:!0}),{options:u}},Nt=c({__name:"qps",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.qps;return[{label:"最大值",value:(null===(t=D.maxBy(r,"qps"))||void 0===t?void 0:t.qps)||0},{label:"最小值",value:(null===(n=D.minBy(r,"qps"))||void 0===n?void 0:n.qps)||0},{label:"平均值",value:r.length>0?D.meanBy(r,"qps").toFixed(1):0}]})),r=Mt({series:[{name:"QPS",key:"qps",color:"#20a53a"}],callback:function(t){var e=t.qps,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(t.qps)})),{dates:n,values:{qps:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"QPS每秒请求数",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Et=c({__name:"back",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.resource_time,a=(null===(t=D.maxBy(r,"resource_time"))||void 0===t?void 0:t.resource_time)||0,o=(null===(n=D.minBy(r,"resource_time"))||void 0===n?void 0:n.resource_time)||0,i=r.length>0?D.meanBy(r,"resource_time").toFixed(1):0;return[{label:"最大值",value:"".concat(a,"ms")},{label:"最小值",value:"".concat(o,"ms")},{label:"平均值",value:"".concat(i,"ms")}]})),r=Mt({unit:"ms",series:[{name:"回源耗时",key:"resource",color:"#20a53a"}],callback:function(t){var e=t.resource_time,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(t.resource_time)})),{dates:n,values:{resource:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"回源耗时",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Ot=c({__name:"up",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.website_flow,a=(null===(t=D.maxBy(r,"upload"))||void 0===t?void 0:t.upload)||0,o=(null===(n=D.minBy(r,"upload"))||void 0===n?void 0:n.upload)||0,i=r.length>0?D.meanBy(r,"upload"):0;return[{label:"最大值",value:U(a,!0,1)},{label:"最小值",value:U(o,!0,1)},{label:"平均值",value:U(i,!0,1)}]})),r=Mt({name:"KB",unit:"KB",series:[{name:"网站流量上行",key:"up",color:"#20a53a"}],callback:function(t){var e=t.website_flow,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(Number(U(t.upload,!1,1,"KB")))})),{dates:n,values:{up:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"网站流量上行",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Dt=c({__name:"down",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.website_flow,a=(null===(t=D.maxBy(r,"download"))||void 0===t?void 0:t.download)||0,o=(null===(n=D.minBy(r,"download"))||void 0===n?void 0:n.download)||0,i=r.length>0?D.meanBy(r,"download"):0;return[{label:"最大值",value:U(a,!0,1)},{label:"最小值",value:U(o,!0,1)},{label:"平均值",value:U(i,!0,1)}]})),r=Mt({name:"KB",unit:"KB",series:[{name:"网站流量下行",key:"down",color:"#20a53a"}],callback:function(t){var e=t.website_flow,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(Number(U(t.download,!1,1,"KB")))})),{dates:n,values:{down:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"网站流量下行",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Ut=c({__name:"status",setup:function(t){var e=gt().chartInfo,n=x((function(){var t=e.value.errcode;if(t.length>0){var n={total_request:0,err_499:0,err_502:0,err_504:0};return t.forEach((function(t){n.total_request+=t.total_request,n.err_499+=t.err_499,n.err_502+=t.err_502,n.err_504+=t.err_504})),[{label:"总请求",value:n.total_request},{label:"499",value:n.err_499},{label:"502",value:n.err_502},{label:"504",value:n.err_504}]}return[{label:"总请求",value:0},{label:"499",value:0},{label:"502",value:0},{label:"504",value:0}]})),r=Mt({series:[{name:"499",key:"err499",color:"#4A55A2"},{name:"502",key:"err502",color:"#7895CB"},{name:"504",key:"err504",color:"#A0BFE0"},{name:"总请求",key:"total",color:"#20a53a"}],callback:function(t){var e=t.errcode,n=[],r=[],a=[],o=[],i=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(t.err_499),a.push(t.err_502),o.push(t.err_504),i.push(t.total_request)})),{dates:n,values:{err499:r,err502:a,err504:o,total:i}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"请求状态码",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),At={class:"flex"},Ct={class:"flex-1"},Gt=c({__name:"index",setup:function(t){return function(t,e){var n=A;return s(),d("div",At,[h(_t,{text:"请求统计"}),p("div",Ct,[h(Nt),h(n),h(Et),h(n),h(Ot),h(n),h(Dt),h(n),h(Ut)])])}}}),Ht=c({__name:"cpu",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.system,a=(null===(t=D.maxBy(r,"cpu"))||void 0===t?void 0:t.cpu)||0,o=(null===(n=D.minBy(r,"cpu"))||void 0===n?void 0:n.cpu)||0,i=r.length>0?D.meanBy(r,"cpu").toFixed(1):0;return[{label:"最大值",value:"".concat(a,"%")},{label:"最小值",value:"".concat(o,"%")},{label:"平均值",value:"".concat(i,"%")}]})),r=Mt({unit:"%",series:[{name:"CPU",key:"cpu",color:"#20a53a"}],callback:function(t){var e=t.system,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(t.cpu)})),{dates:n,values:{cpu:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"CPU",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Rt=c({__name:"memory",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.system,a=(null===(t=D.maxBy(r,"mem"))||void 0===t?void 0:t.mem)||0,o=(null===(n=D.minBy(r,"mem"))||void 0===n?void 0:n.mem)||0,i=r.length>0?D.meanBy(r,"mem").toFixed(1):0;return[{label:"最大值",value:"".concat(a,"%")},{label:"最小值",value:"".concat(o,"%")},{label:"平均值",value:"".concat(i,"%")}]})),r=Mt({unit:"%",series:[{name:"内存",key:"mem",color:"#20a53a"}],callback:function(t){var e=t.system,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(t.mem)})),{dates:n,values:{mem:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"内存",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Tt={class:"flex"},zt={class:"flex-1"},Ft=c({__name:"index",setup:function(t){return function(t,e){var n=A;return s(),d("div",Tt,[h(_t,{text:"主机资源"}),p("div",zt,[h(Ht),h(n),h(Rt)])])}}}),Vt=c({__name:"capacity",setup:function(t){var e=gt().chartInfo,n=x((function(){var t,n,r=e.value.disk,a=(null===(t=D.maxBy(r,"used"))||void 0===t?void 0:t.used)||0,o=(null===(n=D.minBy(r,"used"))||void 0===n?void 0:n.used)||0,i=r.length>0?D.meanBy(r,"used"):0;return[{label:"最大值",value:U(a,!0,1)},{label:"最小值",value:U(o,!0,1)},{label:"平均值",value:U(i,!0,1)}]})),r=Mt({name:"GB",unit:"GB",series:[{name:"磁盘容量",key:"capacity",color:"#20a53a"}],callback:function(t){var e=t.disk,n=[],r=[];return e.forEach((function(t){n.push(0!==t.create_time?O(t.create_time):O(Date.now())),r.push(Number(U(t.used,!1,1,"GB")))})),{dates:n,values:{capacity:r}}}}).options;return function(t,e){var a=rt;return s(),b(It,{title:"磁盘容量",info:w(n)},{echarts:_((function(){return[h(a,{type:"line",options:w(r)},null,8,["options"])]})),_:1},8,["info"])}}}),Kt={class:"flex"},$t={class:"w-140px mt-8px"},Qt={class:"flex-1"},Yt=c({__name:"index",setup:function(t){var e=gt(),n=e.disk,r=e.diskOption,a=e.getChartData,o=x((function(){var t=[];return r.value.forEach((function(e){t.push({label:e.mountpoint,value:e.mountpoint})})),t})),i=function(){a()};return function(t,e){var r=ot;return s(),d("div",Kt,[h(_t,{text:"磁盘监控"},{default:_((function(){return[p("div",$t,[h(r,{value:w(n),"onUpdate:value":[e[0]||(e[0]=function(t){return k(n)?n.value=t:null}),i],size:"small",options:w(o)},null,8,["value","options"])])]})),_:1}),p("div",Qt,[h(Vt)])])}}}),Jt={class:"mb-16px"},Wt=c({__name:"index",setup:function(t){var e=gt(),n=e.timeType,r=e.getChartData,a=e.getDiskInfo,o=[{label:"近1小时",value:1},{label:"近24小时",value:2},{label:"近7天",value:3}],i=function(){r()};return r(),a(),function(t,e){var r=u,a=A,l=C;return s(),d("div",null,[h(l,{bordered:!1,"content-style":{padding:0}},{default:_((function(){return[p("div",Jt,[h(r,{value:w(n),"onUpdate:value":[e[0]||(e[0]=function(t){return k(n)?n.value=t:null}),i],options:o},null,8,["value"])]),h(Gt),h(a),h(Ft),h(a),h(Yt)]})),_:1})])}}}),Xt={class:"w-194px"},Zt=c({__name:"site",setup:function(t){var e=G(),n=l(e),r=n.type,a=n.form,o=n.options,i=new Map([["overview",3],["ip",0],["url",1],["spider",2]]),u=function(){3===i.get(r.value)?e.getList():e.getBranchList()};return function(t,e){var n=ot;return s(),d("div",Xt,[h(n,{value:w(a).site_id,"onUpdate:value":[e[0]||(e[0]=function(t){return w(a).site_id=t}),u],filterable:!0,options:w(o),"consistent-menu-width":!1,placeholder:"请选择网站"},null,8,["value","options"])])}}}),te={key:0,class:"mb-10px text-[14px]"},ee={class:"h-260px"},ne=c({__name:"index",setup:function(t){var e=G(),n=l(e).summary,r=function(){var t=G(),e=l(t),n=e.total,r=e.form,a=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e='<div style="margin-bottom: 6px;">'.concat(t[0].seriesName,"</div>"),n=0;n<t.length;n++){var a=t[n];e+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(a.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===r.value.query_data||0===r.value.contrast_particle?H(Number(a.data.date),"M月dd日 HH:mm"):H(Number(a.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(a.data.value,"</div>\n\t\t\t\t\t</div>")}return e}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max:function(t){var e=t.max;return e?e%5==0?e:e+(5-e%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"总请求数",data:[]},{type:"line",name:"上期总请求数",data:[]}]}),o=new Map([[0,1],[7,24],[30,48]]);return g((function(){return n.value}),(function(t){var e=t.date,n=t.request,i=n.current,u=n.old;a.xAxis={type:"category",data:e,boundaryGap:!1,axisLabel:{formatter:function(t){return r.value.query_data>1?H(Number(t),"MM-dd"):H(Number(t),"HH:mm")},interval:0===r.value.contrast_particle?o.get(r.value.query_data):"auto"}},a.series=[{type:"line",name:"总请求数",symbol:"none",sampling:"average",smooth:!0,data:i,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at("#20a53a",.4)},{offset:.8,color:at("#20a53a",0)}]}}},{type:"line",name:"上期总请求数",symbol:"none",sampling:"average",smooth:!0,data:u,itemStyle:{color:at("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:a}}(),a=r.options,o=x((function(){return n.value.request_total}));return function(t,e){var n=rt,r=C;return s(),b(r,{class:"h-full"},{default:_((function(){return[(s(),d("div",te,f("总请求数："+w(o)),1)),L("",!0),p("div",ee,[h(n,{type:"line",options:w(a)},null,8,["options"])])]})),_:1})}}}),re={class:"flex items-center mb-10px"},ae={class:"mr-12px text-[14px]"},oe=p("p",null,[p("span",{class:"font-bold"},"概览页IP数："),S("指定时间内每个时间颗粒度的IP数累加")],-1),ie=p("p",{class:"mt-8px"},[p("span",{class:"font-bold"},"IP统计页IP数："),S(" 指定时间内的所有不重复IP数，如各时间颗粒度内有重复IP访问，IP数将比概览页IP数少 ")],-1),ue={class:"ml-16px"},le={class:"h-260px"},ce=c({__name:"index",setup:function(t){var e=G(),n=l(e),r=n.type,a=n.summary,o=function(){var t=G(),e=l(t),n=e.total,r=e.form,a=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e='<div style="margin-bottom: 6px;">'.concat(t[0].seriesName,"</div>"),n=0;n<t.length;n++){var a=t[n];e+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(a.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===r.value.query_data||0===r.value.contrast_particle?H(Number(a.data.date),"M月dd日 HH:mm"):H(Number(a.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(a.data.value,"</div>\n\t\t\t\t\t</div>")}return e}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max:function(t){var e=t.max;return e?e%5==0?e:e+(5-e%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"IP数",data:[]},{type:"line",name:"上期IP数",data:[]}]}),o=new Map([[0,1],[7,24],[30,48]]);return g((function(){return n.value}),(function(t){var e=t.date,n=t.ip,i=n.current,u=n.old;a.xAxis={type:"category",data:e,boundaryGap:!1,axisLabel:{formatter:function(t){return r.value.query_data>1?H(Number(t),"MM-dd"):H(Number(t),"HH:mm")},interval:0===r.value.contrast_particle?o.get(r.value.query_data):"auto"}},a.series=[{type:"line",name:"IP数",symbol:"none",sampling:"average",smooth:!0,data:i,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at("#20a53a",.4)},{offset:.8,color:at("#20a53a",0)}]}}},{type:"line",name:"上期IP数",symbol:"none",sampling:"average",smooth:!0,data:u,itemStyle:{color:at("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:a}}(),i=o.options,u=function(){r.value="ip"},c=x((function(){return a.value.ip_total}));return function(t,e){var n=ct,r=R,a=rt,o=C;return s(),b(o,{class:"h-full"},{default:_((function(){return[p("div",re,[p("div",ae,f("IP："+w(c)),1),h(n,null,{default:_((function(){return[oe,ie]})),_:1}),L("",!0),p("div",ue,[h(r,{onClick:u},{default:_((function(){return[S("详情")]})),_:1})])]),p("div",le,[h(a,{type:"line",options:w(i)},null,8,["options"])])]})),_:1})}}}),se={class:"flex items-center mb-10px"},de={class:"mr-16px text-[14px]"},pe={class:"h-220px"},fe=c({__name:"index",setup:function(t){var e=G(),n=l(e),r=n.type,a=n.summary,o=function(){var t=G(),e=l(t),n=e.total,r=e.form,a=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e='<div style="margin-bottom: 6px;">'.concat(t[0].seriesName,"</div>"),n=0;n<t.length;n++){var a=t[n];e+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(a.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===r.value.query_data||0===r.value.contrast_particle?H(Number(a.data.date),"M月dd日 HH:mm"):H(Number(a.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(a.data.value,"</div>\n\t\t\t\t\t</div>")}return e}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max:function(t){var e=t.max;return e?e%5==0?e:e+(5-e%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"PV数",data:[]},{type:"line",name:"上期PV数",data:[]}]}),o=new Map([[0,1],[7,24],[30,70]]);return g((function(){return n.value}),(function(t){var e=t.date,n=t.pv,i=n.current,u=n.old;a.xAxis={type:"category",data:e,boundaryGap:!1,axisLabel:{formatter:function(t){return r.value.query_data>1?H(Number(t),"MM-dd"):H(Number(t),"HH:mm")},interval:0===r.value.contrast_particle?o.get(r.value.query_data):"auto"}},a.series=[{type:"line",name:"PV数",symbol:"none",sampling:"average",smooth:!0,data:i,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at("#20a53a",.4)},{offset:.8,color:at("#20a53a",0)}]}}},{type:"line",name:"上期PV数",symbol:"none",sampling:"average",smooth:!0,data:u,itemStyle:{color:at("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:a}}(),i=o.options,u=function(){r.value="url"},c=x((function(){return a.value.pv_total}));return function(t,e){var n=R,r=rt,a=C;return s(),b(a,{class:"h-full"},{default:_((function(){return[p("div",se,[p("div",de,f("PV："+w(c)),1),L("",!0),p("div",null,[h(n,{onClick:u},{default:_((function(){return[S("详情")]})),_:1})])]),p("div",pe,[h(r,{type:"line",options:w(i)},null,8,["options"])])]})),_:1})}}}),ve={class:"flex items-center mb-10px"},me={class:"mr-16px text-[14px]"},ye={class:"h-220px"},he=c({__name:"index",setup:function(t){var e=G(),n=l(e).summary,r=function(){var t=G(),e=l(t),n=e.total,r=e.form,a=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e='<div style="margin-bottom: 6px;">'.concat(t[0].seriesName,"</div>"),n=0;n<t.length;n++){var a=t[n];e+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(a.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===r.value.query_data||0===r.value.contrast_particle?H(Number(a.data.date),"M月dd日 HH:mm"):H(Number(a.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(a.data.value,"</div>\n\t\t\t\t\t</div>")}return e}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max:function(t){var e=t.max;return e?e%5==0?e:e+(5-e%5):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"UV数",data:[]},{type:"line",name:"上期UV数",data:[]}]}),o=new Map([[0,1],[7,24],[30,70]]);return g((function(){return n.value}),(function(t){var e=t.date,n=t.uv,i=n.current,u=n.old;a.xAxis={type:"category",data:e,boundaryGap:!1,axisLabel:{formatter:function(t){return r.value.query_data>1?H(Number(t),"MM-dd"):H(Number(t),"HH:mm")},interval:0===r.value.contrast_particle?o.get(r.value.query_data):"auto"}},a.series=[{type:"line",name:"UV数",symbol:"none",sampling:"average",smooth:!0,data:i,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at("#20a53a",.4)},{offset:.8,color:at("#20a53a",0)}]}}},{type:"line",name:"上期UV数",symbol:"none",sampling:"average",smooth:!0,data:u,itemStyle:{color:at("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:a}}(),a=r.options,o=x((function(){return n.value.uv_total}));return function(t,e){var n=rt,r=C;return s(),b(r,{class:"h-full"},{default:_((function(){return[p("div",ve,[p("div",me,f("UV："+w(o)),1),L("",!0)]),p("div",ye,[h(n,{type:"line",options:w(a)},null,8,["options"])])]})),_:1})}}}),ge={class:"flex items-center mb-10px"},xe={class:"mr-16px text-[14px]"},be={class:"h-220px"},_e=c({__name:"index",setup:function(t){var e=G(),n=l(e),r=n.type,a=n.summary,o=function(){var t=G(),e=l(t),n=e.total,r=e.form,a=nt({tooltip:{trigger:"axis",confine:!0,formatter:function(t){for(var e='<div style="margin-bottom: 6px;">'.concat(t[0].seriesName,"</div>"),n=0;n<t.length;n++){var a=t[n];e+='\n\t\t\t\t\t<div style="display: flex; align-items: center; width: 180px;">\n\t\t\t\t\t\t<div style="display:block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(a.color,';"></div>\n\t\t\t\t\t\t<div>').concat(0===r.value.query_data||0===r.value.contrast_particle?H(Number(a.data.date),"M月dd日 HH:mm"):H(Number(a.data.date),"M月dd日"),'</div>\n\t\t\t\t\t\t<div style="flex: 1; text-align: right;">').concat(a.data.value,"</div>\n\t\t\t\t\t</div>")}return e}},grid:{top:"8%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:{type:"category",data:[],boundaryGap:!1},yAxis:{type:"value",minInterval:1,splitNumber:4,max:function(t){var e=t.max;return e?e%4==0?e:e+(4-e%4):4},splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"line",name:"蜘蛛数",data:[]},{type:"line",name:"上期蜘蛛数",data:[]}]}),o=new Map([[0,1],[7,24],[30,70]]);return g((function(){return n.value}),(function(t){var e=t.date,n=t.spider,i=n.current,u=n.old;a.xAxis={type:"category",data:e,boundaryGap:!1,axisLabel:{formatter:function(t){return r.value.query_data>1?H(Number(t),"MM-dd"):H(Number(t),"HH:mm")},interval:0===r.value.contrast_particle?o.get(r.value.query_data):"auto"}},a.series=[{type:"line",name:"蜘蛛数",symbol:"none",sampling:"average",smooth:!0,data:i,itemStyle:{color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:at("#20a53a",.4)},{offset:.8,color:at("#20a53a",0)}]}}},{type:"line",name:"上期蜘蛛数",symbol:"none",sampling:"average",smooth:!0,data:u,itemStyle:{color:at("#C0DBFD",.6)}}]}),{immediate:!0,deep:!0}),{options:a}}(),i=o.options,u=function(){r.value="spider"},c=x((function(){return a.value.spider_total}));return function(t,e){var n=R,r=rt,a=C;return s(),b(a,{class:"h-full"},{default:_((function(){return[p("div",ge,[p("div",xe,f("蜘蛛："+w(c)),1),L("",!0),p("div",null,[h(n,{onClick:u},{default:_((function(){return[S("详情")]})),_:1})])]),p("div",be,[h(r,{type:"line",options:w(i)},null,8,["options"])])]})),_:1})}}}),we={class:"flex items-center"},ke={class:"w-194px mr-10px"},Le=p("span",{class:"pl-10px pr-10px"},"对比",-1),Se={class:"w-200px mr-10px"},qe={class:"w-100px mr-10px"},Pe=c({__name:"index",setup:function(t){var e=G(),n=l(e),r=n.form,a=n.chartLoading,o=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],i=x((function(){return 0===r.value.query_data?[{label:"每小时",value:0}]:[{label:"每天",value:1},{label:"每小时",value:0}]})),c=x((function(){var t=new Date;if(0===r.value.query_data){var e=dt(t,-1).getTime();return O(e,"MM月dd日")}if(7===r.value.query_data){var n=new Date(t.getTime()-6048e5),a=new Date(n.getTime()-6048e5);return"".concat(O(n,"MM月dd日"),"-").concat(O(a,"MM月dd日"))}if(30===r.value.query_data){var o=new Date(t.getTime()-2592e6),i=new Date(o.getTime()-2592e6);return"".concat(O(o,"MM月dd日"),"-").concat(O(i,"MM月dd日"))}return O(0,"MM月dd日")})),d=x((function(){return[{label:"上一期：".concat(c.value),value:1},{label:"不对比",value:0}]})),f=function(t){var n=new Date;if(0===t){var a=dt(n,-1).getTime();r.value.contrast_start=a/1e3,r.value.contrast_particle=0}if(7===r.value.query_data){var o=dt(n,-7).getTime();r.value.contrast_start=o/1e3,r.value.contrast_particle=1}if(30===r.value.query_data){var i=dt(n,-30).getTime();r.value.contrast_start=i/1e3,r.value.contrast_particle=1}e.getList()},v=function(){e.getList()},m=function(){e.getList()};return function(t,e){var n=u,l=ot,c=pt,y=ft,g=T,x=st;return s(),b(x,null,{toolsLeft:_((function(){return[p("div",we,[p("div",ke,[h(Zt,{ref:"siteRef"},null,512)]),h(n,{value:w(r).query_data,"onUpdate:value":[e[0]||(e[0]=function(t){return w(r).query_data=t}),f],options:o},null,8,["value"]),Le,p("div",Se,[h(l,{value:w(r).is_contrast,"onUpdate:value":[e[1]||(e[1]=function(t){return w(r).is_contrast=t}),m],options:w(d),"consistent-menu-width":!1},null,8,["value","options"])]),p("div",qe,[h(l,{value:w(r).contrast_particle,"onUpdate:value":[e[2]||(e[2]=function(t){return w(r).contrast_particle=t}),v],options:w(i)},null,8,["value","options"])])])]})),content:_((function(){return[h(g,{show:w(a)},{default:_((function(){return[h(y,{"x-gap":"16",cols:2},{default:_((function(){return[h(c,null,{default:_((function(){return[h(ne)]})),_:1}),h(c,null,{default:_((function(){return[h(ce)]})),_:1})]})),_:1}),h(y,{class:"mt-16px","x-gap":"16",cols:3},{default:_((function(){return[h(c,null,{default:_((function(){return[h(fe)]})),_:1}),h(c,null,{default:_((function(){return[h(he)]})),_:1}),h(c,null,{default:_((function(){return[h(_e)]})),_:1})]})),_:1})]})),_:1},8,["show"])]})),_:1})}}}),je={class:"w-194px mr-10px"},Be=c({__name:"index",setup:function(t){var n=q().t,a=G(),o=l(a),i=o.form,c=o.table,d=o.loading,f=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],v=function(){a.getBranchList()},m=P([{title:"IP",key:"ip",width:"20%"},{title:"访问次数",key:"visits"},{title:function(){return h("div",{class:"flex flex-wrap items-center"},[h("div",{class:"mr-8px"},[S("访问占比")]),h(ct,null,{default:function(){return[S("该IP访问在指定时间周期内的所有请求中的百分比")]}})])},key:"percent",render:function(t){return"".concat(t.percent,"%")}},{title:"操作",key:"action",width:"8%",render:function(t){return h(R,{onClick:function(){y(t)}},{default:function(){return[S("禁止访问")]}})}}]),y=function(t){var o;z({title:"".concat(n("Attack.BlModal.Title")),content:"".concat(n("Attack.BlModal.Content",{ip:t.ip})),onConfirm:(o=r(e().mark((function n(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({types:1,start:t.ip,end:t.ip,ip_type:0});case 2:a.getList();case 3:case"end":return e.stop()}}),n)}))),function(){return o.apply(this,arguments)})})};return function(t,e){var n=u,r=it,o=vt,l=st;return s(),b(l,null,{toolsLeft:_((function(){return[p("div",je,[h(Zt,{ref:"siteRef"},null,512)])]})),toolsRight:_((function(){return[h(n,{value:w(i).query_data,"onUpdate:value":[e[0]||(e[0]=function(t){return w(i).query_data=t}),v],options:f},null,8,["value"])]})),content:_((function(){return[h(r,{data:w(c).data,columns:w(m),loading:w(d),bordered:!1},null,8,["data","columns","loading"])]})),pageRight:_((function(){return[h(o,{page:w(i).p,"onUpdate:page":e[1]||(e[1]=function(t){return w(i).p=t}),"page-size":w(i).p_size,"onUpdate:pageSize":e[2]||(e[2]=function(t){return w(i).p_size=t}),"item-count":w(c).total,onRefresh:w(a).getBranchList},null,8,["page","page-size","item-count","onRefresh"])]})),_:1})}}}),Ie={class:"w-320px"},Me={key:0,class:"text-desc mb-10px"},Ne={key:1,class:"text-desc mb-5px mt-10px"},Ee={class:"mt-12px max-h-200px"},Oe={class:"flex items-center mb-15px"},De={class:"ml-10px text-desc"},Ue=c({__name:"index",setup:function(t,n){var a=n.expose,o=j("component-data").uri,i=G(),u=l(i).form,c=P([]),v=P([]),g=P(!1),x=function(){g.value?c.value=[]:c.value=v.value.map((function(t){return t.ip})),g.value=!g.value},q=V(),B=q.loading,I=q.setLoading,M=function(){var t=r(e().mark((function t(){var n,r,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,I(!0),t.next=4,K({site_id:u.value.site_id,query_data:u.value.query_data,type:0});case 4:n=t.sent,r=n.res,a=r.list,v.value=a;case 8:return t.prev=8,I(!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})));return function(){return t.apply(this,arguments)}}(),N=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<t;r++){var a=Math.floor(62*Math.random());n+=e.charAt(a)}return n},E=function(){return{logic:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"or",type:"block",option:null,children:[]}},O=function(t){return{type:"option",logic:"",children:[],option:{type:"ip",operator:"eq",left_factor:"",right_factor:t}}},D=function(){return{name:"total_".concat(N(5)),servers:u.value.site_id?[u.value.site_id]:[],status:1,is_global:0,priority:0,root:(t=E(),c.value.forEach((function(e){var n=E("or");n.children.push(O(e)),t.children.push(n)})),t),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}};var t},U=function(){var t=r(e().mark((function t(n){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=D(),0===c.value.length?$("您还没有选择ip"):z({title:"加入自定义规则",content:"您已选中".concat(c.value.length,"个ip，并禁止访问【").concat(o,"】，是否继续？"),onConfirm:function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(a);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a({onConfirm:U}),M(),function(t,e){var n=Y,r=J,a=yt,o=pt,i=ft,u=ht,l=T,q=W;return s(),d("div",Ie,[0!==w(v).length?(s(),d("p",Me," 选择需要禁止访问此URL的ip，按【确定】加入自定义规则 ")):L("",!0),0!==w(v).length?(s(),d("p",Ne,"*以下IP数据来源于IP统计")):L("",!0),p("div",Ee,[p("div",Oe,[h(n,{size:"tiny",secondary:"",strong:"",onClick:x},{default:_((function(){return[S(f(w(g)?"取消全选":"全选"),1)]})),_:1}),p("div",De,"已选 "+f(w(c).length)+" 项",1)]),0===w(v).length?(s(),b(r,{key:0,class:"h-90px w-100% mt-30px",description:"暂无数据"})):(s(),b(q,{key:1,style:{"max-height":"150px"}},{default:_((function(){return[h(l,{show:w(B)},{default:_((function(){return[h(u,{value:w(c),"onUpdate:value":e[0]||(e[0]=function(t){return k(c)?c.value=t:null})},{default:_((function(){return[h(i,{"y-gap":8,cols:1},{default:_((function(){return[(s(!0),d(m,null,y(w(v),(function(t,e){return s(),b(o,{key:e},{default:_((function(){return[h(a,{class:"mb-10px",value:t.ip,label:t.ip},null,8,["value","label"])]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["show"])]})),_:1}))])])}}}),Ae=E(Ue,[["__scopeId","data-v-f4cfc4d8"]]),Ce={class:"w-194px mr-10px"},Ge=c({__name:"index",setup:function(t){var n=G(),a=l(n),o=a.form,i=a.table,c=a.loading,d=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],f=B({show:!1,title:"",data:{uri:""}}),v=function(){n.getBranchList()},m=P([{title:"URL",key:"uri",width:"20%",ellipsis:{tooltip:!0}},{title:"访问次数",key:"visits"},{title:function(){return h("div",{class:"flex flex-wrap items-center "},[h("div",{class:"mr-8px"},[S("访问占比")]),h(ct,null,{default:function(){return[S("该URI访问在指定时间周期内的所有请求中的百分比")]}})])},key:"percent",render:function(t){return"".concat(t.percent,"%")}},{title:"操作",key:"action",width:"8%",render:function(t){return h(R,{disabled:"/"===t.uri,onClick:function(){x(t)}},{default:function(){return[S("禁止访问")]}})}}]),y=function(){return{logic:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"or",type:"block",option:null,children:[]}},g=function(t){return{type:"option",logic:"",children:[],option:{type:"uri",operator:"eq",left_factor:"",right_factor:t}}},x=function(t){var n,a=function(t){return{name:"total_".concat(mt(5)),servers:o.value.site_id?[o.value.site_id]:[],status:1,is_global:0,priority:0,root:(e=t.uri,n=y(),r=y("and"),r.children.push(g(e)),n.children.push(r),n),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}};var e,n,r}(t);z({title:"禁止访问",content:"此操作将会拦截【".concat(t.uri,"】的访问，并加入自定义拦截规则，是否继续？"),onConfirm:(n=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(a);case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})})};return function(t,e){var r=u,a=it,l=vt,y=X,g=st;return s(),b(g,null,{toolsLeft:_((function(){return[p("div",Ce,[h(Zt,{ref:"siteRef"},null,512)])]})),toolsRight:_((function(){return[h(r,{value:w(o).query_data,"onUpdate:value":[e[0]||(e[0]=function(t){return w(o).query_data=t}),v],options:d},null,8,["value"])]})),content:_((function(){return[h(a,{data:w(i).data,columns:w(m),loading:w(c),bordered:!1},null,8,["data","columns","loading"])]})),pageRight:_((function(){return[h(l,{page:w(o).p,"onUpdate:page":e[1]||(e[1]=function(t){return w(o).p=t}),"page-size":w(o).p_size,"onUpdate:pageSize":e[2]||(e[2]=function(t){return w(o).p_size=t}),"item-count":w(i).total,onRefresh:w(n).getBranchList},null,8,["page","page-size","item-count","onRefresh"])]})),modal:_((function(){return[h(y,{show:w(f).show,"onUpdate:show":e[3]||(e[3]=function(t){return w(f).show=t}),title:w(f).title,data:w(f).data,"is-footer":!0,"max-width":"250px",component:Ae},null,8,["show","title","data"])]})),_:1})}}}),He={class:"w-300px"},Re={key:0,class:"text-desc mb-5px"},Te={key:1,class:"text-desc mb-5px mt-10px"},ze={class:"mt-12px max-h-200px"},Fe=c({__name:"index",setup:function(t,n){var a=n.expose,o=j("component-data").spider,i=x((function(){return o})),u=G(),c=l(u),f=c.form,v=c.nameOptions,g=P(""),S=P([]),q=V(),B=q.loading,I=q.setLoading,M=function(){var t=r(e().mark((function t(){var n,r,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,I(!0),t.next=4,K({site_id:f.value.site_id,query_data:f.value.query_data,type:0});case 4:n=t.sent,r=n.res,a=r.list,S.value=a;case 8:return t.prev=8,I(!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})));return function(){return t.apply(this,arguments)}}(),N=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<t;r++){var a=Math.floor(62*Math.random());n+=e.charAt(a)}return n},E=function(){return{logic:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"or",type:"block",option:null,children:[]}},O=function(t,e,n){return{type:"option",logic:"",children:[],option:{type:e,operator:n,left_factor:"",right_factor:t}}},D=function(){var t=r(e().mark((function t(n){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=void 0,u=void 0,l=void 0,c=void 0,a={name:"total_".concat(N(5)),servers:f.value.site_id?[f.value.site_id]:[],status:1,is_global:0,priority:0,root:(o=v.value.find((function(t){return t.key===i.value})),u=null!=o&&o.value?null==o?void 0:o.value.keyword:"",l=E(),c=E("and"),c.children.push(O(u,"user-agent","like")),c.children.push(O(g.value,"ip","eq")),l.children.push(c),l),action:{type:"deny",response:{type:"black_page",response_id:0,status:0,headers:{},body:""}}},""===g.value?$("您还没有选择ip"):z({title:"加入自定义规则",content:"将".concat(g.value,"加入自定义规则，并禁用它的访问，是否继续？"),onConfirm:function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(a);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}var o,u,l,c}),t)})));return function(e){return t.apply(this,arguments)}}();return a({onConfirm:D}),M(),function(t,e){var n=J,r=ut,a=pt,o=ft,i=lt,u=T,l=W;return s(),d("div",He,[0!==w(S).length?(s(),d("p",Re," 选择需要禁用的ip，按【确定】加入自定义规则 ")):L("",!0),0!==w(S).length?(s(),d("p",Te,"*以下IP数据来源于IP统计")):L("",!0),p("div",ze,[0===w(S).length?(s(),b(n,{key:0,class:"h-90px w-100% mt-30px",description:"暂无数据"})):(s(),b(l,{key:1,style:{"max-height":"150px"}},{default:_((function(){return[h(u,{show:w(B)},{default:_((function(){return[h(i,{value:w(g),"onUpdate:value":e[0]||(e[0]=function(t){return k(g)?g.value=t:null})},{default:_((function(){return[h(o,{"y-gap":8,cols:1},{default:_((function(){return[(s(!0),d(m,null,y(w(S),(function(t,e){return s(),b(a,{key:e},{default:_((function(){return[h(r,{class:"mb-10px",value:t.ip,label:t.ip},null,8,["value","label"])]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["show"])]})),_:1}))])])}}}),Ve=E(Fe,[["__scopeId","data-v-c2de9d0e"]]),Ke={class:"w-194px mr-10px"},$e=c({__name:"index",setup:function(t){var e=G(),n=l(e),r=n.form,a=n.loading,o=n.table,i=n.nameOptions,c=[{label:"今天",value:0},{label:"近7天",value:7},{label:"近30天",value:30}],d=B({show:!1,title:"",data:{spider:""}}),f=function(){e.getBranchList()},v=P([{title:"蜘蛛名",key:"spider",render:function(t){var e=i.value.find((function(e){return e.key===t.spider}));return e?e.value.chinese:"--"}},{title:"访问次数",key:"visits"},{title:function(){return h("div",{class:"flex flex-wrap items-center"},[h("div",{class:"mr-8px"},[S("访问占比")]),h(ct,null,{default:function(){return[S("该蜘蛛访问在指定时间周期内的所有请求中的百分比")]}})])},key:"percent",width:"30%",render:function(t){return"".concat(t.percent,"%")}}]);return function(t,e){var n=u,i=it,l=X,m=st;return s(),b(m,null,{toolsLeft:_((function(){return[p("div",Ke,[h(Zt,{ref:"siteRef"},null,512)])]})),toolsRight:_((function(){return[h(n,{value:w(r).query_data,"onUpdate:value":[e[0]||(e[0]=function(t){return w(r).query_data=t}),f],options:c},null,8,["value"])]})),content:_((function(){return[h(i,{data:w(o).data,columns:w(v),loading:w(a),bordered:!1},null,8,["data","columns","loading"])]})),modal:_((function(){return[h(l,{show:w(d).show,"onUpdate:show":e[1]||(e[1]=function(t){return w(d).show=t}),title:w(d).title,data:w(d).data,"is-footer":!0,"max-width":"200px",component:Ve},null,8,["show","title","data"])]})),_:1})}}}),Qe={class:"flex items-center"},Ye=function(t){return I("data-v-45efb1f8"),t=t(),M(),t}((function(){return p("span",{class:"mr-5px"},"URL统计",-1)})),Je=c({__name:"content",setup:function(t){var n=G(),a=l(n).type,o=new Map([["overview",3],["ip",0],["url",1],["spider",2]]),i=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.value="overview",t.next=3,n.getSites();case 3:if(3!==o.get(a.value)){t.next=8;break}return t.next=6,n.getList();case 6:t.next=14;break;case 8:if(2!==o.get(a.value)){t.next=12;break}u(),t.next=14;break;case 12:return t.next=14,n.getBranchList();case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getConfigHelp();case 2:return t.next=4,n.getBranchList();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i(),g((function(){return a.value}),(function(t){3===o.get(t)?n.getList():2===o.get(t)?u():n.getBranchList()})),function(t,e){var n=Z,r=tt,o=ct,i=et;return s(),d("div",null,[h(n,{class:"mb-12px",type:"warning",bordered:!1},{default:_((function(){return[S(" 【数据统计】正在公测中，所有用户均可免费使用，请知悉。 ")]})),_:1}),h(i,{value:w(a),"onUpdate:value":e[0]||(e[0]=function(t){return k(a)?a.value=t:null}),type:"segment"},{default:_((function(){return[h(r,{name:"overview",tab:"概览"},{default:_((function(){return[h(Pe)]})),_:1}),h(r,{name:"ip",tab:"IP统计"},{default:_((function(){return[h(Be)]})),_:1}),h(r,{name:"url"},{tab:_((function(){return[p("div",Qe,[Ye,h(o,null,{default:_((function(){return[S(" URL只统计200状态码的URL，如发现有IP数据却无URL数据是正常的")]})),_:1})])]})),default:_((function(){return[h(Ge)]})),_:1}),h(r,{name:"spider",tab:"蜘蛛统计"},{default:_((function(){return[h($e)]})),_:1})]})),_:1},8,["value"])])}}}),We=E(Je,[["__scopeId","data-v-45efb1f8"]]),Xe=c({__name:"index",setup:function(t){return function(t,e){return s(),d("div",null,[L("",!0),(s(),b(We,{key:1}))])}}});t("default",c({__name:"index",setup:function(t){var e=P("");return function(t,n){var r=tt,o=i,u=a;return s(),b(u,{padding:"0"},{default:_((function(){return[h(o,{value:w(e),"onUpdate:value":n[0]||(n[0]=function(t){return k(e)?e.value=t:null}),"store-key":"statistics","default-value":"monitoring"},{default:_((function(){return[h(r,{name:"monitoring",tab:"监控"},{default:_((function(){return[h(Wt)]})),_:1}),h(r,{name:"statistics",tab:"数据统计"},{default:_((function(){return[h(Xe)]})),_:1})]})),_:1},8,["value"])]})),_:1})}}}))}}}))}();
