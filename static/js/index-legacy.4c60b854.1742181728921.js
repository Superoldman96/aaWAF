!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(c){s=!0,a=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),l=new T(r||[]);return a(o,"_invoke",{value:S(e,n,l)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=d;var p={};function v(){}function h(){}function m(){}var y={};c(y,l,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==n&&r.call(_,l)&&(y=_);var w=m.prototype=v.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(t,n){function i(a,o,l,u){var s=f(t[a],t,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==e(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,l,u)}),(function(e){i("throw",e,l,u)})):n.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return i("throw",e,l,u)}))}u(s.arg)}var o;a(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){i(e,t,n,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return L()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=k(o,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=m,a(w,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,u,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new g(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(w),c(w,s,"Generator"),c(w,l,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function o(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,u,"next",e)}function u(e){o(i,r,a,l,u,"throw",e)}l(void 0)}))}}function u(t,n,r){return(n=function(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.b28e44e3.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.a7590e54.1742181728921.js","./index-legacy.b0161ddd.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.c6779449.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.24bf6686.1742181728921.js","./vue-legacy.fb39cc53.1742181728921.js","./Checkbox-legacy.7bd59ed4.1742181728921.js","./index.vue_vue_type_script_setup_true_lang-legacy.0b622738.1742181728921.js","./auth-legacy.1a1ea3f1.1742181728921.js","./area-legacy.f8abd397.1742181728921.js","./pro-legacy.8a6de7c6.1742181728921.js","./index-legacy.9261615a.1742181728921.js","./mode.vue_vue_type_script_setup_true_lang-legacy.059de5f0.1742181728921.js","./Switch-legacy.8e0f69b2.1742181728921.js","./index-legacy.524499c2.1742181728921.js","./DataTable-legacy.ce503b2f.1742181728921.js","./Upload-legacy.f6d20fa3.1742181728921.js","./CollapseTransition-legacy.73c1eb46.1742181728921.js","./InputNumber-legacy.cf3e32ba.1742181728921.js","./index-legacy.03b43f9b.1742181728921.js","./index-legacy.44aecbd0.1742181728921.js","./Grid-legacy.f1affbdd.1742181728921.js","./layer-legacy.05c99610.1742181728921.js","./get-slot-legacy.9d1f4ef0.1742181728921.js","./utils-legacy.9d6b10a2.1742181728921.js"],(function(e,n){"use strict";var r,o,s,c,d,f,p,v,h,m,y,x,_,w,b,g,S,k,C,M,T,P,L,A,U,$,j,D,R,B,E,O,I,z,N,F,W,K,q,H,V,G,X,Q,Y,J,Z,ee,te,ne,re,ae,ie,oe,le,ue,se,ce,de,fe,pe,ve,he,me,ye,xe,_e,we,be,ge,Se,ke,Ce,Me,Te,Pe,Le,Ae,Ue,$e,je,De,Re,Be,Ee,Oe,Ie,ze,Ne,Fe,We,Ke,qe,He,Ve,Ge,Xe,Qe,Ye,Je,Ze,et,tt,nt,rt,at,it,ot,lt,ut,st,ct,dt,ft,pt,vt,ht,mt,yt,xt,_t,wt,bt,gt,St,kt,Ct,Mt,Tt,Pt,Lt,At;return{setters:[function(e){r=e._},function(e){o=e._},function(e){s=e.B,c=e.D,d=e.L,f=e.F,p=e.G,v=e.P,h=e.I,m=e.a9,y=e.h,x=e.$,_=e.aa,w=e.ab,b=e.ac,g=e.f,S=e._,k=e.ad,C=e.ae,M=e.t,T=e.o,P=e.a1,L=e.x,A=e.af,U=e.a7,$=e.V,j=e.ag,D=e.ah,R=e.ai,B=e.aj,E=e.A,O=e.a3,I=e.ak,z=e.u,N=e.al,F=e.r,W=e.z,K=e.y,q=e.m,H=e.T,V=e.am,G=e.an,X=e.ao,Q=e.l,Y=e.n,J=e.a6,Z=e.g,ee=e.ap,te=e.aq,ne=e.e,re=e.ar,ae=e.as,ie=e.at,oe=e.W,le=e.au,ue=e.av,se=e.R,ce=e.aw,de=e.ax,fe=e.k,pe=e.ay,ve=e.az,he=e.aA,me=e.aB,ye=e.S,xe=e.aC,_e=e.aD,we=e.aE,be=e.aF},function(e){ge=e._},function(e){Se=e._},function(e){ke=e.d,Ce=e.c,Me=e.h,Te=e.x,Pe=e.m,Le=e.X,Ae=e.W,Ue=e.r,$e=e.P,je=e.o,De=e.S,Re=e.U,Be=e.$,Ee=e.f,Oe=e.e,Ie=e.k,ze=e._,Ne=e.Z,Fe=e.aa,We=e.a2,Ke=e.a3,qe=e.B,He=e.s,Ve=e.F,Ge=e.u,Xe=e.b,Qe=e.y,Ye=e.l,Je=e.K,Ze=e.ae,et=e.a,tt=e.ac,nt=e.a5,rt=e.ad,at=e.G,it=e.ab,ot=e.a6},function(e){lt=e._,ut=e.a},function(e){st=e._},function(e){ct=e.u},function(e){dt=e.a,ft=e.d},function(e){pt=e._},function(e){vt=e._},function(e){ht=e._},function(e){mt=e.N},function(e){yt=e._},function(e){xt=e.b,_t=e._,wt=e.c,bt=e.a},function(e){gt=e._,St=e.N},function(e){kt=e._},function(e){Ct=e.N},function(e){Mt=e._,Tt=e.a},function(e){Pt=e._},function(e){Lt=e.a,At=e._},null,null,null],execute:function(){var n=document.createElement("style");n.textContent=".alert[data-v-d9c57124]{margin-bottom:16px;padding:12px 16px;border-radius:4px;background-color:#dff0d8;color:#3c763d}.n-checkbox[data-v-f5753746]{flex-direction:row-reverse}.detect-result .rows[data-v-e3387a9b]{display:flex}.detect-result .rows+.rows[data-v-e3387a9b]{margin-top:4px}.detect-result .rows .label[data-v-e3387a9b]{width:90px;color:#666;font-weight:700;text-align:right}.detect-result .rows .value[data-v-e3387a9b]{flex:1;margin-left:8px}.source-loading[data-v-2ab7ebe6]{--n-size: 14px}.footer-btn[data-v-48aa9974]{display:flex;justify-content:flex-end;padding:10px 20px;border-top:1px solid #edf1f2;background-color:#f6f8f8}.footer-btn .n-button+.n-button[data-v-48aa9974]{margin-left:10px}.footer-btn .cancel-btn[data-v-48aa9974]{--n-color-hover: #c9302c}.detect-result .rows[data-v-48aa9974]{display:flex}.detect-result .rows+.rows[data-v-48aa9974]{margin-top:5px}.detect-result .rows .label[data-v-48aa9974]{width:80px;color:#666;font-weight:700;text-align:right}.detect-result .rows .value[data-v-48aa9974]{flex:1}.info[data-v-d46a285a]{padding:0 10px}.info .rows[data-v-d46a285a]{display:flex}.info .rows .cols[data-v-d46a285a]{flex:1;display:flex;align-items:center;flex-wrap:wrap;line-height:24px}.info .rows .cols+.cols[data-v-d46a285a]{margin-left:16px}.info .rows .cols .label[data-v-d46a285a]{color:#666;font-weight:700}.info .rows .cols .value[data-v-d46a285a]{flex:1;margin-left:4px}.rows[data-v-d3fdf797]{display:flex;flex-wrap:wrap}.rows .label[data-v-d3fdf797]{font-weight:700}.rows .value[data-v-d3fdf797]{flex:1}.site-box[data-v-d3fdf797]{padding:15px;border:1px solid #efefef}.n-tree[data-v-d3fdf797] .n-tree-node-wrapper{padding:0}.n-tree[data-v-d3fdf797] .n-tree-node-wrapper+.n-tree-node-wrapper{margin-top:2px}.n-tree[data-v-d3fdf797] .n-tree-node-wrapper .n-tree-node{padding:3px 0 3px 10px}.n-tree[data-v-d3fdf797] .n-tree-node-wrapper .n-tree-node .n-tree-node-switcher{display:none}.domain[data-v-5dae7309]{width:230px;border:1px solid #ccc;border-radius:2px;padding:12px}.main-box[data-v-5dae7309]{position:relative;width:auto;max-width:400px}.main-box .icon[data-v-5dae7309]{position:absolute;top:28px;left:15px;width:30px;height:30px;background:url(/static/images/icon.551539f8.f0800050.1742181728921.png) no-repeat;background-position:-60px 0}.main-box .tip[data-v-5dae7309]{line-height:25px;font-size:15px;padding-left:20px;white-space:pre-line}.footer-btn[data-v-e0de327c]{display:flex;justify-content:flex-end;padding:10px 20px;border-top:1px solid #edf1f2;background-color:#f6f8f8}.footer-btn .n-button+.n-button[data-v-e0de327c]{margin-left:10px}.footer-btn .cancel-btn[data-v-e0de327c]{--n-color-hover: #c9302c}.footer-btn[data-v-2682a8b6]{display:flex;justify-content:flex-end;padding:10px 20px;border-top:1px solid #edf1f2;background-color:#f6f8f8}.footer-btn .n-button+.n-button[data-v-2682a8b6]{margin-left:10px}.footer-btn .cancel-btn[data-v-2682a8b6]{--n-color-hover: #c9302c}\n",document.head.appendChild(n);var Ut={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},$t={name:"Typography",common:s,self:function(e){var t=e.primaryColor,n=e.textColor2,r=e.borderColor,a=e.lineHeight,i=e.fontSize,o=e.borderRadiusSmall,l=e.dividerColor,u=e.fontWeightStrong,s=e.textColor1,c=e.textColor3,d=e.infoColor,f=e.warningColor,p=e.errorColor,v=e.successColor,h=e.codeColor;return Object.assign(Object.assign({},Ut),{aTextColor:t,blockquoteTextColor:n,blockquotePrefixColor:r,blockquoteLineHeight:a,blockquoteFontSize:i,codeBorderRadius:o,liTextColor:n,liLineHeight:a,liFontSize:i,hrColor:l,headerFontWeight:u,headerTextColor:s,pTextColor:n,pTextColor1Depth:s,pTextColor2Depth:n,pTextColor3Depth:c,pLineHeight:a,pFontSize:i,headerBarColor:t,headerBarColorPrimary:t,headerBarColorInfo:d,headerBarColorError:p,headerBarColorWarning:f,headerBarColorSuccess:v,textColor:n,textColor1Depth:s,textColor2Depth:n,textColor3Depth:c,textColorPrimary:t,textColorInfo:d,textColorSuccess:v,textColorWarning:f,textColorError:p,codeTextColor:n,codeColor:h,codeBorder:"1px solid #0000"})}},jt=c("text","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n",[d("strong","\n font-weight: var(--n-font-weight-strong);\n "),d("italic",{fontStyle:"italic"}),d("underline",{textDecoration:"underline"}),d("code","\n line-height: 1.4;\n display: inline-block;\n font-family: var(--n-font-famliy-mono);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n box-sizing: border-box;\n padding: .05em .35em 0 .35em;\n border-radius: var(--n-code-border-radius);\n font-size: .9em;\n color: var(--n-code-text-color);\n background-color: var(--n-code-color);\n border: var(--n-code-border);\n ")]),Dt=Object.assign(Object.assign({},p.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:function(){return!0},default:void 0}}),Rt=ke({name:"Text",props:Dt,setup:function(e){var t=f(e),n=t.mergedClsPrefixRef,r=t.inlineThemeDisabled,a=p("Typography","-text",jt,$t,e,n),i=Ce((function(){var t=e.depth,n=e.type,r="default"===n?void 0===t?"textColor":"textColor".concat(t,"Depth"):v("textColor",n),i=a.value,o=i.common,l=o.fontWeightStrong,u=o.fontFamilyMono,s=o.cubicBezierEaseInOut,c=i.self,d=c.codeTextColor,f=c.codeBorderRadius,p=c.codeColor,h=c.codeBorder;return{"--n-bezier":s,"--n-text-color":c[r],"--n-font-weight-strong":l,"--n-font-famliy-mono":u,"--n-code-border-radius":f,"--n-code-text-color":d,"--n-code-color":p,"--n-code-border":h}})),o=r?h("text",Ce((function(){return"".concat(e.type[0]).concat(e.depth||"")})),i,e):void 0;return{mergedClsPrefix:n,compitableTag:m(e,["as","tag"]),cssVars:r?void 0:i,themeClass:null==o?void 0:o.themeClass,onRender:null==o?void 0:o.onRender}},render:function(){var e,t,n,r,a=this.mergedClsPrefix;null===(t=this.onRender)||void 0===t||t.call(this);var i=["".concat(a,"-text"),this.themeClass,(e={},u(e,"".concat(a,"-text--code"),this.code),u(e,"".concat(a,"-text--delete"),this.delete),u(e,"".concat(a,"-text--strong"),this.strong),u(e,"".concat(a,"-text--italic"),this.italic),u(e,"".concat(a,"-text--underline"),this.underline),e)],o=null===(r=(n=this.$slots).default)||void 0===r?void 0:r.call(n);return this.code?Me("code",{class:i,style:this.cssVars},this.delete?Me("del",null,o):o):this.delete?Me("del",{class:i,style:this.cssVars},o):Me(this.compitableTag||"span",{class:i,style:this.cssVars},o)}}),Bt=Symbol("server-list");function Et(){return Pe(Bt)}var Ot={key:0,class:"alert"},It={class:"mr-12px font-bold"},zt=ke({__name:"index",setup:function(e){var t=y(),n=Le(t).isFree,r=Ae().t,a=Ue(!1),o=function(){var e;x({title:r("Site.List.Try.Title"),content:r("Site.List.Try.Content"),confirmTitle:r("Site.List.Try.ConfrimBtn"),onConfirm:(e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:w();case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})},u=function(){var e=l(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,r=t.res,a.value=0===r&&n.value;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u(),function(e,t){var n=g;return $e(a)?(je(),De("div",Ot,[Re("span",It,Be(e.$t("Site.List.Try.Tips")),1),Ee(n,{type:"primary",size:"tiny",onClick:o},{default:Oe((function(){return[Ie(Be(e.$t("Site.List.Try.Btn")),1)]})),_:1})])):ze("",!0)}}}),Nt=S(zt,[["__scopeId","data-v-d9c57124"]]),Ft=function(e){return We("data-v-f5753746"),e=e(),Ke(),e},Wt={class:"flex items-center"},Kt=Ft((function(){return Re("span",{class:"ml-10px"},"拦截",-1)})),qt=Ft((function(){return Re("span",null,"点击查看堡塔恶意IP库",-1)})),Ht=Ft((function(){return Re("span",null,"访问",-1)})),Vt=ke({__name:"index",setup:function(e){var t=Et().onAddSite,n=Ae().t,r=Ne(),a=y(),o=Le(a).userinfo,u=Ue(!1),s=function(){r.push("/group")},c=function(){var e=l(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.value.malicious_ip_shared||!t){e.next=5;break}x({title:n("Public.Confirm.Title"),content:n("Site.List.Intercept.Content"),confirmTitle:n("Site.List.Intercept.ConfrimBtn"),cancelTitle:n("Site.List.Intercept.CancelBtn"),onConfirm:function(e){r.push("/config"),e()},onPublicCancel:function(){u.value=!1}}),e.next=7;break;case 5:return e.next=7,k({open:t?1:0,site_id:"",type:"global"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=l(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,n=t.res,M(n)?u.value=1===n.malicious_ip.mode:u.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d(),function(e,n){var r=g,a=T,i=P,o=lt;return je(),De("div",Wt,[Ee(r,{type:"primary",onClick:$e(t)},{default:Oe((function(){return[Ie(Be(e.$t("Site.List.AddBtn")),1)]})),_:1},8,["onClick"]),Kt,Ee(i,{trigger:"hover"},{trigger:Oe((function(){return[Ee(a,{onClick:s},{default:Oe((function(){return[Ie("已知恶意IP")]})),_:1})]})),default:Oe((function(){return[qt]})),_:1}),Ht,Ee(o,{checked:$e(u),"onUpdate:checked":[n[0]||(n[0]=function(e){return Fe(u)?u.value=e:null}),c],class:"ml-10px"},null,8,["checked"])])}}}),Gt=S(Vt,[["__scopeId","data-v-f5753746"]]),Xt={class:"inline-flex items-center"},Qt={class:"mr-8px"},Yt={class:"flex"},Jt={class:"pb-4px"},Zt={class:"pt-4px"},en=ke({__name:"index",props:{upColor:{default:"#666"},downColor:{default:"#666"}},setup:function(e){return function(e,t){var n=L;return je(),De("div",Xt,[Re("div",Qt,[qe(e.$slots,"default")]),Re("div",Yt,[Re("div",Jt,[Ee(n,{name:"byte-up",size:"12",color:e.upColor,style:{width:"6px"}},null,8,["color"])]),Re("div",Zt,[Ee(n,{name:"byte-down",size:"12",color:e.downColor,style:{width:"6px"}},null,8,["color"])])])])}}}),tn={class:"w-340px"},nn=Re("div",{class:"text-[1.4rem] mb-1rem"},"批量证书续签执行情况",-1),rn=ke({__name:"batchTable",setup:function(e){var t=Pe("component-data")||{},n=t.data,r=t.key,o=Ue([]),u=[{title:"站点名称",key:"site_name"},{title:"状态",key:"load_code",width:60,render:function(e){return 0===e.load_code?"等待中":1===e.load_code?Ee(T,null,{default:function(){return[Ie("成功")]}}):Ee(Ve,null,[Ee("div",{title:e.load_code},[Ee(T,{type:"error",class:"truncate w-[12rem] justify-start"},{default:function(){return[e.load_code]}})])])}}];return He((function(){var e;o.value=n.filter((function(e){return r.includes(e.site_id)})).map((function(e){return a(a({},e),{},{load_code:0})})),e=function(){var t=l(i().mark((function t(n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n>=o.value.length)){t.next=2;break}return t.abrupt("return");case 2:return r=o.value[n],t.prev=3,t.next=6,A({site_id:r.site_id});case 6:r.load_code=1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r.load_code=t.t0.res;case 12:return t.next=14,e(n+1);case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e(0)})),function(e,t){var n=st;return je(),De("div",tn,[nn,Ee(n,{data:$e(o),columns:u},null,8,["data"])])}}});function an(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Ye(e)}var on=ke({__name:"index",setup:function(e){var t=Ae().t,n=U(),r=n.getList,a=Le(n),u=a.loading,s=a.table,c=Et(),d=c.showSslModal,f=c.showCrawlerModal,p=c.showWaitModal,v=Ge({show:!1,data:{data:[],key:[]}}),h=Ue([{type:"selection",width:36},{key:"site_name",title:t("Site.List.SiteName"),minWidth:150,render:function(e){return Ee(T,{onClick:function(){y(e)}},{default:function(){return[e.site_name||"--"]}})}},{key:"access",title:t("Site.List.Access"),width:"9%",minWidth:100,render:function(e){return Ee(Ve,null,[Ee("span",null,[e.access_num.toLocaleString()||0]),Ee("span",{class:"mx-2px"},[Ie("/")]),Ee("span",{class:"text-error"},[e.interception_num.toLocaleString()||0])])}},{key:"real_time_send",width:"9%",minWidth:100,title:function(){var e;return Ee("div",{class:"flex items-center"},[Ee(en,{class:"mr-8px"},an(e=t("Site.List.Flow"))?e:{default:function(){return[e]}}),Ee(vt,null,{default:function(){return[t("Site.List.Up"),Ee("br",null,null),t("Site.List.Down")]}})])},render:function(e){return Ee(Ve,null,[Ee("div",null,[$(e.real_time_send)]),Ee("div",null,[$(e.real_time_recv)])])}},{key:"ssl",title:t("Site.List.Ssl"),width:"9%",minWidth:90,render:function(e){var n="warning",r=t("Site.List.NonDeployed");return 1===e.server.ssl.is_ssl&&(e.ssl_day>0?(n="primary",r=t("Site.List.Surplus",{day:e.ssl_day})):(n="error",r=t("Site.List.Expired"))),Ee(T,{type:n,onClick:function(){w(e)}},an(r)?r:{default:function(){return[r]}})}},{key:"run",title:t("Site.List.Mode"),width:"10%",minWidth:140,render:function(e){return Ee(ht,{row:e,value:e.waf_info.mode,onRefresh:function(t){e.waf_info.mode=t,r(!1)}},null)}},{key:"ccdefend",title:t("Site.List.Cc"),align:"center",width:"8%",minWidth:80,render:function(e){var t=e.waf_info.cc.open||e.waf_info.wait.open;return Ee(T,{class:"".concat(t?"text-[#20a53a]":"text-[#c6892e]"),onClick:function(){p(e)}},{default:function(){return[t?"已开启":"未开启"]}})}},{key:"crawler",title:"爬虫防护",align:"center",width:"8%",minWidth:80,render:function(e){var t=e.waf_info.crawler.encryption.open;return Ee(T,{class:"".concat(t?"text-[#20a53a]":"text-[#c6892e]"),onClick:function(){f(e)}},{default:function(){return[t?"已开启":"未开启"]}})}},{key:"smart_cc",align:"center",width:"8%",minWidth:110,title:function(){return Ee("div",{class:"flex flex-wrap items-center justify-center"},[Ee("img",{class:"w-20px",src:pt},null),Ee("div",{class:"ml-4px mr-6px"},[t("Site.List.SmartCc")]),Ee(vt,null,{default:function(){return[t("Site.List.SmartCcTips1"),Ee("br",null,null),t("Site.List.SmartCcTips2")]}})])},render:function(e){var t,n;return Ee(lt,{checked:(null===(t=e.waf_info)||void 0===t||null===(t=t.smart_cc)||void 0===t?void 0:t.open)&&(null===(n=e.waf_info)||void 0===n||null===(n=n.smart_cc)||void 0===n?void 0:n.open),onUpdateChecked:function(t){b(t,e)}},null)}},{key:"regional_restrictions_num",title:"禁中国境外",align:"center",width:"8%",minWidth:80,render:function(e){return Ee(mt,{size:"small",value:e.overseas.status,onUpdateValue:function(t){k(t,e)}},null)}},{key:"cdn",align:"center",width:"8%",minWidth:110,title:function(){var e;return Ee("div",{class:"flex flex-wrap items-center justify-center"},[Ee("div",{class:"mr-6px"},[t("Site.List.Cdn")]),Ee(vt,null,an(e=t("Site.List.CdnTips"))?e:{default:function(){return[e]}})])},render:function(e){return Ee(lt,{checked:e.waf_info.cdn,onUpdateChecked:function(t){S(t,e)}},null)}},{key:"action",title:t("Public.Table.Action"),width:"12%",minWidth:140,render:function(e){var n,r,a;return Ee("div",{class:"action"},[Ee(T,{onClick:function(){y(e)}},an(n=t("Site.List.Config"))?n:{default:function(){return[n]}}),Ee(T,{onClick:function(){_(e)}},an(r=t("Site.List.Logs"))?r:{default:function(){return[r]}}),Ee(T,{onClick:function(){C(e)}},an(a=t("Public.Btn.Del"))?a:{default:function(){return[a]}})])}}]),m=j(),y=function(e){m.goDetails(e)},_=function(e){m.goDetails(e,"logs")},w=function(e){d(e)},b=function(e,n){var a,o=t(e?"Site.List.SetSmartCc.Content1":"Site.List.SetSmartCc.Content2");x({title:t("Site.List.SetSmartCc.Title",{status:t(e?"Public.Confirm.Enable":"Public.Confirm.Disable"),name:n.site_name}),content:o,onConfirm:(a=l(i().mark((function a(){return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D({site_id:n.site_id,open:e});case 3:r(),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),ct(t("Site.List.SmartCc"),a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])}))),function(){return a.apply(this,arguments)})})},S=function(e,n){var a;x({title:t("Site.List.SetCdn.Title",{status:t(e?"Public.Confirm.Enable":"Public.Confirm.Disable"),name:n.site_name}),content:t("Site.List.SetCdn.Content",{status:t(e?"Site.List.SetCdn.Used":"Site.List.SetCdn.NotUsed")}),onConfirm:(a=l(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R({site_id:n.site_id,cdn:e,cdn_baidu:!0,type:"site"});case 2:r();case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})})},k=function(){var e=l(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,dt({site_ids:[n.site_id],type:"refuse",region:["海外"],add_type:"site_city",uri:""});case 3:r(),e.next=9;break;case 6:return e.next=8,ft({region_id:[n.overseas.region_id]});case 8:r();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){var n;x({title:t("Site.List.DelSite.Title",{name:e.site_name}),content:t("Site.List.DelSite.Content"),onConfirm:(n=l(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B({site_id:e.site_id});case 2:r();case 3:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})})},M=function(){v.data.data=s.value.data,v.data.key=s.value.key,v.show=!0};return function(e,t){var n=st,r=g,a=E,i=o;return je(),Xe(i,null,{content:Oe((function(){return[Ee(n,{"checked-row-keys":$e(s).key,"onUpdate:checkedRowKeys":t[0]||(t[0]=function(e){return $e(s).key=e}),"row-key":function(e){return e.site_id},loading:$e(u),data:$e(s).data,columns:$e(h)},null,8,["checked-row-keys","row-key","loading","data","columns"])]})),pageLeft:Oe((function(){return[Qe(Ee(r,{disabled:0===$e(s).key.length,onClick:M},{default:Oe((function(){return[Ie("批量证书续签")]})),_:1},8,["disabled"]),[[Je,!0]])]})),modal:Oe((function(){return[Ee(a,{show:$e(v).show,"onUpdate:show":t[1]||(t[1]=function(e){return $e(v).show=e}),data:$e(v).data,title:"批量操作",component:rn},null,8,["show","data"])]})),_:1})}}}),ln=ke({props:{keys:{type:String,default:""},pem:{type:String,default:""},data:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},setup:function(e){var t=Ae().t,n=Ze(e,"keys"),r=Ze(e,"pem");return{tablekeys:Ue([]),columns:Ue([{type:"selection",multiple:!1,width:32},{key:"Domain",title:t("Site.SslModal.List.Domain"),width:140,render:function(e){var t;return Ee(Ve,null,[null===(t=e.Domains)||void 0===t?void 0:t.map((function(e){return Ee("p",null,[e])}))])}},{key:"not_after",title:t("Site.SslModal.List.NotAfter"),width:90,render:function(e){return O(new Date(e.not_after),"yyyy-MM-dd")}},{key:"brand",title:t("Site.SslModal.List.Brand")}]),onUpdate:function(e,t){var a=t[0];n.value=a.privkey,r.value=a.fullchain}}},render:function(){var e=this;return Ee(xt,{"checked-row-keys":this.tablekeys,"onUpdate:checked-row-keys":[function(t){return e.tablekeys=t},this.onUpdate],"row-key":function(e){return e.ssl_name},"max-height":300,data:this.data,loading:this.loading,columns:this.columns},null)}}),un=ke({props:{keys:{type:String,default:""},pem:{type:String,default:""}},setup:function(e){return{keyRef:Ze(e,"keys"),pemRef:Ze(e,"pem")}},render:function(){var e=this,t=Ae().t;return Ee("div",{class:"flex"},[Ee("div",{class:"flex-1"},[Ee("div",{class:"mb-6px"},[t("Site.SslModal.Key")]),Ee(yt,{value:this.keyRef,"onUpdate:value":function(t){return e.keyRef=t},rows:5},null)]),Ee("div",{class:"flex-1 ml-12px"},[Ee("div",{class:"mb-6px"},[t("Site.SslModal.Pem")]),Ee(yt,{value:this.pemRef,"onUpdate:value":function(t){return e.pemRef=t},rows:5},null)])])}}),sn=function(e){var t=e.onUpdateValue,n=Ae().t,r=function(){var e=l(i().mark((function e(n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.file,(a=new FileReader).addEventListener("load",(function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result,a=I(r)?r:"";t(a)})),a.readAsText(r.file);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Ee(Ve,null,[Ee(gt,{action:"",max:1,"default-upload":!1,"directory-dnd":!0,onBeforeUpload:r,onRemove:function(){t("")}},{default:function(){return[Ee(St,null,{default:function(){return[Ee("div",{class:"mb-8px"},[Ee(L,{name:"upload",size:"26",color:"#666666"},null)]),Ee(Rt,null,{default:function(){return[n("Site.AddModal.Cert.UploadTips1"),Ee("br",null,null),n("Site.AddModal.Cert.UploadTips2")]}})]}})]}})])},cn=ke({props:{keys:{type:String,default:""},pem:{type:String,default:""}},setup:function(e){return{keyRef:Ze(e,"keys"),pemRef:Ze(e,"pem")}},render:function(){var e=this,t=Ae().t;return Ee("div",{class:"flex"},[Ee("div",{class:"flex-1"},[Ee("div",{class:"mb-6px"},[t("Site.SslModal.Key")]),Ee(sn,{onUpdateValue:function(t){e.keyRef=t}},null)]),Ee("div",{class:"flex-1 ml-12px"},[Ee("div",{class:"mb-6px"},[t("Site.SslModal.Pem")]),Ee(sn,{onUpdateValue:function(t){e.pemRef=t}},null)])])}});function dn(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Ye(e)}var fn=ke({props:{type:{type:Number,default:0},keys:{type:String,default:""},pem:{type:String,default:""}},emits:["update:keys","update:pem","update:type"],setup:function(e,t){var n=t.emit,r=Ae().t,a=Ze(e,"type"),o=Ze(e,"keys"),u=Ze(e,"pem"),s=Ue([]),c=function(e){a.value=e},d=function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(1),e.next=3,h();case 3:0===s.value.length&&c(2);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=z(),p=f.loading,v=f.setLoading,h=function(){var e=l(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,N();case 4:t=e.sent,n=t.res,s.value=F(n)?n:[];case 7:return e.prev=7,v(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})));return function(){return e.apply(this,arguments)}}();return{typeRef:a,keyRef:o,pemRef:u,loading:p,certList:s,cutSsl:d,cutNotSsl:function(){c(0)},onUpdateType:function(e){1===e&&h(),n("update:type",e)},getErrorInfo:function(){return 1===a.value?r("Site.AddModal.Cert.ErrMsg1"):2===a.value?r("Site.AddModal.Cert.ErrMsg2"):3===a.value?r("Site.AddModal.Cert.ErrMsg3"):""}}},render:function(){var e,t,n,r,a=this,i=Ae().t;return Ee("div",{class:"flex-1"},[Ee("div",{class:"flex items-center h-32px"},[Ee(_t,{value:this.typeRef,"onUpdate:value":function(e){return a.typeRef=e},onUpdateValue:this.onUpdateType},{default:function(){return[Ee(wt,{class:"mr-8px",value:0},dn(e=i("Site.AddModal.Cert.Radio0"))?e:{default:function(){return[e]}}),Ee(wt,{class:"mr-8px",value:1},dn(t=i("Site.AddModal.Cert.Radio1"))?t:{default:function(){return[t]}}),Ee(wt,{class:"mr-8px",value:2},dn(n=i("Site.AddModal.Cert.Radio2"))?n:{default:function(){return[n]}}),Ee(wt,{class:"mr-8px",value:3},dn(r=i("Site.AddModal.Cert.Radio3"))?r:{default:function(){return[r]}})]}})]),Ee(kt,{class:"w-420px mt-12px",show:0!==this.typeRef},{default:function(){return[Ee("div",{class:"mb-12px text-desc"},[i("Site.AddModal.Cert.Tips")]),Qe(Ee(ln,{keys:a.keyRef,"onUpdate:keys":function(e){return a.keyRef=e},pem:a.pemRef,"onUpdate:pem":function(e){return a.pemRef=e},data:a.certList,loading:a.loading},null),[[Je,1===a.typeRef]]),Qe(Ee(un,{keys:a.keyRef,"onUpdate:keys":function(e){return a.keyRef=e},pem:a.pemRef,"onUpdate:pem":function(e){return a.pemRef=e}},null),[[Je,2===a.typeRef]]),Qe(Ee(cn,{keys:a.keyRef,"onUpdate:keys":function(e){return a.keyRef=e},pem:a.pemRef,"onUpdate:pem":function(e){return a.pemRef=e}},null),[[Je,3===a.typeRef]])]}})])}}),pn={key:0,class:"text-desc"},vn={key:1,class:"text-desc"},hn=ke({__name:"content",props:{test:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup:function(e){return function(t,n){return e.loading?(je(),De("span",pn,Be(t.$t("Site.AddModal.TestSource.Testing")),1)):e.test?qe(t.$slots,"default",{key:2}):(je(),De("span",vn,Be(t.$t("Site.AddModal.TestSource.NotTest")),1))}}}),mn={class:"detect-result"},yn={class:"rows"},xn={class:"label"},_n={class:"value"},wn={class:"text-warning font-bold"},bn={key:1},gn={class:"text-warning font-bold"},Sn={class:"rows"},kn={class:"label"},Cn={class:"value"},Mn={class:"rows"},Tn={class:"label"},Pn={class:"value"},Ln={class:"text-warning font-bold"},An=ke({__name:"index",props:{test:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},result:{default:function(){return{}}}},setup:function(e){var t=e,n=Ce((function(){var e=t.result.source_ip_list||{},n=e.extranet_ip_list,r=e.intranet_ip_list;return(null==r?void 0:r[0])||(null==n?void 0:n[0])||""}));return function(e,t){var r=et("i18n-t"),a=W,i=K;return je(),Xe(i,{show:e.loading},{default:Oe((function(){return[Ee(a,{type:"success",class:"w-414px","show-icon":!1},{default:Oe((function(){return[Re("div",mn,[Re("div",yn,[Re("div",xn,Be(e.$t("Site.AddModal.TestSource.IP"))+" "+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",_n,[Ee(hn,{test:e.test,loading:e.loading},{default:Oe((function(){return[e.result.is_cdn?(je(),Xe(r,{key:0,tag:"span",keypath:"Site.AddModal.TestSource.IpResult1"},{action:Oe((function(){return[Re("span",wn,Be(e.$t("Site.AddModal.TestSource.Manual")),1)]})),_:1})):$e(n)?(je(),De("span",bn,Be($e(n)),1)):(je(),Xe(r,{key:2,tag:"span",keypath:"Site.AddModal.TestSource.IpResult2"},{action:Oe((function(){return[Re("span",gn,Be(e.$t("Site.AddModal.TestSource.Manual")),1)]})),_:1}))]})),_:1},8,["test","loading"])])]),Re("div",Sn,[Re("div",kn,Be(e.$t("Site.AddModal.TestSource.Https"))+" "+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",Cn,[Ee(hn,{test:e.test,loading:e.loading},{default:Oe((function(){return[Ie(Be(e.result.is_force_https?e.$t("Site.AddModal.TestSource.Force"):e.$t("Site.AddModal.TestSource.NotForce")),1)]})),_:1},8,["test","loading"])])]),ze("",!0),Re("div",Mn,[Re("div",Tn,Be(e.$t("Site.AddModal.TestSource.Recommend"))+" "+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",Pn,[Ee(hn,{test:e.test,loading:e.loading},{default:Oe((function(){return[Re("div",Ln,Be(e.$t("Site.AddModal.TestSource.RecommendReulst",{type:e.result.is_force_https?"HTTPS":"HTTP",method:e.result.is_https||e.result.is_force_https?e.$t("Site.AddModal.TestSource.RecommendMethod1"):e.$t("Site.AddModal.TestSource.RecommendMethod2")})),1)]})),_:1},8,["test","loading"])])])])]})),_:1})]})),_:1},8,["show"])}}}),Un=S(An,[["__scopeId","data-v-e3387a9b"]]),$n={key:0,class:"pt-2px"},jn={key:0,class:"flex"},Dn={class:"ml-8px"},Rn={key:2,class:"text-primary"},Bn={key:1},En=[function(e){return We("data-v-2ab7ebe6"),e=e(),Ke(),e}((function(){return Re("span",{class:"text-desc pl-80px"},"*支持使用域名作为回源地址",-1)}))],On=S(ke({__name:"feedback",props:{status:{default:"none"},text:{default:""}},setup:function(e){var t=e,n=Ae().t,r=Ce((function(){var e=t.text;return""===e?[n("Site.AddModal.SourceTestLoading")]:e.split("；")}));return function(e,t){var n=K;return"none"!==e.status?(je(),De("div",$n,["loading"===e.status?(je(),De("div",jn,[Ee(n,{class:"source-loading",stroke:"#999"}),Re("span",Dn,Be(e.$t("Site.AddModal.SourceTestLoading")),1)])):"error"===e.status?(je(!0),De(Ve,{key:1},tt($e(r),(function(e){return je(),De("p",{key:e,class:"text-error"},Be(e),1)})),128)):"success"===e.status?(je(),De("span",Rn,Be(e.text),1)):ze("",!0)])):(je(),De("div",Bn,En))}}}),[["__scopeId","data-v-2ab7ebe6"]]),In=ke({props:{value:{type:Array,default:function(){return[]}}},emits:["update:value","changeSsl"],setup:function(e,t){var n=t.emit,r=Ze(e,"value"),a=function(){r.value.push({port:null,ssl:!1})},i=function(){n("changeSsl")};return 0===r.value.length&&a(),{portList:r,addPort:a,delPort:function(e){r.value.splice(e,1)},onUpdatePort:function(e,t){443===e&&(t.ssl=!0,i())},onUpdateChecked:i}},render:function(){var e=this,t=this.portList;return Ee(Ve,null,[t.map((function(n,r){return Ee(q,{path:"port[".concat(r,"].port"),rule:{trigger:["input","blur"],validator:function(){if(null===n.port)return new Error("请输入端口");if(n.port<1||n.port>65535)return new Error("端口范围为1-65535");var e=t.map((function(e){return e.port}));return!(e.filter((function(e){return e===n.port})).length>1)||new Error("端口不能重复")}}},{default:function(){return[Ee("div",{class:"w-240px"},[Ee(Ct,{value:n.port,showButton:!1,placeholder:"请输入端口",onUpdateValue:function(t){n.port=t,e.onUpdatePort(t,n)}},null)]),Ee("div",{class:"ml-24px"},[Ee(lt,{checked:n.ssl,disabled:80===n.port,onUpdateChecked:function(t){n.ssl=t,e.onUpdateChecked()}},{default:function(){return[Ie("SSL")]}})]),Ee("div",{class:"ml-16px"},[Ee(T,{disabled:1===t.length,onClick:function(){e.delPort(r)}},{default:function(){return[Ie("删除")]}})])]}})})),Ee("div",null,[Ee(g,{color:"#F5FAF2",class:"w-360px",onClick:function(){e.addPort()}},{default:function(){return[Ee(L,{name:"add",size:"22",color:"#20A53A"},null),Ee("span",{class:"ml-2px text-primary"},[Ie("添加端口")])]}})])])}}),zn=ke({props:{ssl:{type:Number,default:0},value:{type:Array,default:function(){return[]}}},emits:["update:type","update:value","changeSsl"],setup:function(e,t){var n=t.emit,r=Ue(1),a=Ze(e,"value");return{type:r,valueRef:a,changeSsl:function(){n("changeSsl")},onUpdateType:function(e){r.value=e,a.value=[],n("update:type",e)}}},render:function(){var e=this;return Ee("div",{class:"flex-1"},[Ee("div",{class:"flex items-center h-32px"},[Ee(_t,{value:this.type,onUpdateValue:this.onUpdateType},{default:function(){return[Ee(wt,{class:"mr-8px",value:1},{default:function(){return[Ie("常用("),e.ssl?"80, 443":80,Ie(")")]}}),Ee(wt,{class:"mr-8px",value:2},{default:function(){return[Ie("自定义")]}})]}})]),Ee(kt,{class:"mt-12px",show:2===this.type},{default:function(){return[Ee(In,{value:e.valueRef,"onUpdate:value":function(t){return e.valueRef=t},onChangeSsl:e.changeSsl},null)]}})])}}),Nn={class:"w-600px"},Fn={class:"min-h-480px p-24px pb-8px"},Wn={class:"flex items-center"},Kn={class:"w-330px mr-8px"},qn={class:"flex items-center"},Hn={class:"mr-6px"},Vn={class:"leading-20px"},Gn={class:"w-240px"},Xn={class:"flex items-center"},Qn={class:"w-68px mr-8px"},Yn={class:"flex-1"},Jn={class:"text-desc ml-12px"},Zn={class:"w-240px"},er={class:"ml-12px text-desc"},tr={class:"w-240px"},nr={class:"footer-btn"},rr={class:"p-8px"},ar={class:"flex flex-center mb-12px"},ir={class:"ml-8px text-15px"},or={class:"text-13px"},lr=ke({__name:"index",emits:["close"],setup:function(e,t){var n=t.emit,r=Ae().t,o=H(),u=Ue([{label:"http",value:"http"},{label:"https",value:"https"}]),s=U().getList,c=Ue([]),d=Ue(!1),f=Ge({site_id:"",domain:"",is_cdn:0,load_group_id:null,site_name:"",status:1,server:{listen_ipv6:1,listen_port:["80"],listen_ssl_port:["443"],ssl:{is_ssl:0,private_key:"",full_chain:"",force_https:0},upstream:{polling_algorithm:"ip_hash",host:"$host_optimize",source_protocol:"http",server:[{address:""}]}}}),p={domain:{required:!0,message:r("Site.AddModal.DomainMsg"),trigger:["blur","input"]},ip_list:{required:!0,trigger:["input"],validator:function(){return""===f.server.upstream.server[0].address||void 0===f.server.upstream.server[0].address?(T.status="error",T.text=r("Site.AddModal.SourceMsg"),new Error(r("Site.AddModal.SourceMsg"))):(T.status="success",T.text="",!0)}},ssl:{required:!0,validator:function(){if(f.server.ssl.is_ssl&&(""===f.server.ssl.full_chain||""===f.server.ssl.private_key)){var e=y.value.getErrorInfo();return new Error(e)}return!0}}},v=nt(null),h=nt(null),m=nt(null),y=nt(),_=nt(null),w=Ge({loading:!1,isTest:!1,result:{}}),b=function(){var e=l(i().mark((function e(){var t,n,r,a,o,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",e.prev=1,e.next=4,null===(n=h.value)||void 0===n?void 0:n.validate();case 4:return w.isTest=!0,w.loading=!0,P(),e.next=9,V({domains:f.domain.trim().split("\n")});case 9:r=e.sent,a=r.res,F(a)&&a.length>0&&(o=a[0],w.result=o,f.is_cdn=o.is_cdn?1:0,d.value=o.is_force_https,f.is_cdn||""!==t||(f.server.upstream.server[0].address=o.source_ip_list.intranet_ip_list.length>0?o.source_ip_list.intranet_ip_list[0]:o.source_ip_list.extranet_ip_list[0]));case 12:return e.prev=12,w.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,,12,15]])})));return function(){return e.apply(this,arguments)}}(),S=Ue(!1),k=function(e){w.isTest=!1,d.value=!1,e?(f.site_name="*"===e?"通配所有域名":e.trim().split("\n").filter((function(e){return""!==e}))[0]||"",S.value="*"===e):f.site_name=""},C=function(e){var t;null===(t=m.value)||void 0===t||t.restoreValidation(),0===e?(f.server.ssl.private_key="",f.server.ssl.full_chain="",f.server.listen_port=["80"],f.server.listen_ssl_port=[]):(f.server.listen_port=["80"],f.server.listen_ssl_port=["443"]),f.server.ssl.is_ssl=0===e?0:1},M=function(){return"".concat(d.value?"https":"http","://").concat(f.server.upstream.server[0].address)},T=Ge({status:"none",text:""}),P=function(){T.status="none",T.text=""},A=function(){var e=l(i().mark((function e(){var t,n,a,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==T.status){e.next=2;break}return e.abrupt("return");case 2:if(w.isTest){e.next=5;break}return e.next=5,b(f.server.upstream.server[0].address);case 5:if(""!==f.domain){e.next=7;break}return e.abrupt("return");case 7:if(!w.result.is_cdn){e.next=9;break}return e.abrupt("return");case 9:if(0!==(null===(t=w.result.source_ip_list)||void 0===t?void 0:t.extranet_ip_list.length)||0!==(null===(n=w.result.source_ip_list)||void 0===n?void 0:n.intranet_ip_list.length)){e.next=11;break}return e.abrupt("return");case 11:if(""!==f.server.upstream.server[0].address&&void 0!==f.server.upstream.server[0].address){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,T.status="loading",T.text="",a=M(),o=w.result,e.next=20,G({url:a,is_ssl:1===f.server.ssl.is_ssl,is_force_https:o.is_force_https,is_ssl_check:d.value,http_protocol:d.value?"https":"http",extranet_ip_list:o.is_cdn?[]:o.source_ip_list.extranet_ip_list,intranet_ip_list:o.is_cdn?[]:o.source_ip_list.intranet_ip_list});case 20:T.status="success",T.text=r("Site.AddModal.SourceTestSucess"),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(13),l=e.t0.res,T.status="error",T.text=l.error;case 29:case"end":return e.stop()}}),e,null,[[13,24]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){d.value="https"===e,A()},j=function(){n("close")},D=Ue(0),R=function(e){1===e?0===D.value?(f.server.listen_port=["80"],f.server.listen_ssl_port=[]):(f.server.listen_port=["80"],f.server.listen_ssl_port=["443"]):(f.server.listen_port=[],f.server.listen_ssl_port=[])},B=function(){var e,t;c.value.filter((function(e){return e.ssl})).length>0?(f.server.ssl.is_ssl=1,null===(e=y.value)||void 0===e||e.cutSsl()):(f.server.ssl.is_ssl=0,null===(t=y.value)||void 0===t||t.cutNotSsl())},O=function(){var e=rt(f),t=function(){var e=[],t=[];return c.value.forEach((function(n){null!==n.port&&(n.ssl?t.push(n.port.toString()):e.push(n.port.toString()))})),{ports:e,sslPorts:t}}(),n=t.ports,r=t.sslPorts;return c.value.length>0&&(e.server.listen_port=n,e.server.listen_ssl_port=r),0===D.value&&(e.server.listen_ssl_port=[]),a(a({},f),{},{load_group_id:e.load_group_id||0,domain_list:e.domain.trim().split("\n").filter((function(e){return e.trim()})),ip_list:[M()]})},I=function(){var e=l(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=v.value)||void 0===t?void 0:t.validate();case 2:if(w.isTest&&"success"!==T.status&&"none"!==T.status){e.next=8;break}return e.next=5,N();case 5:j(),e.next=9;break;case 8:x({title:r("Public.Confirm.Title"),content:"loading"===T.status?r("Site.AddModal.TestConfirm.Content"):T.text,cancelTitle:r("Site.AddModal.TestConfirm.CancelBtn"),confirmTitle:r("Site.AddModal.TestConfirm.ConfirmBtn"),onConfirm:function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:j();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=Ue(!1),N=function(){var e=l(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O(),e.next=3,X(t);case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,t){var n=yt,r=g,a=q,i=vt,l=bt,s=Q,d=Y,x=J,M=L,P=E;return je(),De("div",Nn,[Ee(x,{class:"max-h-535px"},{default:Oe((function(){return[Re("div",Fn,[Ee(d,{ref_key:"formRef",ref:v,model:$e(f),rules:p,"label-width":"102","label-placement":"left","require-mark-placement":"left"},{default:Oe((function(){return[Ee(a,{ref_key:"domainItemRef",ref:h,label:e.$t("Site.AddModal.Domain"),path:"domain"},{default:Oe((function(){return[Re("div",Wn,[Re("div",Kn,[Ee(n,{value:$e(f).domain,"onUpdate:value":[t[0]||(t[0]=function(e){return $e(f).domain=e}),k]},{default:Oe((function(){return[Re("p",null,Be(e.$t("Site.AddModal.DomainPlace1")),1),Re("p",null,Be(e.$t("Site.AddModal.DomainPlace2")),1),Re("p",null,Be(e.$t("Site.AddModal.DomainPlace4")),1)]})),_:1},8,["value"])]),Ee(r,{disabled:$e(w).loading,onClick:t[1]||(t[1]=function(e){return b()})},{default:Oe((function(){return[Re("span",null,Be(e.$t("Site.AddModal.TestBtn")),1)]})),_:1},8,["disabled"])])]})),_:1},8,["label"]),Ee(a,{label:e.$t("Site.AddModal.TestResult")},{default:Oe((function(){return[Ee(Un,{test:$e(w).isTest,loading:$e(w).loading,result:$e(w).result},null,8,["test","loading","result"])]})),_:1},8,["label"]),Ee(a,{label:"端口"},{default:Oe((function(){return[Ee($e(zn),{value:$e(c),"onUpdate:value":t[2]||(t[2]=function(e){return Fe(c)?c.value=e:null}),ssl:$e(f).server.ssl.is_ssl,"onUpdate:type":R,onChangeSsl:B},null,8,["value","ssl"])]})),_:1}),Ee(a,{ref_key:"sslFormRef",ref:m,path:"ssl",label:e.$t("Site.AddModal.SslCert")},{default:Oe((function(){return[Ee($e(fn),{ref_key:"sslRef",ref:y,type:$e(D),"onUpdate:type":[t[3]||(t[3]=function(e){return Fe(D)?D.value=e:null}),C],keys:$e(f).server.ssl.private_key,"onUpdate:keys":t[4]||(t[4]=function(e){return $e(f).server.ssl.private_key=e}),pem:$e(f).server.ssl.full_chain,"onUpdate:pem":t[5]||(t[5]=function(e){return $e(f).server.ssl.full_chain=e})},null,8,["type","keys","pem"])]})),_:1},8,["label"]),Ee(a,{ref_key:"sourceFormRef",ref:_,path:"ip_list"},{label:Oe((function(){return[Re("div",qn,[Re("div",Hn,Be(e.$t("Site.AddModal.Source")),1),Ee(i,null,{default:Oe((function(){return[Re("div",Vn,[Re("p",null,Be(e.$t("Site.AddModal.SourceTips1")),1),Re("p",null,Be(e.$t("Site.AddModal.SourceTips2")),1)])]})),_:1})])]})),feedback:Oe((function(){return[Ee(On,{status:$e(T).status,text:$e(T).text},null,8,["status","text"])]})),default:Oe((function(){return[Re("div",Gn,[Re("div",Xn,[Re("div",Qn,[Ee(l,{value:$e(f).server.upstream.source_protocol,"onUpdate:value":[t[6]||(t[6]=function(e){return $e(f).server.upstream.source_protocol=e}),$],options:$e(u),"consistent-menu-width":!1},null,8,["value","options"])]),Re("div",Yn,[Ee(s,{value:$e(f).server.upstream.server[0].address,"onUpdate:value":t[7]||(t[7]=function(e){return $e(f).server.upstream.server[0].address=e}),spellcheck:"false",placeholder:e.$t("Site.AddModal.SourcePlace"),onBlur:A},null,8,["value","placeholder"])])])]),Re("div",Jn,Be(e.$t("Site.AddModal.SourceTips3")),1)]})),_:1},512),Ee(a,{class:"mt-4px",label:"CDN"},{default:Oe((function(){return[Re("div",Zn,[Ee(l,{value:$e(f).is_cdn,"onUpdate:value":t[8]||(t[8]=function(e){return $e(f).is_cdn=e}),options:[{label:e.$t("Site.AddModal.Unused"),value:0},{label:e.$t("Site.AddModal.Used"),value:1}]},null,8,["value","options"])]),Re("div",er,Be(e.$t("Site.AddModal.CdnTips",{status:$e(w).result.is_cdn?e.$t("Site.AddModal.Used"):e.$t("Site.AddModal.Unused")})),1)]})),_:1}),Ee(a,{label:e.$t("Site.AddModal.SiteName")},{default:Oe((function(){return[Re("div",tr,[Ee(s,{value:$e(f).site_name,"onUpdate:value":t[9]||(t[9]=function(e){return $e(f).site_name=e}),spellcheck:"false",disabled:$e(S),placeholder:e.$t("Site.AddModal.SiteNamePlace")},null,8,["value","disabled","placeholder"])])]})),_:1},8,["label"])]})),_:1},8,["model"])])]})),_:1}),Re("div",nr,[Ee(r,{size:"small",class:"cancel-btn",color:"#cbcbcb",onClick:j},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Cancel")),1)]})),_:1}),Ee(r,{type:"primary",size:"small",onClick:I},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Confirm")),1)]})),_:1})]),Ee(P,{show:$e(z),"onUpdate:show":t[10]||(t[10]=function(e){return Fe(z)?z.value=e:null}),onPublicClose:j},{default:Oe((function(){return[Re("div",rr,[Re("div",ar,[Ee(M,{name:"success",size:"24",color:$e(o).successColor},null,8,["color"]),Re("span",ir,Be(e.$t("Site.AddModal.AddSuccessTitle")),1)]),Re("div",or,Be(e.$t("Site.AddModal.AddSuccessContent")),1)])]})),_:1},8,["show"])])}}}),ur=S(lr,[["__scopeId","data-v-48aa9974"]]),sr=Symbol("server-list");var cr=function(e){return We("data-v-d46a285a"),e=e(),Ke(),e},dr={class:"info"},fr={class:"rows"},pr={class:"cols"},vr={class:"label"},hr={class:"value w-0"},mr={class:"cols"},yr={class:"label"},xr={class:"value w-0"},_r={class:"rows"},wr={class:"cols"},br={class:"label"},gr={class:"value flex items-center"},Sr={class:"cols"},kr={class:"label"},Cr={class:"value"},Mr={key:0,class:"text-primary"},Tr={key:1,class:"text-error"},Pr={class:"flex"},Lr={class:"flex-1"},Ar={class:"mb-5px"},Ur={class:"flex-1 ml-16px"},$r={class:"mb-5px"},jr={class:"mt-12px"},Dr=cr((function(){return Re("div",{class:"mb-5px"},"SSL端口",-1)})),Rr={class:"flex items-center"},Br={class:"w-240px"},Er=cr((function(){return Re("div",{class:"ml-12px text-desc"}," 使用HTTPS/WSS协议访问时所使用的端口，多个端口用英文下的逗号,分隔 ",-1)})),Or={class:"mt-10px"},Ir=ke({__name:"index",setup:function(e){var t=Pe("component-data").row,n=Ae().t,r=U(),o=r.getList,u=r.setSsl,s=Pe(sr),c=s.info,d=s.listenPort,f=Ce((function(){return c.value.not_after?Z(new Date(c.value.not_after),"yyyy-MM-dd"):"--"})),p=Ce((function(){if(c.value.not_after){var e=new Date(c.value.not_after);return ee(e,new Date)}return 0})),v=Ue(!1),h=function(){var e=l(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,te({site_id:t.site_id,force_https:!0});case 3:o(),e.next=7;break;case 6:x({title:n("Site.SslModal.Current.SetForce.Title"),content:n("Site.SslModal.Current.SetForce.Content"),onConfirm:function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({site_id:t.site_id,force_https:!1});case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onPublicCancel:function(){v.value=!r}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Ge({port:"443",private_key:"",full_chain:""});at((function(){F(d.value)&&(d.value.some((function(e){return/^\d+$/.test(e)}))?m.port=d.value.join(",")||"":m.port="443"),m.private_key=c.value.private_key||"",m.full_chain=c.value.full_chain||"",v.value=1===c.value.force_https}));var y=function(){m.port?m.port.split(",").includes("80")?ne("SSL端口不能包含80端口"):m.full_chain&&m.private_key?w():ne(n("Site.SslModal.Current.SaveSsl.ErrorMsg")):ne("请输入SSL端口")},_=function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.private_key&&m.full_chain){e.next=3;break}return ne(n("Site.SslModal.Current.SaveSsl.ErrorMsg")),e.abrupt("return");case 3:m.private_key!==c.value.private_key||m.full_chain!==c.value.full_chain?x({title:n("Site.SslModal.Current.SaveSsl.Title"),content:n("Site.SslModal.Current.SaveSsl.Content"),onConfirm:function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}):w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=l(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.port.split(","),e.next=3,re(a(a({site_id:t.site_id},rt(m)),{},{port:n}));case 3:return e.next=5,o();case 5:u();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){ae({site_id:t.site_id})},S=function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({site_id:t.site_id});case 2:return e.next=4,o();case 4:u();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,t){var n=oe,r=mt,a=W,i=yt,o=Q,l=g,u=T,s=Pt;return je(),De("div",null,[1===$e(c).is_ssl?(je(),Xe(a,{key:0,class:"mb-12px",type:"success","show-icon":!1},{default:Oe((function(){return[Re("div",dr,[Re("div",fr,[Re("div",pr,[Re("div",vr,Be(e.$t("Site.SslModal.Domain"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",hr,[Ee(n,null,{default:Oe((function(){var t;return[Ie(Be((null===(t=$e(c).Domains)||void 0===t?void 0:t.join(e.$t("Public.Punctuation.Comma")))||"--"),1)]})),_:1})])]),Re("div",mr,[Re("div",yr,Be(e.$t("Site.SslModal.Brand"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",xr,[Ee(n,null,{default:Oe((function(){return[Ie(Be($e(c).brand||"--"),1)]})),_:1})])])]),Re("div",_r,[Re("div",wr,[Re("div",br,Be(e.$t("Site.SslModal.ForceHTTPS"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",gr,[Ee(r,{value:$e(c).force_https,"onUpdate:value":[t[0]||(t[0]=function(e){return $e(c).force_https=e}),h],size:"small"},null,8,["value"])])]),Re("div",Sr,[Re("div",kr,Be(e.$t("Site.SslModal.NotAfter"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",Cr,[$e(p)>0?(je(),De("span",Mr,Be(e.$t("Site.SslModal.Current.Unexpired",{expireTime:$e(f),expireDay:$e(p)})),1)):(je(),De("span",Tr,Be(e.$t("Site.SslModal.Current.Expired")),1))])])])])]})),_:1})):ze("",!0),Re("div",Pr,[Re("div",Lr,[Re("div",Ar,Be(e.$t("Site.SslModal.Key")),1),Ee(i,{value:$e(m).private_key,"onUpdate:value":t[1]||(t[1]=function(e){return $e(m).private_key=e}),rows:10},null,8,["value"])]),Re("div",Ur,[Re("div",$r,Be(e.$t("Site.SslModal.Pem")),1),Ee(i,{value:$e(m).full_chain,"onUpdate:value":t[2]||(t[2]=function(e){return $e(m).full_chain=e}),rows:10},null,8,["value"])])]),Re("div",jr,[Dr,Re("div",Rr,[Re("div",Br,[Ee(o,{value:$e(m).port,"onUpdate:value":t[3]||(t[3]=function(e){return $e(m).port=e}),placeholder:"请输入SSL端口"},null,8,["value"])]),Er])]),Re("div",Or,[1===$e(c).is_ssl?(je(),Xe(l,{key:0,type:"primary",onClick:_},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Save")),1)]})),_:1})):(je(),Xe(l,{key:1,type:"primary",onClick:y},{default:Oe((function(){return[Ie(Be(e.$t("Site.SslModal.Current.SaveBtn")),1)]})),_:1})),$e(c).private_key||$e(c).full_chain?(je(),Xe(l,{key:2,class:"ml-10px",onClick:b},{default:Oe((function(){return[Ie(Be(e.$t("Site.SslModal.Current.Download")),1)]})),_:1})):ze("",!0),1===$e(c).is_ssl?(je(),Xe(l,{key:3,class:"ml-10px",onClick:S},{default:Oe((function(){return[Ie(Be(e.$t("Site.SslModal.Current.CloseBtn")),1)]})),_:1})):ze("",!0)]),Ee(s,{class:"mt-16px"},{default:Oe((function(){return[Re("li",null,[Re("span",null,Be(e.$t("Site.SslModal.Current.Tips1")),1),Ee(u,{href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},{default:Oe((function(){return[Ie(" ["+Be(e.$t("Public.Help"))+"] ",1)]})),_:1})]),Re("li",null,Be(e.$t("Site.SslModal.Current.Tips2")),1),Re("li",null,Be(e.$t("Site.SslModal.Current.Tips3")),1),Re("li",null,Be(e.$t("Site.SslModal.Current.Tips4")),1),Re("li",null,Be(e.$t("Site.SslModal.Current.Tips5")),1)]})),_:1})])}}}),zr=S(Ir,[["__scopeId","data-v-d46a285a"]]),Nr={class:"w-490px"},Fr={class:"px-32px py-16px leading-22px rounded-4px bg-[#f5faf2] text-[#666]"},Wr={class:"rows"},Kr={class:"label"},qr={class:"value"},Hr={class:"rows"},Vr={class:"label"},Gr={class:"value"},Xr={class:"rows"},Qr={class:"label"},Yr={class:"value"},Jr={class:"mt-16px"},Zr={class:"pl-5px mb-5px text-[#666]"},ea={class:"site-box"},ta={class:"flex justify-between"},na=ke({__name:"deploy",setup:function(e,t){var n=t.expose,r=Pe("component-data"),a=r.siteId,o=r.row,u=Pe(sr).getInfo,s=Ae().t,c=U(),d=c.getList,f=c.setSsl,p=Ce((function(){return o.not_after?Z(new Date(o.not_after),"yyyy-MM-dd"):"--"})),v=Ue(""),h=Ue([a]),m=Ue([]),y=Ue([]),x=function(){var e=l(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:t=e.sent,n=t.res,r=n.list,m.value=[],F(r)?r.forEach((function(e){e.site_id===a?m.value.unshift({label:"".concat(e.site_name," [").concat(s("Public.SiteCheckbox.CurSite"),"]"),key:e.site_id}):m.value.push({label:e.site_name||"--",key:e.site_id})})):m.value=[],y.value=m.value;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){h.value=m.value.map((function(e){return I(e.key)?e.key:""}))},w=function(){h.value=[]},b=function(e){""!==e?(m.value=[],y.value.forEach((function(t){(h.value.includes(t.key)||I(t.label)&&t.label.includes(e))&&m.value.push(t)}))):m.value=y.value},S=function(){var e=l(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue({site_ids:h.value,ssl_name:o.ssl_name,private_key:o.privkey,full_chain:o.fullchain});case 2:return e.next=4,null==u?void 0:u();case 4:return e.next=6,d();case 6:f(),t();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n({onConfirm:S}),x(),function(e,t){var n,r=g,a=Se,i=se,l=Mt,u=J;return je(),De("div",Nr,[Re("div",Fr,[Re("div",Wr,[Re("div",Kr,Be(e.$t("Site.SslModal.Domain"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",qr,Be((null===(n=$e(o).Domains)||void 0===n?void 0:n.join(e.$t("Public.Punctuation.Comma")))||"--"),1)]),Re("div",Hr,[Re("div",Vr,Be(e.$t("Site.SslModal.Brand"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",Gr,Be($e(o).brand||"--"),1)]),Re("div",Xr,[Re("div",Qr,Be(e.$t("Site.SslModal.NotAfter"))+Be(e.$t("Public.Punctuation.Colon")),1),Re("div",Yr,Be($e(p)),1)])]),Re("div",Jr,[Re("div",Zr,Be(e.$t("Site.SslModal.List.SelectSiteDesc")),1),Re("div",ea,[Re("div",ta,[Re("div",null,[Ee(r,{onClick:_},{default:Oe((function(){return[Ie(Be(e.$t("Public.SiteCheckbox.All")),1)]})),_:1}),Ee(r,{class:"ml-8px",onClick:w},{default:Oe((function(){return[Ie(Be(e.$t("Public.SiteCheckbox.NotAll")),1)]})),_:1})]),Re("div",null,[Ee(a,{value:$e(v),"onUpdate:value":[t[0]||(t[0]=function(e){return Fe(v)?v.value=e:null}),b],prefix:!0,width:200,placeholder:e.$t("Public.SiteCheckbox.Search")},null,8,["value","placeholder"])])]),Ee(i,{class:"!my-12px"}),Ee(u,{class:"max-h-280px"},{default:Oe((function(){return[Ee(l,{"checked-keys":$e(h),"onUpdate:checkedKeys":t[1]||(t[1]=function(e){return Fe(h)?h.value=e:null}),checkable:"","block-line":"","check-on-click":"",data:$e(m)},null,8,["checked-keys","data"])]})),_:1})])])])}}}),ra=S(na,[["__scopeId","data-v-d3fdf797"]]);function aa(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Ye(e)}var ia=ke({__name:"index",setup:function(e){var t=Pe("component-data").row,n=Ae().t,r=Ge({data:[]}),a=z(),u=a.loading,s=a.setLoading,c=function(){var e=l(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,N();case 4:t=e.sent,n=t.res,F(n)?r.data=n:r.data=[];case 7:return e.prev=7,s(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})));return function(){return e.apply(this,arguments)}}(),d=Ue([{key:"Domain",title:n("Site.SslModal.List.Domain"),width:130,render:function(e){var t;return Ee(Ve,null,[null===(t=e.Domains)||void 0===t?void 0:t.map((function(e){return Ee("div",null,[e])}))])}},{key:"not_after",title:n("Site.SslModal.List.NotAfter"),width:90,render:function(e){return Z(new Date(e.not_after),"yyyy-MM-dd")}},{key:"brand",title:n("Site.SslModal.List.Brand")},{key:"action",title:n("Public.Table.Action"),width:80,render:function(e){var t,r;return Ee(Ve,null,[Ee(T,{class:"mr-10px",onClick:function(){p(e)}},aa(t=n("Site.SslModal.List.Deploy"))?t:{default:function(){return[t]}}),Ee(T,{onClick:function(){v(e)}},aa(r=n("Public.Btn.Del"))?r:{default:function(){return[r]}})])}}]),f=Ge({show:!1,title:n("Site.SslModal.List.DeployTitle"),data:{siteId:t.site_id,row:{}}}),p=function(e){f.data.row=e,f.show=!0},v=function(e){var t;x({title:n("Site.SslModal.List.DelTitle",{name:e.ssl_name}),content:n("Site.SslModal.List.DelContent"),onConfirm:(t=l(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce({ssl_name:e.ssl_name});case 2:c();case 3:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})};return c(),function(e,t){var n=xt,a=E,i=o;return je(),Xe(i,null,{content:Oe((function(){return[Ee(n,{loading:$e(u),data:$e(r).data,columns:$e(d)},null,8,["loading","data","columns"])]})),modal:Oe((function(){return[Ee(a,{show:$e(f).show,"onUpdate:show":t[0]||(t[0]=function(e){return $e(f).show=e}),title:$e(f).title,data:$e(f).data,"is-footer":!0,component:ra,"confirm-text":e.$t("Site.SslModal.List.Deploy")},null,8,["show","title","data","confirm-text"])]})),_:1})}}}),oa={class:"w-500px pr-20px"},la=ke({__name:"index",setup:function(e){var t=Pe("component-data").key,n=Ge({key:"",secret:""}),r=new Map([["CloudXns",{title:"AccessKey",secret:"SecretKey",trip:"cloudxns后台》用户中心》API管理，按指引获取AccessKey/SecretKey"}],["aliyun",{title:"AccessKey",secret:"SecretKey",trip:"阿里云控制台》用户头像》accesskeys按指引获取AccessKey/SecretKey"}],["DnsPod",{title:"ID",secret:"Token",trip:"DnsPod后台》用户中心》安全设置，开启API Token"}],["CloudFlare",{title:"E-Mail",secret:"API Key",trip:"CloudFlare后台获取Global API Key"}]]);return function(e,a){var i=Q,o=q,l=Y,u=Pt;return je(),De("div",oa,[Ee(l,{model:$e(n),"label-placement":"left","label-width":"100"},{default:Oe((function(){var e,l;return[Ee(o,{label:null===(e=$e(r).get($e(t)))||void 0===e?void 0:e.title},{default:Oe((function(){return[Ee(i,{value:$e(n).key,"onUpdate:value":a[0]||(a[0]=function(e){return $e(n).key=e}),placeholder:" "},null,8,["value"])]})),_:1},8,["label"]),Ee(o,{label:null===(l=$e(r).get($e(t)))||void 0===l?void 0:l.secret},{default:Oe((function(){return[Ee(i,{value:$e(n).secret,"onUpdate:value":a[1]||(a[1]=function(e){return $e(n).secret=e}),placeholder:" "},null,8,["value"])]})),_:1},8,["label"])]})),_:1},8,["model"]),Ee(u,{class:"mt-16px"},{default:Oe((function(){var e;return[Re("li",null,Be(null===(e=$e(r).get($e(t)))||void 0===e?void 0:e.trip),1)]})),_:1})])}}}),ua={class:"w-700px"},sa=Re("p",{class:"mb-10px"},"请按以下列表做TXT解析:",-1),ca=Re("li",null,"解析域名需要一定时间来生效,完成所以上所有解析操作后,请等待1分钟后再点击验证按钮",-1),da={key:0},fa=ke({__name:"index",setup:function(e){var n=Pe(sr).getInfo,r=U(),a=Le(r).menu,u=r.getList,s=r.setSsl,c=Pe("component-data"),d=c.domain,f=c.types,p=c.siteId,v=c.cancelModal,h=Ge({data:[]}),m=Ue(""),y=z(),x=y.loading,_=y.setLoading,w=function(){var e=l(i().mark((function e(){var r,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,de({types:f,domain:d,site_id:p});case 4:if(r=e.sent,"证书申请并部署到网站成功"!==(o=r.res)){e.next=17;break}return fe(o),e.next=10,null==n?void 0:n();case 10:return e.next=12,u();case 12:s(),a.value="current",v(),e.next=20;break;case 17:l=o.split("\n"),h.data=l.map((function(e){var n=t(e.split(/\s+/),2);return{key:n[0],value:n[1]}})),m.value=h.data.length>0?h.data[0].key:"";case 20:e.next=32;break;case 22:if(e.prev=22,e.t0=e.catch(0),!e.t0.res.includes("安装证书失败")){e.next=32;break}return e.next=27,null==n?void 0:n();case 27:return e.next=29,u();case 29:s(),a.value="list",v();case 32:return e.prev=32,_(!1),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[0,22,32,35]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=l(i().mark((function e(){var r,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,pe("正在验证TXT解析记录..."),e.next=4,de({types:f,domain:d,site_id:p});case 4:r=e.sent,"证书申请并部署到网站成功"===(o=r.res)?(fe(o),a.value="current",v()):(l=o.split("\n"),h.data=l.map((function(e){var n=t(e.split(/\s+/),2);return{key:n[0],value:n[1]}})),m.value=h.data.length>0?h.data[0].key:"",ve("验证未通过，请稍候重新验证")),e.next=19;break;case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.res.includes("安装证书失败")){e.next=19;break}return e.next=14,null==n?void 0:n();case 14:return e.next=16,u();case 16:s(),a.value="list",v();case 19:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=Ue([{key:"key",title:"解析域名"},{key:"value",title:"记录值"},{key:"type",title:"类型",width:"8%",render:function(){return"TXT"}},{key:"must",title:"必须",width:"8%",render:function(){return"必须"}}]);return w(),function(e,t){var n=xt,r=g,a=o,i=Pt;return je(),De("div",ua,[Ee(a,null,{toolsLeft:Oe((function(){return[sa]})),content:Oe((function(){return[Ee(n,{loading:$e(x),columns:$e(S),data:$e(h).data,"max-height":150},null,8,["loading","columns","data"])]})),pageRight:Oe((function(){return[Ee(r,{type:"primary",onClick:b},{default:Oe((function(){return[Ie("验证")]})),_:1})]})),_:1}),Ee(i,{class:"mt-16px"},{default:Oe((function(){return[ca,""!==$e(m)?(je(),De("li",da,Be("可通过CMD命令来手动验证域名解析是否生效，例如: nslookup -q=txt "+$e(m)),1)):ze("",!0)]})),_:1})])}}}),pa=Re("li",{class:"text-error"},"注意：请勿将SSL证书用于非法网站",-1),va=Re("li",null,"申请之前，请确保域名已解析，如未解析会导致审核失败",-1),ha=Re("li",null,"Let's Encrypt免费证书，有效期3个月，支持多域名。",-1),ma=Re("li",null,"若您的站点使用了CDN或301重定向会导致续签失败",-1),ya=Re("li",null,"在未指定SSL默认站点时,未开启SSL的站点使用HTTPS会直接访问到已开启SSL的站点",-1),xa=[Re("li",null,"在DNS验证中，我们提供了多种自动化DNS-API，并提供了手动模式",-1),Re("li",null,"使用DNS接口申请证书可自动续期，手动模式下证书到期后需重新申请",-1),Re("li",null,"使用【DnsPod/阿里云DNS】等接口前您需要先在弹出的窗口中设置对应接口的API",-1)],_a=Re("li",null,"如开启后无法使用HTTPS访问，请检查安全组是否正确放行443端口",-1),wa=ke({__name:"index",setup:function(e){return function(e,t){var n=T,r=Pt;return je(),Xe(r,{class:"mt-16px"},{default:Oe((function(){return[pa,Re("div",null,[Re("li",null,[Ie(" Let's Encrypt 证书申请和续签限制 "),Ee(n,{href:"https://letsencrypt.org/zh-cn/docs/rate-limits/",target:"_blank"},{default:Oe((function(){return[Ie("点击查看")]})),_:1})]),va,ha,ma,ya]),Qe(Re("div",null,xa,512),[[Je,!1]]),_a]})),_:1})}}}),ba=function(e){return We("data-v-5dae7309"),e=e(),Ke(),e},ga={class:"w-150px"},Sa=ba((function(){return Re("p",{class:"text-desc mt-10px"}," * 如需申请通配符域名请勾选此项且不要在下方域名列表选中*.xxx.com ",-1)})),ka={class:"domain"},Ca={class:"flex items-center mb-10px"},Ma={class:"ml-10px text-desc"},Ta=ba((function(){return Re("div",{class:"icon"},null,-1)})),Pa={class:"tip"},La=ke({__name:"index",setup:function(e){var t=Pe("component-data").row,n=Pe(sr).getInfo,r=U(),o=Le(r).menu,u=r.getList,s=r.setSsl,c=Ue({types:"http",domain:[]}),d=Ue("手动解析"),f=Ue([]),p=Ue([{label:"手动解析",value:"手动解析"}]),v=z(),h=v.loading,m=v.setLoading,y=function(){var e=l(i().mark((function e(){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,he({site_id:t.site_id,types:c.value.types});case 4:n=e.sent,r=n.res,a=r.list,F(a)&&(f.value=a.map((function(e){return"*"===e.domain_string?{domain_string:"通配所有域名"}:{domain_string:e.domain_string}})));case 8:return e.prev=8,m(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])})));return function(){return e.apply(this,arguments)}}(),x=Ge({show:!1,title:"设置【】接口",data:{key:""}}),_=Ge({show:!1,title:"手动解析TXT记录",data:{list:"",domain:[],types:"",siteId:t.site_id,cancelModal:function(){_.show=!1}}}),w=Ge({show:!1,msg:""}),b=Ue(!1),S=function(){b.value?c.value.domain=[]:c.value.domain=f.value.map((function(e){return e.domain_string})),b.value=!b.value},k=function(e){var t=p.value.find((function(t){return t.value===e}));"手动解析"!==e&&(x.show=!0,x.title="设置【".concat(null==t?void 0:t.label,"】接口"),x.data.key=(null==t?void 0:t.value)||"")},C=function(){var e=l(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.value.domain.length){e.next=4;break}ve("至少需要有一个域名"),e.next=33;break;case 4:return e.prev=4,pe("正在申请证书..."),e.next=8,me(a(a({},rt(c.value)),{},{site_id:t.site_id}));case 8:if(r=e.sent,"http"!==c.value.types){e.next=19;break}return fe(r.res),e.next=13,null==n?void 0:n();case 13:return e.next=15,u();case 15:s(),o.value="current",e.next=23;break;case 19:_.show=!0,_.data.list=r.res,_.data.domain=c.value.domain,_.data.types=c.value.types;case 23:pe("正在申请证书...").close(),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(4),pe("正在申请证书...").close(),w.show=!0,w.msg=e.t0.res;case 31:return e.prev=31,e.finish(31);case 33:case"end":return e.stop()}}),e,null,[[4,26,31,33]])})));return function(){return e.apply(this,arguments)}}();return y(),function(e,t){var n=wt,r=_t,a=q,i=bt,o=lt,l=g,u=Lt,s=At,v=ut,m=K,M=J,T=Y,P=E,L=ye,A=xe;return je(),De("div",null,[Ee(T,{model:$e(c),"label-placement":"left","label-width":"100"},{default:Oe((function(){return[Ee(a,{label:"验证方式"},{default:Oe((function(){return[Ee(r,{value:$e(c).types,"onUpdate:value":[t[0]||(t[0]=function(e){return $e(c).types=e}),y]},{default:Oe((function(){return[Ee(n,{value:"http"},{default:Oe((function(){return[Ie("文件验证")]})),_:1}),Ee(n,{class:"ml-15px",value:"dns"},{default:Oe((function(){return[Ie(" DNS验证（支持通配符） ")]})),_:1})]})),_:1},8,["value"])]})),_:1}),"dns"===$e(c).types?(je(),Xe(a,{key:0,label:"选择DNS接口"},{default:Oe((function(){return[Re("div",null,[Re("div",ga,[Ee(i,{value:$e(d),"onUpdate:value":[t[1]||(t[1]=function(e){return Fe(d)?d.value=e:null}),k],options:$e(p)},null,8,["value","options"])]),Qe(Re("div",null,[Ee(o,{class:"mt-10px"},{default:Oe((function(){return[Ie(" 自动组合泛域名 ")]})),_:1}),Sa],512),[[Je,!1]])])]})),_:1})):ze("",!0),Ee(a,{label:"域名"},{default:Oe((function(){return[Re("div",ka,[Re("div",Ca,[Ee(l,{size:"tiny",secondary:"",strong:"",onClick:S},{default:Oe((function(){return[Ie(Be($e(b)?"取消全选":"全选"),1)]})),_:1}),Re("div",Ma,"已选 "+Be($e(c).domain.length)+" 项",1)]),Ee(M,{style:{"max-height":"100px"}},{default:Oe((function(){return[Ee(m,{show:$e(h)},{default:Oe((function(){return[Ee(v,{value:$e(c).domain,"onUpdate:value":t[2]||(t[2]=function(e){return $e(c).domain=e})},{default:Oe((function(){return[Ee(s,{"y-gap":8,cols:1},{default:Oe((function(){return[(je(!0),De(Ve,null,tt($e(f),(function(e,t){return je(),Xe(u,{key:t},{default:Oe((function(){return[Ee(o,{value:e.domain_string,label:e.domain_string},null,8,["value","label"])]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["show"])]})),_:1})])]})),_:1}),Ee(a,{label:" ","show-feedback":!1},{default:Oe((function(){return[Ee(l,{type:"primary",onClick:C},{default:Oe((function(){return[Ie("申请")]})),_:1})]})),_:1})]})),_:1},8,["model"]),Ee(wa,{value:$e(c).types,"onUpdate:value":t[3]||(t[3]=function(e){return $e(c).types=e})},null,8,["value"]),Ee(P,{show:$e(_).show,"onUpdate:show":t[4]||(t[4]=function(e){return $e(_).show=e}),title:$e(_).title,data:$e(_).data,"is-footer":!1,component:fa},null,8,["show","title","data"]),Ee(P,{show:$e(x).show,"onUpdate:show":t[5]||(t[5]=function(e){return $e(x).show=e}),data:$e(x).data,title:$e(x).title,"is-footer":!0,component:la},null,8,["show","data","title"]),Ee(A,{show:$e(w).show,"onUpdate:show":t[6]||(t[6]=function(e){return $e(w).show=e})},{default:Oe((function(){return[Ee(L,{class:"main-box",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:Oe((function(){return[Ta,Re("div",Pa,Be($e(w).msg),1)]})),_:1})]})),_:1},8,["show"])])}}}),Aa=S(La,[["__scopeId","data-v-5dae7309"]]),Ua={class:"w-660px min-h-560px"},$a=ke({__name:"index",setup:function(e){var t=Pe("component-data").row,n=U(),r=n.sslDetail,a=n.setSsl,i=Le(n).menu,o=Ce((function(){return r.ssl})),l=Ce((function(){return r.listen_ssl_port})),u=Ce((function(){return"default_wildcard_domain_server"===t.site_id}));return Te(sr,{info:o,listenPort:l}),a(),at((function(){1!==o.value.is_ssl&&"default_wildcard_domain_server"!==t.site_id?i.value="encrypt":i.value="current"})),function(e,t){var n=_e,r=Tt;return je(),De("div",Ua,[Ee(r,{value:$e(i),"onUpdate:value":t[0]||(t[0]=function(e){return Fe(i)?i.value=e:null}),class:"h-full"},{default:Oe((function(){return[Ee(n,{name:"current"},{tab:Oe((function(){return[Re("div",null,[Re("span",null,Be(e.$t("Site.SslModal.Menu1")),1),Re("span",{class:it(1===$e(o).is_ssl?"text-primary":"text-error")}," ["+Be(1===$e(o).is_ssl?e.$t("Site.SslModal.Deployed"):e.$t("Site.SslModal.NonDeployed"))+"] ",3)])]})),default:Oe((function(){return[Ee(zr)]})),_:1}),$e(u)?ze("",!0):(je(),Xe(n,{key:0,name:"encrypt",tab:"Let's Encrypt"},{default:Oe((function(){return[Ee(Aa)]})),_:1})),Ee(n,{name:"list",tab:e.$t("Site.SslModal.Menu2")},{default:Oe((function(){return[Ee(ia)]})),_:1},8,["tab"])]})),_:1},8,["value"])])}}}),ja=function(e){return We("data-v-e0de327c"),e=e(),Ke(),e},Da={class:"w-540px"},Ra={class:"p-24px pb-8px"},Ba={class:"flex-1"},Ea={class:"flex items-center h-32px"},Oa={class:"mt-8px"},Ia={class:"flex-1"},za={class:"flex items-center h-32px"},Na=ja((function(){return Re("li",{style:{color:"red"}},"爬虫防护 当前为测试功能",-1)})),Fa=ja((function(){return Re("li",null,[Re("strong",null,"效果："),Ie("该功能开启后、会将网页进行随机加密、每次访问的网页将不一样、有效防止爬虫 ")],-1)})),Wa=ja((function(){return Re("li",null,[Re("strong",null,"影响："),Ie("开启后会导致比之前流量增加1倍、在某些及特殊情况下会导致网页打不开 ")],-1)})),Ka=ja((function(){return Re("li",null,[Re("strong",null,"建议："),Ie("测试业务可以尝试开启，但线上业务建议不要开启。")],-1)})),qa={class:"footer-btn"},Ha=ke({__name:"index",emits:["close"],setup:function(e,t){var n=t.emit,r=Pe("component-data").row,o=U().getList,u=Ue(),s=Ge({encryption:{open:!1,type:"default",text:""}}),c=function(){n("close")},d=function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.encryption.open||"text"!==s.encryption.type||s.encryption.text){e.next=2;break}return e.abrupt("return",ne("请输入自定义网页跳转内容"));case 2:return e.next=4,we(a({watermark:{open:!1,type:"default",text:""},site_id:r.site_id},s));case 4:return o(),c(),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.encryption.open=r.waf_info.crawler.encryption.open,s.encryption.type=r.waf_info.crawler.encryption.type,s.encryption.text=r.waf_info.crawler.encryption.text,function(e,t){var n=mt,r=wt,a=_t,i=Q,o=q,l=kt,f=Y,p=T,v=Pt,h=g;return je(),De("div",Da,[Re("div",Ra,[Ee(f,{ref_key:"formRef",ref:u,model:$e(s),"label-width":"102","label-placement":"left","require-mark-placement":"left"},{default:Oe((function(){return[Ee(o,{label:"动态加密",prop:"encryption.open"},{default:Oe((function(){return[Re("div",Ba,[Re("div",Ea,[Ee(n,{value:$e(s).encryption.open,"onUpdate:value":t[0]||(t[0]=function(e){return $e(s).encryption.open=e})},null,8,["value"])]),Qe(Re("div",Oa,[Re("div",Ia,[Re("div",za,[Ee(a,{value:$e(s).encryption.type,"onUpdate:value":t[1]||(t[1]=function(e){return $e(s).encryption.type=e})},{default:Oe((function(){return[Ee(r,{value:"default"},{default:Oe((function(){return[Ie("默认(带有宝塔标识)")]})),_:1}),Ee(r,{value:"text"},{default:Oe((function(){return[Ie("自定义网页跳转内容")]})),_:1})]})),_:1},8,["value"])])]),Ee(l,null,{default:Oe((function(){return[Qe(Re("div",null,[Ee(o,{prop:"encryption.text"},{default:Oe((function(){return[Ee(i,{value:$e(s).encryption.text,"onUpdate:value":t[2]||(t[2]=function(e){return $e(s).encryption.text=e}),placeholder:"例如:www.bt.cn网页正在解密中,请稍后"},null,8,["value"])]})),_:1})],512),[[Je,"text"===$e(s).encryption.type]])]})),_:1})],512),[[Je,$e(s).encryption.open]])])]})),_:1})]})),_:1},8,["model"]),Ee(v,{class:"mt-16px"},{default:Oe((function(){return[Na,Fa,Wa,Ka,Re("li",null,[Ee(p,{href:"https://www.bt.cn/bbs/thread-139641-1-1.html",target:"_blank"},{default:Oe((function(){return[Ie(" 教程 ")]})),_:1})])]})),_:1})]),Re("div",qa,[Ee(h,{size:"small",class:"cancel-btn",color:"#cbcbcb",onClick:c},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Cancel")),1)]})),_:1}),Ee(h,{type:"primary",size:"small",onClick:d},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Confirm")),1)]})),_:1})])])}}}),Va=S(Ha,[["__scopeId","data-v-e0de327c"]]),Ga=function(e){return We("data-v-2682a8b6"),e=e(),Ke(),e},Xa={class:"w-540px"},Qa={class:"p-24px pb-8px"},Ya={class:"flex justify-between items-center"},Ja={class:"flex-1"},Za={class:"flex items-center h-32px"},ei=Ga((function(){return Re("li",{style:{color:"red"}},"等候室/限流 当前为测试功能",-1)})),ti=Ga((function(){return Re("li",null,[Re("strong",null,"效果："),Ie("等待室开启后可以解决部分消峰问题")],-1)})),ni=Ga((function(){return Re("li",null,[Re("strong",null,"影响："),Ie("低版本的浏览器会存在一直转圈的情况")],-1)})),ri=Ga((function(){return Re("li",null,[Re("strong",null,"建议："),Ie("测试业务可以尝试开启，但线上业务建议不要开启。")],-1)})),ai=Ga((function(){return Re("li",null,"默认策略:网站实时流量超1次才会触发。最多50个用户同时访问、超时时间10分钟。",-1)})),ii=Ga((function(){return Re("li",null,"QPS为0的时候则就不会检测QPS的次数",-1)})),oi={class:"footer-btn"},li=ke({__name:"index",emits:["close"],setup:function(e,t){var n=t.emit,r=Pe("component-data").row,o=U().getList,u=Ue(),s=Ge({wait:{open:!1,type:"default",text:"",time:10,user:50,qps:1},open:!1}),c=function(){n("close")},d=function(){var e=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.wait.open||"text"!==s.wait.type||s.wait.text){e.next=2;break}return e.abrupt("return",ne("请输入自定义网页标识"));case 2:return e.next=4,be(a({site_id:r.site_id},s));case 4:return o(),c(),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.wait.open=r.waf_info.wait.open,s.wait.type=r.waf_info.wait.type,s.wait.text=r.waf_info.wait.text,s.wait.time=r.waf_info.wait.time,s.wait.user=r.waf_info.wait.user,s.wait.qps=r.waf_info.wait.qps,s.open=r.waf_info.cc.open,function(e,t){var n=mt,r=q,a=Ct,i=wt,o=_t,l=Q,f=kt,p=Y,v=T,h=Pt,m=g;return je(),De("div",Xa,[Re("div",Qa,[Ee(p,{ref_key:"formRef",ref:u,model:$e(s),"label-width":"102","label-placement":"left","require-mark-placement":"left"},{default:Oe((function(){return[Ee(r,{label:"CC拦截",prop:"open"},{default:Oe((function(){return[Ee(n,{value:$e(s).open,"onUpdate:value":t[0]||(t[0]=function(e){return $e(s).open=e})},null,8,["value"])]})),_:1}),Ee(r,{label:"等候室开关",prop:"wait.open"},{default:Oe((function(){return[Ee(n,{value:$e(s).wait.open,"onUpdate:value":t[1]||(t[1]=function(e){return $e(s).wait.open=e})},null,8,["value"])]})),_:1}),Qe(Ee(r,{label:"最大用户数"},{default:Oe((function(){return[Re("div",Ya,[Ee(a,{value:$e(s).wait.user,"onUpdate:value":t[2]||(t[2]=function(e){return $e(s).wait.user=e}),"show-button":!1,class:"w-12 mr-1"},null,8,["value"]),Ie(" 活跃超时时间 "),Ee(a,{value:$e(s).wait.time,"onUpdate:value":t[3]||(t[3]=function(e){return $e(s).wait.time=e}),"show-button":!1,class:"w-10 mx-1"},null,8,["value"]),Ie(" 分钟, QPS超过 "),Ee(a,{value:$e(s).wait.qps,"onUpdate:value":t[4]||(t[4]=function(e){return $e(s).wait.qps=e}),"show-button":!1,class:"w-12 mx-1"},null,8,["value"]),Ie(" 次 才会触发 ")])]})),_:1},512),[[Je,$e(s).wait.open]]),Qe(Ee(r,{label:"标识页面"},{default:Oe((function(){return[Re("div",null,[Re("div",Ja,[Re("div",Za,[Ee(o,{value:$e(s).wait.type,"onUpdate:value":t[5]||(t[5]=function(e){return $e(s).wait.type=e})},{default:Oe((function(){return[Ee(i,{value:"default"},{default:Oe((function(){return[Ie("默认(带有宝塔标识6KB)")]})),_:1}),Ee(i,{value:"text"},{default:Oe((function(){return[Ie("自定义网页内容(3KB)")]})),_:1})]})),_:1},8,["value"])])]),Ee(f,null,{default:Oe((function(){return[Qe(Re("div",null,[Ee(r,{prop:"encryption.text"},{default:Oe((function(){return[Ee(l,{value:$e(s).wait.text,"onUpdate:value":t[6]||(t[6]=function(e){return $e(s).wait.text=e}),placeholder:"例如:网站在线人数过多，需排队"},null,8,["value"])]})),_:1})],512),[[Je,"text"===$e(s).wait.type]])]})),_:1})])]})),_:1},512),[[Je,$e(s).wait.open]])]})),_:1},8,["model"]),Ee(h,{class:"mt-16px"},{default:Oe((function(){return[ei,ti,ni,ri,ai,ii,Re("li",null,[Ee(v,{href:"https://www.bt.cn/bbs/thread-141331-1-1.html",target:"_blank"},{default:Oe((function(){return[Ie(" 教程 ")]})),_:1})])]})),_:1})]),Re("div",oi,[Ee(m,{size:"small",class:"cancel-btn",color:"#cbcbcb",onClick:c},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Cancel")),1)]})),_:1}),Ee(m,{type:"primary",size:"small",onClick:d},{default:Oe((function(){return[Ie(Be(e.$t("Public.Btn.Confirm")),1)]})),_:1})])])}}}),ui=S(li,[["__scopeId","data-v-2682a8b6"]]);e("default",ke({__name:"index",setup:function(e){var t=U(),n=t.table,a=t.search,i=t.getList,l=t.setSite,u=Le(t).add,s=Ae().t,c=Ge({show:!1,title:"",data:{row:Ue()}}),d=Ge({show:!1,title:s("Site.AddModal.Title")}),f=function(){d.show=!0},p=Ge({show:!1,title:"",data:{row:Ue()}}),v=Ge({show:!1,title:"",data:{row:Ue()}});return Te(Bt,{onAddSite:f,showSslModal:function(e){c.title=s("Site.SslModal.Title",{name:e.site_name}),c.data.row=e,c.show=!0,l(e)},showCrawlerModal:function(e){p.title="[".concat(e.site_name,"]爬虫防护"),p.data.row=e,p.show=!0},showWaitModal:function(e){v.title="[".concat(e.site_name,"]CC拦截"),v.data.row=e,v.show=!0}}),He((function(){i(),u.value&&(u.value=!1,setTimeout((function(){f()}),400))})),function(e,t){var l=Se,u=ge,s=E,f=o,h=r,m=ot("en");return je(),Xe(h,null,{default:Oe((function(){return[Qe(Ee(Nt,null,null,512),[[m]]),Ee(f,null,{toolsLeft:Oe((function(){return[Ee(Gt)]})),toolsRight:Oe((function(){return[Ee(l,{value:$e(a).site_name,"onUpdate:value":t[0]||(t[0]=function(e){return $e(a).site_name=e}),width:"300",placeholder:e.$t("Site.List.Search"),onSearch:t[1]||(t[1]=function(e){return $e(i)()})},null,8,["value","placeholder"])]})),content:Oe((function(){return[Ee(on)]})),pageRight:Oe((function(){return[Ee(u,{page:$e(a).p,"onUpdate:page":t[2]||(t[2]=function(e){return $e(a).p=e}),"page-size":$e(a).p_size,"onUpdate:pageSize":t[3]||(t[3]=function(e){return $e(a).p_size=e}),"store-key":"site","item-count":$e(n).total,onRefresh:t[4]||(t[4]=function(e){return $e(i)()})},null,8,["page","page-size","item-count"])]})),modal:Oe((function(){return[Ee(s,{show:$e(d).show,"onUpdate:show":t[5]||(t[5]=function(e){return $e(d).show=e}),title:$e(d).title,padding:"0",component:ur},null,8,["show","title"]),Ee(s,{show:$e(c).show,"onUpdate:show":t[6]||(t[6]=function(e){return $e(c).show=e}),title:$e(c).title,data:$e(c).data,component:$a},null,8,["show","title","data"]),Ee(s,{show:$e(p).show,"onUpdate:show":t[7]||(t[7]=function(e){return $e(p).show=e}),title:$e(p).title,padding:"0",data:$e(p).data,component:Va},null,8,["show","title","data"]),Ee(s,{show:$e(v).show,"onUpdate:show":t[8]||(t[8]=function(e){return $e(v).show=e}),title:$e(v).title,padding:"0",data:$e(v).data,component:ui},null,8,["show","title","data"])]})),_:1})]})),_:1})}}}))}}}))}();
